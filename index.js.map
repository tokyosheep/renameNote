{"version":3,"sources":["webpack://renameNote/./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack://renameNote/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://renameNote/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://renameNote/./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://renameNote/./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://renameNote/./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://renameNote/./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack://renameNote/./node_modules/ajv-formats/dist/formats.js","webpack://renameNote/./node_modules/ajv-formats/dist/index.js","webpack://renameNote/./node_modules/ajv-formats/dist/limit.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/ajv.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/compile/codegen/code.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/compile/codegen/index.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/compile/codegen/scope.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/compile/errors.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/compile/index.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/compile/names.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/compile/ref_error.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/compile/resolve.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/compile/rules.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/compile/util.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/applicability.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/boolSchema.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/dataType.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/defaults.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/index.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/keyword.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/subschema.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/core.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/runtime/equal.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/runtime/ucs2length.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/runtime/validation_error.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/additionalItems.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/allOf.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/anyOf.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/contains.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/dependencies.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/if.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/index.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/items.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/items2020.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/not.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/oneOf.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/patternProperties.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/prefixItems.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/properties.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/propertyNames.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/thenElse.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/code.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/core/id.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/core/index.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/core/ref.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/discriminator/index.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/discriminator/types.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/draft7.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/format/format.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/format/index.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/metadata.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/const.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/enum.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/index.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/limitItems.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/limitLength.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/limitNumber.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/limitProperties.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/multipleOf.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/pattern.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/required.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/uniqueItems.js","webpack://renameNote/./node_modules/ajv-formats/node_modules/json-schema-traverse/index.js","webpack://renameNote/./node_modules/atomically/dist/consts.js","webpack://renameNote/./node_modules/atomically/dist/index.js","webpack://renameNote/./node_modules/atomically/dist/utils/attemptify.js","webpack://renameNote/./node_modules/atomically/dist/utils/fs.js","webpack://renameNote/./node_modules/atomically/dist/utils/fs_handlers.js","webpack://renameNote/./node_modules/atomically/dist/utils/lang.js","webpack://renameNote/./node_modules/atomically/dist/utils/retryify.js","webpack://renameNote/./node_modules/atomically/dist/utils/retryify_queue.js","webpack://renameNote/./node_modules/atomically/dist/utils/scheduler.js","webpack://renameNote/./node_modules/atomically/dist/utils/temp.js","webpack://renameNote/./mainProcess/connectStorage.ts","webpack://renameNote/./mainProcess/index.ts","webpack://renameNote/./node_modules/conf/dist/source/index.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/ajv.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/compile/codegen/code.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/compile/codegen/index.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/compile/codegen/scope.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/compile/errors.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/compile/index.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/compile/names.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/compile/ref_error.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/compile/resolve.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/compile/rules.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/compile/util.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/compile/validate/applicability.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/compile/validate/boolSchema.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/compile/validate/dataType.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/compile/validate/defaults.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/compile/validate/index.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/compile/validate/keyword.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/compile/validate/subschema.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/core.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/runtime/equal.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/runtime/ucs2length.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/runtime/validation_error.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/additionalItems.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/allOf.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/anyOf.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/contains.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/dependencies.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/if.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/index.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/items.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/items2020.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/not.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/oneOf.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/patternProperties.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/prefixItems.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/properties.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/propertyNames.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/applicator/thenElse.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/code.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/core/id.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/core/index.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/core/ref.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/discriminator/index.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/discriminator/types.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/draft7.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/format/format.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/format/index.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/metadata.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/validation/const.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/validation/enum.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/validation/index.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/validation/limitItems.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/validation/limitLength.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/validation/limitNumber.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/validation/limitProperties.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/validation/multipleOf.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/validation/pattern.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/validation/required.js","webpack://renameNote/./node_modules/conf/node_modules/ajv/dist/vocabularies/validation/uniqueItems.js","webpack://renameNote/./node_modules/conf/node_modules/dot-prop/index.js","webpack://renameNote/./node_modules/conf/node_modules/json-schema-traverse/index.js","webpack://renameNote/./node_modules/conf/node_modules/semver/classes/comparator.js","webpack://renameNote/./node_modules/conf/node_modules/semver/classes/range.js","webpack://renameNote/./node_modules/conf/node_modules/semver/classes/semver.js","webpack://renameNote/./node_modules/conf/node_modules/semver/functions/clean.js","webpack://renameNote/./node_modules/conf/node_modules/semver/functions/cmp.js","webpack://renameNote/./node_modules/conf/node_modules/semver/functions/coerce.js","webpack://renameNote/./node_modules/conf/node_modules/semver/functions/compare-build.js","webpack://renameNote/./node_modules/conf/node_modules/semver/functions/compare-loose.js","webpack://renameNote/./node_modules/conf/node_modules/semver/functions/compare.js","webpack://renameNote/./node_modules/conf/node_modules/semver/functions/diff.js","webpack://renameNote/./node_modules/conf/node_modules/semver/functions/eq.js","webpack://renameNote/./node_modules/conf/node_modules/semver/functions/gt.js","webpack://renameNote/./node_modules/conf/node_modules/semver/functions/gte.js","webpack://renameNote/./node_modules/conf/node_modules/semver/functions/inc.js","webpack://renameNote/./node_modules/conf/node_modules/semver/functions/lt.js","webpack://renameNote/./node_modules/conf/node_modules/semver/functions/lte.js","webpack://renameNote/./node_modules/conf/node_modules/semver/functions/major.js","webpack://renameNote/./node_modules/conf/node_modules/semver/functions/minor.js","webpack://renameNote/./node_modules/conf/node_modules/semver/functions/neq.js","webpack://renameNote/./node_modules/conf/node_modules/semver/functions/parse.js","webpack://renameNote/./node_modules/conf/node_modules/semver/functions/patch.js","webpack://renameNote/./node_modules/conf/node_modules/semver/functions/prerelease.js","webpack://renameNote/./node_modules/conf/node_modules/semver/functions/rcompare.js","webpack://renameNote/./node_modules/conf/node_modules/semver/functions/rsort.js","webpack://renameNote/./node_modules/conf/node_modules/semver/functions/satisfies.js","webpack://renameNote/./node_modules/conf/node_modules/semver/functions/sort.js","webpack://renameNote/./node_modules/conf/node_modules/semver/functions/valid.js","webpack://renameNote/./node_modules/conf/node_modules/semver/index.js","webpack://renameNote/./node_modules/conf/node_modules/semver/internal/constants.js","webpack://renameNote/./node_modules/conf/node_modules/semver/internal/debug.js","webpack://renameNote/./node_modules/conf/node_modules/semver/internal/identifiers.js","webpack://renameNote/./node_modules/conf/node_modules/semver/internal/parse-options.js","webpack://renameNote/./node_modules/conf/node_modules/semver/internal/re.js","webpack://renameNote/./node_modules/conf/node_modules/semver/ranges/gtr.js","webpack://renameNote/./node_modules/conf/node_modules/semver/ranges/intersects.js","webpack://renameNote/./node_modules/conf/node_modules/semver/ranges/ltr.js","webpack://renameNote/./node_modules/conf/node_modules/semver/ranges/max-satisfying.js","webpack://renameNote/./node_modules/conf/node_modules/semver/ranges/min-satisfying.js","webpack://renameNote/./node_modules/conf/node_modules/semver/ranges/min-version.js","webpack://renameNote/./node_modules/conf/node_modules/semver/ranges/outside.js","webpack://renameNote/./node_modules/conf/node_modules/semver/ranges/simplify.js","webpack://renameNote/./node_modules/conf/node_modules/semver/ranges/subset.js","webpack://renameNote/./node_modules/conf/node_modules/semver/ranges/to-comparators.js","webpack://renameNote/./node_modules/conf/node_modules/semver/ranges/valid.js","webpack://renameNote/./node_modules/debounce-fn/index.js","webpack://renameNote/./node_modules/debounce-fn/node_modules/mimic-fn/index.js","webpack://renameNote/./node_modules/electron-store/index.js","webpack://renameNote/./node_modules/env-paths/index.js","webpack://renameNote/./node_modules/fast-deep-equal/index.js","webpack://renameNote/./node_modules/is-obj/index.js","webpack://renameNote/./node_modules/lru-cache/index.js","webpack://renameNote/./node_modules/mimic-fn/index.js","webpack://renameNote/./node_modules/onetime/index.js","webpack://renameNote/./node_modules/p-limit/index.js","webpack://renameNote/./node_modules/p-try/index.js","webpack://renameNote/./node_modules/pkg-up/index.js","webpack://renameNote/./node_modules/pkg-up/node_modules/find-up/index.js","webpack://renameNote/./node_modules/pkg-up/node_modules/locate-path/index.js","webpack://renameNote/./node_modules/pkg-up/node_modules/p-locate/index.js","webpack://renameNote/./node_modules/pkg-up/node_modules/path-exists/index.js","webpack://renameNote/./node_modules/uri-js/dist/es5/uri.all.js","webpack://renameNote/./node_modules/yallist/iterator.js","webpack://renameNote/./node_modules/yallist/yallist.js","webpack://renameNote/external \"assert\"","webpack://renameNote/external \"crypto\"","webpack://renameNote/external \"electron\"","webpack://renameNote/external \"events\"","webpack://renameNote/external \"fs\"","webpack://renameNote/external \"os\"","webpack://renameNote/external \"path\"","webpack://renameNote/external \"util\"","webpack://renameNote/webpack/bootstrap","webpack://renameNote/webpack/runtime/compat get default export","webpack://renameNote/webpack/runtime/define property getters","webpack://renameNote/webpack/runtime/hasOwnProperty shorthand","webpack://renameNote/webpack/runtime/node module decorator","webpack://renameNote/webpack/startup"],"names":["module","exports","arr","len","length","i","arr2","Array","__esModule","arrayLikeToArray","isArray","obj","key","value","Object","defineProperty","enumerable","configurable","writable","iter","Symbol","iterator","from","TypeError","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","o","minLen","n","prototype","toString","call","slice","constructor","name","test","fmtDef","validate","compare","formatNames","fastFormats","fullFormats","date","compareDate","time","compareTime","str","dateTime","split","DATE_TIME_SEPARATOR","compareDateTime","duration","uri","NOT_URI_FRAGMENT","URI","url","email","hostname","ipv4","ipv6","regex","Z_ANCHOR","RegExp","e","uuid","byte","int32","type","Number","isInteger","int64","float","validateNumber","double","password","binary","keys","DATE","DAYS","matches","exec","year","month","day","isLeapYear","d1","d2","TIME","withTimeZone","hour","minute","second","timeZone","t1","t2","a1","a2","dt1","dt2","res","undefined","formats_1","limit_1","codegen_1","fullName","Name","fastName","formatsPlugin","ajv","opts","keywords","addFormats","formats","exportName","mode","default","list","fs","_a","_b","code","_","f","addFormat","get","Error","formatLimitDefinition","ajv_1","ops","operators","KWDs","formatMaximum","okStr","ok","LTE","fail","GT","formatMinimum","GTE","LT","formatExclusiveMaximum","formatExclusiveMinimum","error","message","keyword","schemaCode","params","schemaType","$data","cxt","gen","data","it","self","validateFormats","fCxt","KeywordCxt","RULES","all","format","definition","compareCode","fmt","fmts","scopeValue","ref","const","fail$data","or","validate$DataFormat","schema","getProperty","validateFormat","dependencies","addKeyword","CodeGen","nil","stringify","core_1","draft7_1","discriminator_1","draft7MetaSchema","META_SUPPORT_DATA","META_SCHEMA_ID","Ajv","_addVocabularies","super","forEach","v","this","addVocabulary","discriminator","_addDefaultMetaSchema","meta","metaSchema","$dataMetaSchema","addMetaSchema","refs","defaultMeta","getSchema","validate_1","regexpCode","safeStringify","strConcat","addCodeArg","_Code","IDENTIFIER","_CodeOrName","s","emptyStr","_items","item","_str","reduce","c","_names","names","strs","args","push","plus","expr","mergeExprItems","splice","optimize","arg","x","join","a","b","JSON","replace","c1","c2","rx","and","not","varKinds","ValueScopeName","ValueScope","Scope","code_1","scope_1","code_2","scope_2","EQ","NEQ","NOT","OR","AND","ADD","Node","optimizeNodes","optimizeNames","_constants","Def","varKind","rhs","render","es5","_n","var","constants","optimizeExpr","Assign","lhs","sideEffects","addExprNames","AssignOp","op","Label","label","Break","Throw","AnyCode","ParentNode","nodes","subtractNames","addNames","BlockNode","Root","Else","kind","If","condition","else","cond","ns","For","ForLoop","iteration","ForRange","to","ForIter","loop","iterable","Func","async","Return","Try","catch","finally","Catch","Finally","replaceName","some","items","par","extScope","_values","_blockStarts","lines","_extScope","_scope","parent","_nodes","_root","prefix","scopeName","prefixOrName","Set","add","getScopeValue","keyOrRef","getValue","scopeRefs","scopeCode","_def","nameOrPrefix","constant","toName","_leafNode","_constant","let","assign","object","keyValues","if","thenBody","elseBody","_blockNode","endIf","elseIf","_elseNode","_endBlockNode","_for","node","forBody","endFor","for","forRange","forOf","forIn","ownProperties","break","return","try","tryBody","catchCode","finallyCode","_currNode","throw","block","body","nodeCount","endBlock","pop","toClose","func","funcBody","endFunc","N1","N2","andCode","mappend","orCode","y","UsedValueState","ValueError","prefixes","_prefixes","_parent","_newName","_nameGroup","index","has","nameStr","setValue","property","itemIndex","scopePath","line","scope","valueKey","vs","_name","Map","set","values","_reduceValues","usedValues","getCode","valueCode","nameSet","Started","def","Completed","extendErrors","resetErrorsCount","reportExtraError","reportError","keyword$DataError","keywordError","util_1","names_1","addError","errObj","err","vErrors","errors","returnErrors","errs","validateName","schemaEnv","$async","ValidationError","errorPaths","overrideAllErrors","compositeRule","allErrors","errorObjectCode","errsCount","schemaValue","instancePath","errorPath","errSchemaPath","verbose","E","schemaPath","propertyName","parentSchema","createErrors","errorInstancePath","errorSchemaPath","topSchemaRef","messages","extraErrorProps","errorObject","instPath","getErrorPath","Type","Str","schPath","resolveSchema","getCompilingSchema","resolveRef","compileSchema","SchemaEnv","validation_error_1","resolve_1","env","dynamicAnchors","schemaId","root","baseId","normalizeId","localRefs","sch","_sch","rootId","getFullPath","_ValidationError","schemaCxt","parentData","parentDataProperty","dataNames","dataPathArr","dataLevel","dataTypes","definedProperties","source","jtd","sourceCode","_compilations","validateFunctionCode","validateCode","process","Function","makeValidate","scopeValues","unevaluated","props","evaluated","dynamicProps","dynamicItems","logger","delete","inlineOrCompile","inlineRef","inlineRefs","schEnv","s2","s1","resolve","schemas","p","parse","refPath","_getFullPath","getJsonPointer","id","schOrRef","schId","resolveUrl","schOrFunc","PREVENT_SCOPE_CHANGE","parsedRef","fragment","part","unescapeFragment","$ref","schemaHasRulesButRef","valCxt","rootData","json","jsonPos","jsonLen","jsonPart","MissingRefError","msg","missingRef","missingSchema","getSchemaRefs","equal","traverse","SIMPLE_INLINED","limit","hasRef","countKeys","REF_KEYWORDS","count","Infinity","eachItem","normalize","serialize","TRAILING_SLASH_HASH","ANCHOR","baseIds","pathPrefix","schemaRefs","allKeys","jsonPtr","parentJsonPtr","fullPath","addRef","ambiguos","checkAmbiguosRef","addAnchor","anchor","$anchor","$dynamicAnchor","sch1","sch2","getRules","isJSONType","jsonTypes","groups","number","rules","string","array","types","integer","boolean","null","post","checkStrictMode","useFunc","setEvaluated","evaluatedPropsToName","mergeEvaluated","unescapeJsonPointer","escapeJsonPointer","escapeFragment","schemaRefOrVal","schemaHasRules","checkUnknownRules","alwaysValidSchema","toHash","strictSchema","makeMergeEvaluated","mergeNames","mergeToName","mergeValues","resultToName","ps","hash","decodeURIComponent","encodeURIComponent","xs","Math","max","snippets","warn","dataProp","dataPropType","jsPropertySyntax","isNumber","Num","shouldUseGroup","group","rule","shouldUseRule","implements","kwd","schemaHasRulesForType","boolOrEmptySchema","topBoolOrEmptySchema","errors_1","boolError","falseSchemaError","valid","reportTypeError","checkDataTypes","checkDataType","coerceAndCheckDataType","getJSONTypes","getSchemaTypes","DataType","rules_1","applicability_1","ts","every","includes","nullable","coerceTo","coerceTypes","filter","t","COERCIBLE","coerceToTypes","checkTypes","wrongType","strictNumbers","Wrong","dataType","coerced","coerceSpecificType","assignParentData","coerceData","strictNums","correct","Correct","numCond","_cond","notObj","typeError","getTypeErrorContext","assignDefaults","assignDefault","prop","defaultValue","childData","useDefaults","ty","properties","getData","boolSchema_1","dataType_1","dataType_2","defaults_1","keyword_1","subschema_1","validateFunction","funcSourceUrl","dynamicRef","destructureValCxtES5","destructureValCxt","subschemaCode","isSchemaObj","checkKeywords","schemaCxtHasRules","$comment","commentKeyword","updateContext","checkAsyncSchema","typeAndKeywords","subSchemaObjCode","ignoreKeywordsWithRef","checkRefsAndKeywords","schemaKeywords","rootName","typeErrors","groupKeywords","iterateKeywords","strictTypes","includesType","strictTypesError","checkContextTypes","allowUnionTypes","checkMultipleTypes","hasApplicableType","checkKeywordTypes","checkStrictTypes","keywordCode","schTs","kwdT","checkNoDefault","resetEvaluated","assignEvaluated","returnResults","topSchemaObjCode","validateKeywordUsage","validSchemaType","allowUndefined","trackErrors","result","successAction","failAction","failResult","pass","invalid$data","append","errorParams","setParams","_error","$dataError","reset","block$data","codeBlock","$dataValid","check$data","validateSchema","st","wrong$DataType","validateSchemaRef","invalid$DataSchema","subschema","appl","getSubschema","extendSubschemaData","extendSubschemaMode","nextContext","mergeValidEvaluated","ruleType","funcKeywordCode","macroKeywordCode","compile","JSON_POINTER","RELATIVE_JSON_POINTER","jsonPointer","up","errorMsg","segments","segment","pointerType","modifyData","useKeyword","macroSchema","macro","schemaRef","checkAsyncKeyword","validateRef","assignValid","_await","passCxt","passContext","passSchema","callValidateCode","modifying","reportErrs","ruleErrs","validateAsync","validateErrs","validateSync","addErrs","deps","hasOwnProperty","errorsText","schemaProp","dpType","dataContextProps","_nextData","jtdDiscriminator","jtdMetadata","ref_error_1","compile_1","codegen_2","$dataRefSchema","META_IGNORE_OPTIONS","EXT_SCOPE_NAMES","removedOptions","errorDataPath","jsonPointers","extendRefs","missingRefs","processCode","strictDefaults","strictKeywords","uniqueItems","unknownFormats","cache","ajvErrors","deprecatedOptions","unicode","requiredOptions","_c","_d","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","_r","_s","_t","_u","_v","_w","_x","strict","_optz","strictTuples","strictRequired","loopRequired","loopEnum","addUsedSchema","unicodeRegExp","int32range","_loading","_cache","noLogs","console","log","getLogger","formatOpt","checkOptions","_metaOpts","getMetaSchemaOptions","addInitialFormats","addInitialKeywords","addInitialSchemas","_dataRefSchema","$id","schemaKeyRef","_meta","_addSchema","_compileSchemaEnv","compileAsync","loadSchema","runCompileAsync","_schema","loadMetaSchema","$schema","_compileAsync","checkLoaded","loadMissingSchema","_loadSchema","addSchema","_validateSchema","_checkUnique","throwOrLogError","keyRef","getSchEnv","removeSchema","_removeAllSchemas","clear","cacheKey","definitions","kwdOrDef","checkKeyword","addRule","keywordMetaschema","k","getKeyword","removeKeyword","findIndex","separator","dataVar","map","text","keywordsJsonPointers","seg","schemaOrData","startsWith","_compileMetaSchema","currentOpts","checkOpts","options","opt","optsSchemas","defs","metaOpts","KEYWORD_NAME","ruleGroup","find","before","addBeforeRule","_rule","$dataRef","anyOf","ucs2length","pos","charCodeAt","validation","validateAdditionalItems","validateItems","additionalProperty","removeAdditional","allSchemaProperties","patProps","patternProperties","deleteAdditional","additionalPropertyCode","applyAdditionalSchema","definedProp","propsSchema","isOwnProperty","usePattern","isAdditional","schCxt","validateUnion","min","minContains","maxContains","next","schValid","checkLimits","_valid","validateSchemaDeps","validatePropertyDeps","depsCount","property_ies","missingProperty","propDeps","schDeps","propertyDeps","schemaDeps","splitDependencies","missing","hasProperty","propertyInData","depProp","checkReportMissingProp","checkMissingProp","reportMissingProp","ifClause","then","hasThen","hasSchema","hasElse","validateIf","validateClause","additionalItems_1","prefixItems_1","items_1","items2020_1","contains_1","dependencies_1","propertyNames_1","additionalProperties_1","properties_1","patternProperties_1","not_1","anyOf_1","oneOf_1","allOf_1","if_1","thenElse_1","draft2020","applicator","validateTuple","validateArray","extraItems","schArr","l","fullTuple","minItems","maxItems","checkStrictTuple","prefixItems","passing","util_2","patterns","alwaysValidPatterns","checkProperties","allowMatchingProperties","checkMatchingProperties","pat","validateProperties","alwaysValid","validatePatternProperties","additionalProperties","allProps","hasDefault","applyPropertySchema","schemaProperties","noPropertyInData","hasPropFunc","schemaMap","context","dataAndSchema","pattern","u","validArr","notValid","id_1","ref_1","core","callRef","getValidate","callRootRef","schOrEnv","callValidate","schName","inlineRefSchema","addErrorsFrom","addEvaluatedFrom","schEvaluated","callAsyncRef","types_1","discrError","tagName","DiscrError","Tag","tag","oneOf","mapping","applyTagSchema","oneOfMapping","topRequired","hasRequired","tagRequired","propSch","addMappings","required","addMapping","enum","tagValue","getMapping","Mapping","validateMapping","validation_1","applicator_1","format_1","metadata_1","draft7Vocabularies","metadataVocabulary","contentVocabulary","fDef","fType","callFormat","validData","invalidFmt","formatDef","unknownMsg","unknownFormat","fmtType","fmtRef","getFormat","validCondition","equal_1","useLoop","eql","vSchema","equalCode","limitNumber_1","multipleOf_1","limitLength_1","pattern_1","limitProperties_1","required_1","limitItems_1","uniqueItems_1","const_1","enum_1","comp","ucs2length_1","maximum","minimum","exclusiveMaximum","exclusiveMinimum","prec","multipleOfPrecision","invalid","regExp","loopAllRequired","allErrorsMode","loopUntilMissing","exitOnErrorMode","requiredKey","j","itemTypes","loopN","indices","loopN2","outer","cb","_traverse","pre","rootSchema","parentKeyword","keyIndex","arrayKeywords","propsKeywords","skipKeywords","additionalItems","contains","propertyNames","allOf","$defs","multipleOf","maxLength","minLength","maxProperties","minProperties","NOOP","LIMIT_FILES_DESCRIPTORS","LIMIT_BASENAME_LENGTH","IS_USER_ROOT","IS_POSIX","DEFAULT_TIMEOUT_SYNC","DEFAULT_TIMEOUT_ASYNC","DEFAULT_WRITE_OPTIONS","DEFAULT_READ_OPTIONS","DEFAULT_FOLDER_MODE","DEFAULT_FILE_MODE","DEFAULT_ENCODING","getuid","writeFileSync","writeFile","readFileSync","readFile","path","consts_1","fs_1","lang_1","scheduler_1","temp_1","filePath","isString","encoding","timeout","Date","now","readFileRetry","readFileSyncRetry","callback","isFunction","promise","writeFileAsync","schedulerCustomDisposer","schedulerDisposer","tempDisposer","tempPath","fd","schedule","realpathAttempt","tmpCreate","create","tmpPurge","useStatChown","isUndefined","chown","useStatMode","stat","statAttempt","uid","gid","parentPath","dirname","mkdirAttempt","recursive","openRetry","tmpCreated","writeRetry","fsync","fsyncWait","fsyncRetry","fsyncAttempt","closeRetry","chownAttempt","chmodAttempt","renameRetry","truncate","closeAttempt","purge","realpathSyncAttempt","statSyncAttempt","mkdirSyncAttempt","openSyncRetry","writeSyncRetry","fsyncSyncRetry","closeSyncRetry","chownSyncAttempt","chmodSyncAttempt","renameSyncRetry","closeSyncAttempt","attemptifySync","attemptifyAsync","fn","onError","apply","arguments","attemptify_1","fs_handlers_1","retryify_1","FS","promisify","chmod","onChangeError","close","mkdir","realpath","unlinkAttempt","unlink","retryifyAsync","isRetriableError","open","rename","statRetry","write","chmodSync","chownSync","closeSync","mkdirSync","realpathSync","statSync","unlinkSyncAttempt","unlinkSync","retryifySync","fsyncSync","openSync","renameSync","statSyncRetry","writeSync","Handlers","isChangeErrorOk","retryify_queue_1","timestamp","attempt","cleanup","delay","round","random","Promise","setTimeout","RetryfyQueue","interval","intervalId","queueActive","queueWaiting","init","setInterval","tick","clearInterval","size","remove","resolver","Queues","Scheduler","queue","shift","job","Temp","store","randomness","floor","creator","purgeSync","purgeSyncAll","basename","truncable","truncationLength","on","mainWindow","initData","presets","global","ignore","export","Store","defaults","initStore","ipcMain","event","preset","checked","deleteName","deleted","app","electron","BrowserWindow","screen","scaleFactor","minHeight","minWidth","width","height","maxWidth","maxHeight","useContentSize","webPreferences","nodeIntegration","contextIsolation","zoomFactor","loadURL","__dirname","_validator","_encryptionKey","_options","_defaultValues","__classPrivateFieldSet","receiver","privateMap","__classPrivateFieldGet","crypto","assert","events_1","dotProp","pkgUp","envPaths","atomically","ajv_formats_1","debounceFn","semver","onetime","encryptionAlgorithm","createPlainObject","parentDir","__filename","filename","INTERNAL_KEY","MIGRATION_KEY","Conf","partialOptions","_deserialize","_serialize","configName","fileExtension","projectSuffix","clearInvalidConfig","accessPropertiesByDotNotation","getPackageData","packagePath","sync","cwd","packageData","projectName","suffix","config","entries","deserialize","events","EventEmitter","encryptionKey","fileStore","_validate","deepEqual","watch","_watch","migrations","projectVersion","version","_migrate","_get","_containsReservedKey","checkValueType","onDidChange","_handleChange","onDidAnyChange","dataString","_encryptData","deserializedData","_ensureDirectory","_write","emit","WeakMap","initializationVector","pbkdf2Sync","decipher","createDecipheriv","Buffer","concat","update","final","createDecipher","getter","currentValue","onChange","oldValue","newValue","isDeepStrictEqual","removeListener","randomBytes","cipher","createCipheriv","SNAP","existsSync","platform","persistent","wait","watchFile","versionToMigrate","previousMigratedVersion","newerVersions","candidateVersion","_shouldPerformMigration","storeBackup","migration","_set","_isVersionInRangeFormat","eq","clean","satisfies","lte","gt","isObj","disallowedKeys","getPathSegments","pathArray","parts","ANY","Comparator","parseOptions","loose","debug","operator","r","re","COMPARATORLOOSE","COMPARATOR","m","match","SemVer","er","cmp","intersects","includePrerelease","Range","sameDirectionIncreasing","sameDirectionDecreasing","sameSemVer","differentDirectionsInclusive","oppositeDirectionsLessThan","oppositeDirectionsGreaterThan","range","raw","parseRange","trim","first","isNullSet","isAny","comps","memoKey","cached","hr","HYPHENRANGELOOSE","HYPHENRANGE","hyphenReplace","COMPARATORTRIM","comparatorTrimReplace","TILDETRIM","tildeTrimReplace","CARETTRIM","caretTrimReplace","compRe","rangeList","parseComparator","replaceGTE0","rangeMap","thisComparators","isSatisfiable","rangeComparators","thisComparator","rangeComparator","testSet","comparators","remainingComparators","testComparator","otherComparator","replaceCarets","replaceTildes","replaceXRanges","replaceStars","isX","toLowerCase","replaceTilde","TILDELOOSE","TILDE","M","pr","ret","replaceCaret","CARETLOOSE","CARET","z","replaceXRange","XRANGELOOSE","XRANGE","gtlt","xM","xm","xp","anyX","STAR","GTE0PRE","GTE0","incPr","$0","fM","fm","fp","fpr","fb","tM","tm","tp","tpr","tb","prerelease","allowed","major","minor","patch","MAX_LENGTH","MAX_SAFE_INTEGER","compareIdentifiers","LOOSE","FULL","num","build","other","compareMain","comparePre","compareBuild","inc","release","identifier","isNaN","neq","gte","lt","String","rtl","COERCERTL","lastIndex","COERCE","versionA","versionB","version1","version2","v1","v2","hasPre","defaultResult","parsed","sort","internalRe","src","tokens","SEMVER_SPEC_VERSION","rcompareIdentifiers","diff","rcompare","compareLoose","rsort","coerce","toComparators","maxSatisfying","minSatisfying","minVersion","validRange","outside","gtr","ltr","simplifyRange","subset","MAX_SAFE_COMPONENT_LENGTH","NODE_DEBUG","numeric","anum","bnum","R","createToken","isGlobal","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","LONETILDE","LONECARET","r1","r2","versions","maxSV","rangeObj","minSV","minver","setMin","comparator","compver","hilo","gtfn","ltefn","ltfn","ecomp","high","low","prev","ranges","simplified","original","simpleSubset","sub","dom","eqSet","gtltComp","higher","lower","hasDomLT","hasDomGT","higherGT","lowerLT","needDomLTPre","needDomGTPre","sawNonNull","OUTER","simpleSub","simpleDom","isSub","mimicFn","inputFunction","after","debouncedFunction","arguments_","shouldCallNow","clearTimeout","cancel","copyProperty","ignoreNonConfigurable","toDescriptor","getOwnPropertyDescriptor","fromDescriptor","canCopyProperty","wrappedToString","withName","fromBody","toStringDescriptor","toStringName","Reflect","ownKeys","fromPrototype","getPrototypeOf","setPrototypeOf","changePrototype","newToString","bind","changeToString","ipcRenderer","shell","isInitialized","initDataListener","appData","defaultCwd","getPath","appVersion","getVersion","returnValue","sendSync","isAbsolute","openInEditor","openPath","os","homedir","tmpdir","library","temp","macos","APPDATA","localAppData","LOCALAPPDATA","windows","username","XDG_DATA_HOME","XDG_CONFIG_HOME","XDG_CACHE_HOME","XDG_STATE_HOME","linux","flags","valueOf","Yallist","MAX","LENGTH","LENGTH_CALCULATOR","ALLOW_STALE","MAX_AGE","DISPOSE","NO_DISPOSE_ON_SET","LRU_LIST","CACHE","UPDATE_AGE_ON_GET","naiveLength","doUse","hit","isStale","del","unshiftNode","maxAge","walker","tail","removeNode","Entry","forEachStep","thisp","lc","stale","dispose","noDisposeOnSet","updateAgeOnGet","mL","allowStale","mA","lC","rforEach","head","toArray","dump","h","dumpLru","unshift","peek","load","expiresAt","prune","calledFunctions","function_","callCount","functionName","displayName","pTry","pLimit","concurrency","reject","activeCount","run","generator","enqueue","defineProperties","pendingCount","clearQueue","findUp","locatePath","startDir","filenames","dir","file","pathExists","pLocate","el","EndError","testElement","tester","finder","val","preserveOrder","checkLimit","access","accessSync","merge","_len","sets","_key","xl","subexp","typeOf","toUpperCase","target","buildExps","isIRI","ALPHA$$","DIGIT$$","HEXDIG$$","PCT_ENCODED$","SUB_DELIMS$$","RESERVED$$","IPRIVATE$$","UNRESERVED$$","SCHEME$","USERINFO$","DEC_OCTET_RELAXED$","IPV4ADDRESS$","H16$","LS32$","IPV6ADDRESS1$","IPV6ADDRESS2$","IPV6ADDRESS3$","IPV6ADDRESS4$","IPV6ADDRESS5$","IPV6ADDRESS6$","IPV6ADDRESS7$","IPV6ADDRESS8$","IPV6ADDRESS9$","IPV6ADDRESS$","ZONEID$","IPV6ADDRZ_RELAXED$","IPVFUTURE$","IP_LITERAL$","REG_NAME$","HOST$","PORT$","AUTHORITY$","PCHAR$","SEGMENT$","SEGMENT_NZ$","SEGMENT_NZ_NC$","PATH_ABEMPTY$","PATH_ABSOLUTE$","PATH_NOSCHEME$","PATH_ROOTLESS$","PATH_EMPTY$","QUERY$","FRAGMENT$","HIER_PART$","URI$","RELATIVE_PART$","RELATIVE$","NOT_SCHEME","NOT_USERINFO","NOT_HOST","NOT_PATH","NOT_PATH_NOSCHEME","NOT_QUERY","NOT_FRAGMENT","ESCAPE","UNRESERVED","OTHER_CHARS","PCT_ENCODED","IPV4ADDRESS","IPV6ADDRESS","URI_PROTOCOL","IRI_PROTOCOL","slicedToArray","sliceIterator","_arr","_i","done","toConsumableArray","maxInt","base","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexPunycode","regexNonASCII","regexSeparators","baseMinusTMin","stringFromCharCode","fromCharCode","error$1","RangeError","mapDomain","ucs2decode","output","counter","extra","basicToDigit","codePoint","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","decode","input","inputLength","bias","basic","lastIndexOf","oldi","w","baseMinusT","out","fromCodePoint","encode","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","_currentValue2","basicLength","handledCPCount","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","handledCPCountPlusOne","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_currentValue","q","qMinusT","toUnicode","toASCII","punycode","SCHEMES","pctEncChar","chr","pctDecChars","newStr","il","parseInt","substr","c3","_normalizeComponentEncoding","components","protocol","decodeUnreserved","decStr","scheme","userinfo","host","query","_stripLeadingZeros","_normalizeIPv4","address","_normalizeIPv6","_matches2","zone","_address$toLowerCase$","reverse","_address$toLowerCase$2","last","firstFields","lastFields","isLastFieldIPv4Address","fieldCount","lastFieldsStart","fields","longestZeroFields","acc","field","lastLongest","newHost","newFirst","newLast","URI_PARSE","NO_MATCH_IS_UNDEFINED","uriString","iri","reference","port","indexOf","schemeHandler","unicodeSupport","domainHost","_recomposeAuthority","uriTokens","$1","$2","RDS1","RDS2","RDS3","RDS5","removeDotSegments","im","authority","charAt","absolutePath","resolveComponents","relative","tolerant","baseURI","relativeURI","schemelessOptions","uriA","uriB","escapeComponent","unescapeComponent","handler","secure","handler$1","isSecure","wsComponents","handler$2","resourceName","_wsComponents$resourc","_wsComponents$resourc2","handler$3","O","ATEXT$$","VCHAR$$","SOME_DELIMS$$","NOT_LOCAL_PART","NOT_HFNAME","NOT_HFVALUE","handler$4","mailtoComponents","unknownHeaders","headers","hfields","hfield","toAddrs","_xl","subject","_x2","_xl2","addr","toAddr","atIdx","localPart","domain","URN_PARSE","handler$5","urnComponents","nid","nss","urnScheme","uriComponents","UUID","handler$6","uuidComponents","factory","insert","inserted","pushNode","forEachReverse","getReverse","mapReverse","initial","reduceReverse","toArrayReverse","sliceReverse","start","deleteCount","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","d","nmd","paths","children"],"mappings":"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","file":"index.js","sourcesContent":["function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.formatNames = exports.fastFormats = exports.fullFormats = void 0;\nfunction fmtDef(validate, compare) {\n    return { validate, compare };\n}\nexports.fullFormats = {\n    // date: http://tools.ietf.org/html/rfc3339#section-5.6\n    date: fmtDef(date, compareDate),\n    // date-time: http://tools.ietf.org/html/rfc3339#section-5.6\n    time: fmtDef(time, compareTime),\n    \"date-time\": fmtDef(date_time, compareDateTime),\n    // duration: https://tools.ietf.org/html/rfc3339#appendix-A\n    duration: /^P(?!$)((\\d+Y)?(\\d+M)?(\\d+D)?(T(?=\\d)(\\d+H)?(\\d+M)?(\\d+S)?)?|(\\d+W)?)$/,\n    uri,\n    \"uri-reference\": /^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'\"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,\n    // uri-template: https://tools.ietf.org/html/rfc6570\n    \"uri-template\": /^(?:(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?)*\\})*$/i,\n    // For the source: https://gist.github.com/dperini/729294\n    // For test cases: https://mathiasbynens.be/demo/url-regex\n    url: /^(?:https?|ftp):\\/\\/(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u{00a1}-\\u{ffff}]+-)*[a-z0-9\\u{00a1}-\\u{ffff}]+)(?:\\.(?:[a-z0-9\\u{00a1}-\\u{ffff}]+-)*[a-z0-9\\u{00a1}-\\u{ffff}]+)*(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?$/iu,\n    email: /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,\n    hostname: /^(?=.{1,253}\\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\\.?$/i,\n    // optimized https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html\n    ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n    ipv6: /^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))$/i,\n    regex,\n    // uuid: http://tools.ietf.org/html/rfc4122\n    uuid: /^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,\n    // JSON-pointer: https://tools.ietf.org/html/rfc6901\n    // uri fragment: https://tools.ietf.org/html/rfc3986#appendix-A\n    \"json-pointer\": /^(?:\\/(?:[^~/]|~0|~1)*)*$/,\n    \"json-pointer-uri-fragment\": /^#(?:\\/(?:[a-z0-9_\\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,\n    // relative JSON-pointer: http://tools.ietf.org/html/draft-luff-relative-json-pointer-00\n    \"relative-json-pointer\": /^(?:0|[1-9][0-9]*)(?:#|(?:\\/(?:[^~/]|~0|~1)*)*)$/,\n    // the following formats are used by the openapi specification: https://spec.openapis.org/oas/v3.0.0#data-types\n    // byte: https://github.com/miguelmota/is-base64\n    byte: /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm,\n    // signed 32 bit integer\n    int32: { type: \"number\", validate: validateInt32 },\n    // signed 64 bit integer\n    int64: { type: \"number\", validate: validateInt64 },\n    // C-type float\n    float: { type: \"number\", validate: validateNumber },\n    // C-type double\n    double: { type: \"number\", validate: validateNumber },\n    // hint to the UI to hide input strings\n    password: true,\n    // unchecked string payload\n    binary: true,\n};\nexports.fastFormats = {\n    ...exports.fullFormats,\n    date: fmtDef(/^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/, compareDate),\n    time: fmtDef(/^(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)?$/i, compareTime),\n    \"date-time\": fmtDef(/^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s](?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)$/i, compareDateTime),\n    // uri: https://github.com/mafintosh/is-my-json-valid/blob/master/formats.js\n    uri: /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/)?[^\\s]*$/i,\n    \"uri-reference\": /^(?:(?:[a-z][a-z0-9+\\-.]*:)?\\/?\\/)?(?:[^\\\\\\s#][^\\s#]*)?(?:#[^\\\\\\s]*)?$/i,\n    // email (sources from jsen validator):\n    // http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address#answer-8829363\n    // http://www.w3.org/TR/html5/forms.html#valid-e-mail-address (search for 'wilful violation')\n    email: /^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,\n};\nexports.formatNames = Object.keys(exports.fullFormats);\nfunction isLeapYear(year) {\n    // https://tools.ietf.org/html/rfc3339#appendix-C\n    return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n}\nconst DATE = /^(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)$/;\nconst DAYS = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nfunction date(str) {\n    // full-date from http://tools.ietf.org/html/rfc3339#section-5.6\n    const matches = DATE.exec(str);\n    if (!matches)\n        return false;\n    const year = +matches[1];\n    const month = +matches[2];\n    const day = +matches[3];\n    return (month >= 1 &&\n        month <= 12 &&\n        day >= 1 &&\n        day <= (month === 2 && isLeapYear(year) ? 29 : DAYS[month]));\n}\nfunction compareDate(d1, d2) {\n    if (!(d1 && d2))\n        return undefined;\n    if (d1 > d2)\n        return 1;\n    if (d1 < d2)\n        return -1;\n    return 0;\n}\nconst TIME = /^(\\d\\d):(\\d\\d):(\\d\\d)(\\.\\d+)?(z|[+-]\\d\\d(?::?\\d\\d)?)?$/i;\nfunction time(str, withTimeZone) {\n    const matches = TIME.exec(str);\n    if (!matches)\n        return false;\n    const hour = +matches[1];\n    const minute = +matches[2];\n    const second = +matches[3];\n    const timeZone = matches[5];\n    return (((hour <= 23 && minute <= 59 && second <= 59) ||\n        (hour === 23 && minute === 59 && second === 60)) &&\n        (!withTimeZone || timeZone !== \"\"));\n}\nfunction compareTime(t1, t2) {\n    if (!(t1 && t2))\n        return undefined;\n    const a1 = TIME.exec(t1);\n    const a2 = TIME.exec(t2);\n    if (!(a1 && a2))\n        return undefined;\n    t1 = a1[1] + a1[2] + a1[3] + (a1[4] || \"\");\n    t2 = a2[1] + a2[2] + a2[3] + (a2[4] || \"\");\n    if (t1 > t2)\n        return 1;\n    if (t1 < t2)\n        return -1;\n    return 0;\n}\nconst DATE_TIME_SEPARATOR = /t|\\s/i;\nfunction date_time(str) {\n    // http://tools.ietf.org/html/rfc3339#section-5.6\n    const dateTime = str.split(DATE_TIME_SEPARATOR);\n    return dateTime.length === 2 && date(dateTime[0]) && time(dateTime[1], true);\n}\nfunction compareDateTime(dt1, dt2) {\n    if (!(dt1 && dt2))\n        return undefined;\n    const [d1, t1] = dt1.split(DATE_TIME_SEPARATOR);\n    const [d2, t2] = dt2.split(DATE_TIME_SEPARATOR);\n    const res = compareDate(d1, d2);\n    if (res === undefined)\n        return undefined;\n    return res || compareTime(t1, t2);\n}\nconst NOT_URI_FRAGMENT = /\\/|:/;\nconst URI = /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\\?(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;\nfunction uri(str) {\n    // http://jmrware.com/articles/2009/uri_regexp/URI_regex.html + optional protocol + required \".\"\n    return NOT_URI_FRAGMENT.test(str) && URI.test(str);\n}\nconst MIN_INT32 = -(2 ** 31);\nconst MAX_INT32 = 2 ** 31 - 1;\nfunction validateInt32(value) {\n    return Number.isInteger(value) && value <= MAX_INT32 && value >= MIN_INT32;\n}\nfunction validateInt64(value) {\n    // JSON and javascript max Int is 2**53, so any int that passes isInteger is valid for Int64\n    return Number.isInteger(value);\n}\nfunction validateNumber() {\n    return true;\n}\nconst Z_ANCHOR = /[^\\\\]\\\\Z/;\nfunction regex(str) {\n    if (Z_ANCHOR.test(str))\n        return false;\n    try {\n        new RegExp(str);\n        return true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n//# sourceMappingURL=formats.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst formats_1 = require(\"./formats\");\nconst limit_1 = require(\"./limit\");\nconst codegen_1 = require(\"ajv/dist/compile/codegen\");\nconst fullName = new codegen_1.Name(\"fullFormats\");\nconst fastName = new codegen_1.Name(\"fastFormats\");\nconst formatsPlugin = (ajv, opts = { keywords: true }) => {\n    if (Array.isArray(opts)) {\n        addFormats(ajv, opts, formats_1.fullFormats, fullName);\n        return ajv;\n    }\n    const [formats, exportName] = opts.mode === \"fast\" ? [formats_1.fastFormats, fastName] : [formats_1.fullFormats, fullName];\n    const list = opts.formats || formats_1.formatNames;\n    addFormats(ajv, list, formats, exportName);\n    if (opts.keywords)\n        limit_1.default(ajv);\n    return ajv;\n};\nformatsPlugin.get = (name, mode = \"full\") => {\n    const formats = mode === \"fast\" ? formats_1.fastFormats : formats_1.fullFormats;\n    const f = formats[name];\n    if (!f)\n        throw new Error(`Unknown format \"${name}\"`);\n    return f;\n};\nfunction addFormats(ajv, list, fs, exportName) {\n    var _a;\n    var _b;\n    (_a = (_b = ajv.opts.code).formats) !== null && _a !== void 0 ? _a : (_b.formats = codegen_1._ `require(\"ajv-formats/dist/formats\").${exportName}`);\n    for (const f of list)\n        ajv.addFormat(f, fs[f]);\n}\nmodule.exports = exports = formatsPlugin;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = formatsPlugin;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.formatLimitDefinition = void 0;\nconst ajv_1 = require(\"ajv\");\nconst codegen_1 = require(\"ajv/dist/compile/codegen\");\nconst ops = codegen_1.operators;\nconst KWDs = {\n    formatMaximum: { okStr: \"<=\", ok: ops.LTE, fail: ops.GT },\n    formatMinimum: { okStr: \">=\", ok: ops.GTE, fail: ops.LT },\n    formatExclusiveMaximum: { okStr: \"<\", ok: ops.LT, fail: ops.GTE },\n    formatExclusiveMinimum: { okStr: \">\", ok: ops.GT, fail: ops.LTE },\n};\nconst error = {\n    message: ({ keyword, schemaCode }) => codegen_1.str `should be ${KWDs[keyword].okStr} ${schemaCode}`,\n    params: ({ keyword, schemaCode }) => codegen_1._ `{comparison: ${KWDs[keyword].okStr}, limit: ${schemaCode}}`,\n};\nexports.formatLimitDefinition = {\n    keyword: Object.keys(KWDs),\n    type: \"string\",\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, schemaCode, keyword, it } = cxt;\n        const { opts, self } = it;\n        if (!opts.validateFormats)\n            return;\n        const fCxt = new ajv_1.KeywordCxt(it, self.RULES.all.format.definition, \"format\");\n        if (fCxt.$data)\n            validate$DataFormat();\n        else\n            validateFormat();\n        function validate$DataFormat() {\n            const fmts = gen.scopeValue(\"formats\", {\n                ref: self.formats,\n                code: opts.code.formats,\n            });\n            const fmt = gen.const(\"fmt\", codegen_1._ `${fmts}[${fCxt.schemaCode}]`);\n            cxt.fail$data(codegen_1.or(codegen_1._ `typeof ${fmt} != \"object\"`, codegen_1._ `${fmt} instanceof RegExp`, codegen_1._ `typeof ${fmt}.compare != \"function\"`, compareCode(fmt)));\n        }\n        function validateFormat() {\n            const format = fCxt.schema;\n            const fmtDef = self.formats[format];\n            if (!fmtDef || fmtDef === true)\n                return;\n            if (typeof fmtDef != \"object\" ||\n                fmtDef instanceof RegExp ||\n                typeof fmtDef.compare != \"function\") {\n                throw new Error(`\"${keyword}\": format \"${format}\" does not define \"compare\" function`);\n            }\n            const fmt = gen.scopeValue(\"formats\", {\n                key: format,\n                ref: fmtDef,\n                code: opts.code.formats ? codegen_1._ `${opts.code.formats}${codegen_1.getProperty(format)}` : undefined,\n            });\n            cxt.fail$data(compareCode(fmt));\n        }\n        function compareCode(fmt) {\n            return codegen_1._ `${fmt}.compare(${data}, ${schemaCode}) ${KWDs[keyword].fail} 0`;\n        }\n    },\n    dependencies: [\"format\"],\n};\nconst formatLimitPlugin = (ajv) => {\n    ajv.addKeyword(exports.formatLimitDefinition);\n    return ajv;\n};\nexports.default = formatLimitPlugin;\n//# sourceMappingURL=limit.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = void 0;\nconst core_1 = require(\"./core\");\nconst draft7_1 = require(\"./vocabularies/draft7\");\nconst discriminator_1 = require(\"./vocabularies/discriminator\");\nconst draft7MetaSchema = require(\"./refs/json-schema-draft-07.json\");\nconst META_SUPPORT_DATA = [\"/properties\"];\nconst META_SCHEMA_ID = \"http://json-schema.org/draft-07/schema\";\nclass Ajv extends core_1.default {\n    _addVocabularies() {\n        super._addVocabularies();\n        draft7_1.default.forEach((v) => this.addVocabulary(v));\n        if (this.opts.discriminator)\n            this.addKeyword(discriminator_1.default);\n    }\n    _addDefaultMetaSchema() {\n        super._addDefaultMetaSchema();\n        if (!this.opts.meta)\n            return;\n        const metaSchema = this.opts.$data\n            ? this.$dataMetaSchema(draft7MetaSchema, META_SUPPORT_DATA)\n            : draft7MetaSchema;\n        this.addMetaSchema(metaSchema, META_SCHEMA_ID, false);\n        this.refs[\"http://json-schema.org/schema\"] = META_SCHEMA_ID;\n    }\n    defaultMeta() {\n        return (this.opts.defaultMeta =\n            super.defaultMeta() || (this.getSchema(META_SCHEMA_ID) ? META_SCHEMA_ID : undefined));\n    }\n}\nmodule.exports = exports = Ajv;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Ajv;\nvar validate_1 = require(\"./compile/validate\");\nObject.defineProperty(exports, \"KeywordCxt\", { enumerable: true, get: function () { return validate_1.KeywordCxt; } });\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\n//# sourceMappingURL=ajv.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.regexpCode = exports.getProperty = exports.safeStringify = exports.stringify = exports.strConcat = exports.addCodeArg = exports.str = exports._ = exports.nil = exports._Code = exports.Name = exports.IDENTIFIER = exports._CodeOrName = void 0;\nclass _CodeOrName {\n}\nexports._CodeOrName = _CodeOrName;\nexports.IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nclass Name extends _CodeOrName {\n    constructor(s) {\n        super();\n        if (!exports.IDENTIFIER.test(s))\n            throw new Error(\"CodeGen: name must be a valid identifier\");\n        this.str = s;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        return false;\n    }\n    get names() {\n        return { [this.str]: 1 };\n    }\n}\nexports.Name = Name;\nclass _Code extends _CodeOrName {\n    constructor(code) {\n        super();\n        this._items = typeof code === \"string\" ? [code] : code;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        if (this._items.length > 1)\n            return false;\n        const item = this._items[0];\n        return item === \"\" || item === '\"\"';\n    }\n    get str() {\n        var _a;\n        return ((_a = this._str) !== null && _a !== void 0 ? _a : (this._str = this._items.reduce((s, c) => `${s}${c}`, \"\")));\n    }\n    get names() {\n        var _a;\n        return ((_a = this._names) !== null && _a !== void 0 ? _a : (this._names = this._items.reduce((names, c) => {\n            if (c instanceof Name)\n                names[c.str] = (names[c.str] || 0) + 1;\n            return names;\n        }, {})));\n    }\n}\nexports._Code = _Code;\nexports.nil = new _Code(\"\");\nfunction _(strs, ...args) {\n    const code = [strs[0]];\n    let i = 0;\n    while (i < args.length) {\n        addCodeArg(code, args[i]);\n        code.push(strs[++i]);\n    }\n    return new _Code(code);\n}\nexports._ = _;\nconst plus = new _Code(\"+\");\nfunction str(strs, ...args) {\n    const expr = [safeStringify(strs[0])];\n    let i = 0;\n    while (i < args.length) {\n        expr.push(plus);\n        addCodeArg(expr, args[i]);\n        expr.push(plus, safeStringify(strs[++i]));\n    }\n    optimize(expr);\n    return new _Code(expr);\n}\nexports.str = str;\nfunction addCodeArg(code, arg) {\n    if (arg instanceof _Code)\n        code.push(...arg._items);\n    else if (arg instanceof Name)\n        code.push(arg);\n    else\n        code.push(interpolate(arg));\n}\nexports.addCodeArg = addCodeArg;\nfunction optimize(expr) {\n    let i = 1;\n    while (i < expr.length - 1) {\n        if (expr[i] === plus) {\n            const res = mergeExprItems(expr[i - 1], expr[i + 1]);\n            if (res !== undefined) {\n                expr.splice(i - 1, 3, res);\n                continue;\n            }\n            expr[i++] = \"+\";\n        }\n        i++;\n    }\n}\nfunction mergeExprItems(a, b) {\n    if (b === '\"\"')\n        return a;\n    if (a === '\"\"')\n        return b;\n    if (typeof a == \"string\") {\n        if (b instanceof Name || a[a.length - 1] !== '\"')\n            return;\n        if (typeof b != \"string\")\n            return `${a.slice(0, -1)}${b}\"`;\n        if (b[0] === '\"')\n            return a.slice(0, -1) + b.slice(1);\n        return;\n    }\n    if (typeof b == \"string\" && b[0] === '\"' && !(a instanceof Name))\n        return `\"${a}${b.slice(1)}`;\n    return;\n}\nfunction strConcat(c1, c2) {\n    return c2.emptyStr() ? c1 : c1.emptyStr() ? c2 : str `${c1}${c2}`;\n}\nexports.strConcat = strConcat;\n// TODO do not allow arrays here\nfunction interpolate(x) {\n    return typeof x == \"number\" || typeof x == \"boolean\" || x === null\n        ? x\n        : safeStringify(Array.isArray(x) ? x.join(\",\") : x);\n}\nfunction stringify(x) {\n    return new _Code(safeStringify(x));\n}\nexports.stringify = stringify;\nfunction safeStringify(x) {\n    return JSON.stringify(x)\n        .replace(/\\u2028/g, \"\\\\u2028\")\n        .replace(/\\u2029/g, \"\\\\u2029\");\n}\nexports.safeStringify = safeStringify;\nfunction getProperty(key) {\n    return typeof key == \"string\" && exports.IDENTIFIER.test(key) ? new _Code(`.${key}`) : _ `[${key}]`;\n}\nexports.getProperty = getProperty;\nfunction regexpCode(rx) {\n    return new _Code(rx.toString());\n}\nexports.regexpCode = regexpCode;\n//# sourceMappingURL=code.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.or = exports.and = exports.not = exports.CodeGen = exports.operators = exports.varKinds = exports.ValueScopeName = exports.ValueScope = exports.Scope = exports.Name = exports.regexpCode = exports.stringify = exports.getProperty = exports.nil = exports.strConcat = exports.str = exports._ = void 0;\nconst code_1 = require(\"./code\");\nconst scope_1 = require(\"./scope\");\nvar code_2 = require(\"./code\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return code_2._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return code_2.str; } });\nObject.defineProperty(exports, \"strConcat\", { enumerable: true, get: function () { return code_2.strConcat; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return code_2.nil; } });\nObject.defineProperty(exports, \"getProperty\", { enumerable: true, get: function () { return code_2.getProperty; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return code_2.stringify; } });\nObject.defineProperty(exports, \"regexpCode\", { enumerable: true, get: function () { return code_2.regexpCode; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return code_2.Name; } });\nvar scope_2 = require(\"./scope\");\nObject.defineProperty(exports, \"Scope\", { enumerable: true, get: function () { return scope_2.Scope; } });\nObject.defineProperty(exports, \"ValueScope\", { enumerable: true, get: function () { return scope_2.ValueScope; } });\nObject.defineProperty(exports, \"ValueScopeName\", { enumerable: true, get: function () { return scope_2.ValueScopeName; } });\nObject.defineProperty(exports, \"varKinds\", { enumerable: true, get: function () { return scope_2.varKinds; } });\nexports.operators = {\n    GT: new code_1._Code(\">\"),\n    GTE: new code_1._Code(\">=\"),\n    LT: new code_1._Code(\"<\"),\n    LTE: new code_1._Code(\"<=\"),\n    EQ: new code_1._Code(\"===\"),\n    NEQ: new code_1._Code(\"!==\"),\n    NOT: new code_1._Code(\"!\"),\n    OR: new code_1._Code(\"||\"),\n    AND: new code_1._Code(\"&&\"),\n    ADD: new code_1._Code(\"+\"),\n};\nclass Node {\n    optimizeNodes() {\n        return this;\n    }\n    optimizeNames(_names, _constants) {\n        return this;\n    }\n}\nclass Def extends Node {\n    constructor(varKind, name, rhs) {\n        super();\n        this.varKind = varKind;\n        this.name = name;\n        this.rhs = rhs;\n    }\n    render({ es5, _n }) {\n        const varKind = es5 ? scope_1.varKinds.var : this.varKind;\n        const rhs = this.rhs === undefined ? \"\" : ` = ${this.rhs}`;\n        return `${varKind} ${this.name}${rhs};` + _n;\n    }\n    optimizeNames(names, constants) {\n        if (!names[this.name.str])\n            return;\n        if (this.rhs)\n            this.rhs = optimizeExpr(this.rhs, names, constants);\n        return this;\n    }\n    get names() {\n        return this.rhs instanceof code_1._CodeOrName ? this.rhs.names : {};\n    }\n}\nclass Assign extends Node {\n    constructor(lhs, rhs, sideEffects) {\n        super();\n        this.lhs = lhs;\n        this.rhs = rhs;\n        this.sideEffects = sideEffects;\n    }\n    render({ _n }) {\n        return `${this.lhs} = ${this.rhs};` + _n;\n    }\n    optimizeNames(names, constants) {\n        if (this.lhs instanceof code_1.Name && !names[this.lhs.str] && !this.sideEffects)\n            return;\n        this.rhs = optimizeExpr(this.rhs, names, constants);\n        return this;\n    }\n    get names() {\n        const names = this.lhs instanceof code_1.Name ? {} : { ...this.lhs.names };\n        return addExprNames(names, this.rhs);\n    }\n}\nclass AssignOp extends Assign {\n    constructor(lhs, op, rhs, sideEffects) {\n        super(lhs, rhs, sideEffects);\n        this.op = op;\n    }\n    render({ _n }) {\n        return `${this.lhs} ${this.op}= ${this.rhs};` + _n;\n    }\n}\nclass Label extends Node {\n    constructor(label) {\n        super();\n        this.label = label;\n        this.names = {};\n    }\n    render({ _n }) {\n        return `${this.label}:` + _n;\n    }\n}\nclass Break extends Node {\n    constructor(label) {\n        super();\n        this.label = label;\n        this.names = {};\n    }\n    render({ _n }) {\n        const label = this.label ? ` ${this.label}` : \"\";\n        return `break${label};` + _n;\n    }\n}\nclass Throw extends Node {\n    constructor(error) {\n        super();\n        this.error = error;\n    }\n    render({ _n }) {\n        return `throw ${this.error};` + _n;\n    }\n    get names() {\n        return this.error.names;\n    }\n}\nclass AnyCode extends Node {\n    constructor(code) {\n        super();\n        this.code = code;\n    }\n    render({ _n }) {\n        return `${this.code};` + _n;\n    }\n    optimizeNodes() {\n        return `${this.code}` ? this : undefined;\n    }\n    optimizeNames(names, constants) {\n        this.code = optimizeExpr(this.code, names, constants);\n        return this;\n    }\n    get names() {\n        return this.code instanceof code_1._CodeOrName ? this.code.names : {};\n    }\n}\nclass ParentNode extends Node {\n    constructor(nodes = []) {\n        super();\n        this.nodes = nodes;\n    }\n    render(opts) {\n        return this.nodes.reduce((code, n) => code + n.render(opts), \"\");\n    }\n    optimizeNodes() {\n        const { nodes } = this;\n        let i = nodes.length;\n        while (i--) {\n            const n = nodes[i].optimizeNodes();\n            if (Array.isArray(n))\n                nodes.splice(i, 1, ...n);\n            else if (n)\n                nodes[i] = n;\n            else\n                nodes.splice(i, 1);\n        }\n        return nodes.length > 0 ? this : undefined;\n    }\n    optimizeNames(names, constants) {\n        const { nodes } = this;\n        let i = nodes.length;\n        while (i--) {\n            // iterating backwards improves 1-pass optimization\n            const n = nodes[i];\n            if (n.optimizeNames(names, constants))\n                continue;\n            subtractNames(names, n.names);\n            nodes.splice(i, 1);\n        }\n        return nodes.length > 0 ? this : undefined;\n    }\n    get names() {\n        return this.nodes.reduce((names, n) => addNames(names, n.names), {});\n    }\n}\nclass BlockNode extends ParentNode {\n    render(opts) {\n        return \"{\" + opts._n + super.render(opts) + \"}\" + opts._n;\n    }\n}\nclass Root extends ParentNode {\n}\nclass Else extends BlockNode {\n}\nElse.kind = \"else\";\nclass If extends BlockNode {\n    constructor(condition, nodes) {\n        super(nodes);\n        this.condition = condition;\n    }\n    render(opts) {\n        let code = `if(${this.condition})` + super.render(opts);\n        if (this.else)\n            code += \"else \" + this.else.render(opts);\n        return code;\n    }\n    optimizeNodes() {\n        super.optimizeNodes();\n        const cond = this.condition;\n        if (cond === true)\n            return this.nodes; // else is ignored here\n        let e = this.else;\n        if (e) {\n            const ns = e.optimizeNodes();\n            e = this.else = Array.isArray(ns) ? new Else(ns) : ns;\n        }\n        if (e) {\n            if (cond === false)\n                return e instanceof If ? e : e.nodes;\n            if (this.nodes.length)\n                return this;\n            return new If(not(cond), e instanceof If ? [e] : e.nodes);\n        }\n        if (cond === false || !this.nodes.length)\n            return undefined;\n        return this;\n    }\n    optimizeNames(names, constants) {\n        var _a;\n        this.else = (_a = this.else) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);\n        if (!(super.optimizeNames(names, constants) || this.else))\n            return;\n        this.condition = optimizeExpr(this.condition, names, constants);\n        return this;\n    }\n    get names() {\n        const names = super.names;\n        addExprNames(names, this.condition);\n        if (this.else)\n            addNames(names, this.else.names);\n        return names;\n    }\n}\nIf.kind = \"if\";\nclass For extends BlockNode {\n}\nFor.kind = \"for\";\nclass ForLoop extends For {\n    constructor(iteration) {\n        super();\n        this.iteration = iteration;\n    }\n    render(opts) {\n        return `for(${this.iteration})` + super.render(opts);\n    }\n    optimizeNames(names, constants) {\n        if (!super.optimizeNames(names, constants))\n            return;\n        this.iteration = optimizeExpr(this.iteration, names, constants);\n        return this;\n    }\n    get names() {\n        return addNames(super.names, this.iteration.names);\n    }\n}\nclass ForRange extends For {\n    constructor(varKind, name, from, to) {\n        super();\n        this.varKind = varKind;\n        this.name = name;\n        this.from = from;\n        this.to = to;\n    }\n    render(opts) {\n        const varKind = opts.es5 ? scope_1.varKinds.var : this.varKind;\n        const { name, from, to } = this;\n        return `for(${varKind} ${name}=${from}; ${name}<${to}; ${name}++)` + super.render(opts);\n    }\n    get names() {\n        const names = addExprNames(super.names, this.from);\n        return addExprNames(names, this.to);\n    }\n}\nclass ForIter extends For {\n    constructor(loop, varKind, name, iterable) {\n        super();\n        this.loop = loop;\n        this.varKind = varKind;\n        this.name = name;\n        this.iterable = iterable;\n    }\n    render(opts) {\n        return `for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})` + super.render(opts);\n    }\n    optimizeNames(names, constants) {\n        if (!super.optimizeNames(names, constants))\n            return;\n        this.iterable = optimizeExpr(this.iterable, names, constants);\n        return this;\n    }\n    get names() {\n        return addNames(super.names, this.iterable.names);\n    }\n}\nclass Func extends BlockNode {\n    constructor(name, args, async) {\n        super();\n        this.name = name;\n        this.args = args;\n        this.async = async;\n    }\n    render(opts) {\n        const _async = this.async ? \"async \" : \"\";\n        return `${_async}function ${this.name}(${this.args})` + super.render(opts);\n    }\n}\nFunc.kind = \"func\";\nclass Return extends ParentNode {\n    render(opts) {\n        return \"return \" + super.render(opts);\n    }\n}\nReturn.kind = \"return\";\nclass Try extends BlockNode {\n    render(opts) {\n        let code = \"try\" + super.render(opts);\n        if (this.catch)\n            code += this.catch.render(opts);\n        if (this.finally)\n            code += this.finally.render(opts);\n        return code;\n    }\n    optimizeNodes() {\n        var _a, _b;\n        super.optimizeNodes();\n        (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNodes();\n        (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNodes();\n        return this;\n    }\n    optimizeNames(names, constants) {\n        var _a, _b;\n        super.optimizeNames(names, constants);\n        (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);\n        (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNames(names, constants);\n        return this;\n    }\n    get names() {\n        const names = super.names;\n        if (this.catch)\n            addNames(names, this.catch.names);\n        if (this.finally)\n            addNames(names, this.finally.names);\n        return names;\n    }\n}\nclass Catch extends BlockNode {\n    constructor(error) {\n        super();\n        this.error = error;\n    }\n    render(opts) {\n        return `catch(${this.error})` + super.render(opts);\n    }\n}\nCatch.kind = \"catch\";\nclass Finally extends BlockNode {\n    render(opts) {\n        return \"finally\" + super.render(opts);\n    }\n}\nFinally.kind = \"finally\";\nclass CodeGen {\n    constructor(extScope, opts = {}) {\n        this._values = {};\n        this._blockStarts = [];\n        this._constants = {};\n        this.opts = { ...opts, _n: opts.lines ? \"\\n\" : \"\" };\n        this._extScope = extScope;\n        this._scope = new scope_1.Scope({ parent: extScope });\n        this._nodes = [new Root()];\n    }\n    toString() {\n        return this._root.render(this.opts);\n    }\n    // returns unique name in the internal scope\n    name(prefix) {\n        return this._scope.name(prefix);\n    }\n    // reserves unique name in the external scope\n    scopeName(prefix) {\n        return this._extScope.name(prefix);\n    }\n    // reserves unique name in the external scope and assigns value to it\n    scopeValue(prefixOrName, value) {\n        const name = this._extScope.value(prefixOrName, value);\n        const vs = this._values[name.prefix] || (this._values[name.prefix] = new Set());\n        vs.add(name);\n        return name;\n    }\n    getScopeValue(prefix, keyOrRef) {\n        return this._extScope.getValue(prefix, keyOrRef);\n    }\n    // return code that assigns values in the external scope to the names that are used internally\n    // (same names that were returned by gen.scopeName or gen.scopeValue)\n    scopeRefs(scopeName) {\n        return this._extScope.scopeRefs(scopeName, this._values);\n    }\n    scopeCode() {\n        return this._extScope.scopeCode(this._values);\n    }\n    _def(varKind, nameOrPrefix, rhs, constant) {\n        const name = this._scope.toName(nameOrPrefix);\n        if (rhs !== undefined && constant)\n            this._constants[name.str] = rhs;\n        this._leafNode(new Def(varKind, name, rhs));\n        return name;\n    }\n    // `const` declaration (`var` in es5 mode)\n    const(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.const, nameOrPrefix, rhs, _constant);\n    }\n    // `let` declaration with optional assignment (`var` in es5 mode)\n    let(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.let, nameOrPrefix, rhs, _constant);\n    }\n    // `var` declaration with optional assignment\n    var(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.var, nameOrPrefix, rhs, _constant);\n    }\n    // assignment code\n    assign(lhs, rhs, sideEffects) {\n        return this._leafNode(new Assign(lhs, rhs, sideEffects));\n    }\n    // `+=` code\n    add(lhs, rhs) {\n        return this._leafNode(new AssignOp(lhs, exports.operators.ADD, rhs));\n    }\n    // appends passed SafeExpr to code or executes Block\n    code(c) {\n        if (typeof c == \"function\")\n            c();\n        else if (c !== code_1.nil)\n            this._leafNode(new AnyCode(c));\n        return this;\n    }\n    // returns code for object literal for the passed argument list of key-value pairs\n    object(...keyValues) {\n        const code = [\"{\"];\n        for (const [key, value] of keyValues) {\n            if (code.length > 1)\n                code.push(\",\");\n            code.push(key);\n            if (key !== value || this.opts.es5) {\n                code.push(\":\");\n                code_1.addCodeArg(code, value);\n            }\n        }\n        code.push(\"}\");\n        return new code_1._Code(code);\n    }\n    // `if` clause (or statement if `thenBody` and, optionally, `elseBody` are passed)\n    if(condition, thenBody, elseBody) {\n        this._blockNode(new If(condition));\n        if (thenBody && elseBody) {\n            this.code(thenBody).else().code(elseBody).endIf();\n        }\n        else if (thenBody) {\n            this.code(thenBody).endIf();\n        }\n        else if (elseBody) {\n            throw new Error('CodeGen: \"else\" body without \"then\" body');\n        }\n        return this;\n    }\n    // `else if` clause - invalid without `if` or after `else` clauses\n    elseIf(condition) {\n        return this._elseNode(new If(condition));\n    }\n    // `else` clause - only valid after `if` or `else if` clauses\n    else() {\n        return this._elseNode(new Else());\n    }\n    // end `if` statement (needed if gen.if was used only with condition)\n    endIf() {\n        return this._endBlockNode(If, Else);\n    }\n    _for(node, forBody) {\n        this._blockNode(node);\n        if (forBody)\n            this.code(forBody).endFor();\n        return this;\n    }\n    // a generic `for` clause (or statement if `forBody` is passed)\n    for(iteration, forBody) {\n        return this._for(new ForLoop(iteration), forBody);\n    }\n    // `for` statement for a range of values\n    forRange(nameOrPrefix, from, to, forBody, varKind = this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.let) {\n        const name = this._scope.toName(nameOrPrefix);\n        return this._for(new ForRange(varKind, name, from, to), () => forBody(name));\n    }\n    // `for-of` statement (in es5 mode replace with a normal for loop)\n    forOf(nameOrPrefix, iterable, forBody, varKind = scope_1.varKinds.const) {\n        const name = this._scope.toName(nameOrPrefix);\n        if (this.opts.es5) {\n            const arr = iterable instanceof code_1.Name ? iterable : this.var(\"_arr\", iterable);\n            return this.forRange(\"_i\", 0, code_1._ `${arr}.length`, (i) => {\n                this.var(name, code_1._ `${arr}[${i}]`);\n                forBody(name);\n            });\n        }\n        return this._for(new ForIter(\"of\", varKind, name, iterable), () => forBody(name));\n    }\n    // `for-in` statement.\n    // With option `ownProperties` replaced with a `for-of` loop for object keys\n    forIn(nameOrPrefix, obj, forBody, varKind = this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.const) {\n        if (this.opts.ownProperties) {\n            return this.forOf(nameOrPrefix, code_1._ `Object.keys(${obj})`, forBody);\n        }\n        const name = this._scope.toName(nameOrPrefix);\n        return this._for(new ForIter(\"in\", varKind, name, obj), () => forBody(name));\n    }\n    // end `for` loop\n    endFor() {\n        return this._endBlockNode(For);\n    }\n    // `label` statement\n    label(label) {\n        return this._leafNode(new Label(label));\n    }\n    // `break` statement\n    break(label) {\n        return this._leafNode(new Break(label));\n    }\n    // `return` statement\n    return(value) {\n        const node = new Return();\n        this._blockNode(node);\n        this.code(value);\n        if (node.nodes.length !== 1)\n            throw new Error('CodeGen: \"return\" should have one node');\n        return this._endBlockNode(Return);\n    }\n    // `try` statement\n    try(tryBody, catchCode, finallyCode) {\n        if (!catchCode && !finallyCode)\n            throw new Error('CodeGen: \"try\" without \"catch\" and \"finally\"');\n        const node = new Try();\n        this._blockNode(node);\n        this.code(tryBody);\n        if (catchCode) {\n            const error = this.name(\"e\");\n            this._currNode = node.catch = new Catch(error);\n            catchCode(error);\n        }\n        if (finallyCode) {\n            this._currNode = node.finally = new Finally();\n            this.code(finallyCode);\n        }\n        return this._endBlockNode(Catch, Finally);\n    }\n    // `throw` statement\n    throw(error) {\n        return this._leafNode(new Throw(error));\n    }\n    // start self-balancing block\n    block(body, nodeCount) {\n        this._blockStarts.push(this._nodes.length);\n        if (body)\n            this.code(body).endBlock(nodeCount);\n        return this;\n    }\n    // end the current self-balancing block\n    endBlock(nodeCount) {\n        const len = this._blockStarts.pop();\n        if (len === undefined)\n            throw new Error(\"CodeGen: not in self-balancing block\");\n        const toClose = this._nodes.length - len;\n        if (toClose < 0 || (nodeCount !== undefined && toClose !== nodeCount)) {\n            throw new Error(`CodeGen: wrong number of nodes: ${toClose} vs ${nodeCount} expected`);\n        }\n        this._nodes.length = len;\n        return this;\n    }\n    // `function` heading (or definition if funcBody is passed)\n    func(name, args = code_1.nil, async, funcBody) {\n        this._blockNode(new Func(name, args, async));\n        if (funcBody)\n            this.code(funcBody).endFunc();\n        return this;\n    }\n    // end function definition\n    endFunc() {\n        return this._endBlockNode(Func);\n    }\n    optimize(n = 1) {\n        while (n-- > 0) {\n            this._root.optimizeNodes();\n            this._root.optimizeNames(this._root.names, this._constants);\n        }\n    }\n    _leafNode(node) {\n        this._currNode.nodes.push(node);\n        return this;\n    }\n    _blockNode(node) {\n        this._currNode.nodes.push(node);\n        this._nodes.push(node);\n    }\n    _endBlockNode(N1, N2) {\n        const n = this._currNode;\n        if (n instanceof N1 || (N2 && n instanceof N2)) {\n            this._nodes.pop();\n            return this;\n        }\n        throw new Error(`CodeGen: not in block \"${N2 ? `${N1.kind}/${N2.kind}` : N1.kind}\"`);\n    }\n    _elseNode(node) {\n        const n = this._currNode;\n        if (!(n instanceof If)) {\n            throw new Error('CodeGen: \"else\" without \"if\"');\n        }\n        this._currNode = n.else = node;\n        return this;\n    }\n    get _root() {\n        return this._nodes[0];\n    }\n    get _currNode() {\n        const ns = this._nodes;\n        return ns[ns.length - 1];\n    }\n    set _currNode(node) {\n        const ns = this._nodes;\n        ns[ns.length - 1] = node;\n    }\n}\nexports.CodeGen = CodeGen;\nfunction addNames(names, from) {\n    for (const n in from)\n        names[n] = (names[n] || 0) + (from[n] || 0);\n    return names;\n}\nfunction addExprNames(names, from) {\n    return from instanceof code_1._CodeOrName ? addNames(names, from.names) : names;\n}\nfunction optimizeExpr(expr, names, constants) {\n    if (expr instanceof code_1.Name)\n        return replaceName(expr);\n    if (!canOptimize(expr))\n        return expr;\n    return new code_1._Code(expr._items.reduce((items, c) => {\n        if (c instanceof code_1.Name)\n            c = replaceName(c);\n        if (c instanceof code_1._Code)\n            items.push(...c._items);\n        else\n            items.push(c);\n        return items;\n    }, []));\n    function replaceName(n) {\n        const c = constants[n.str];\n        if (c === undefined || names[n.str] !== 1)\n            return n;\n        delete names[n.str];\n        return c;\n    }\n    function canOptimize(e) {\n        return (e instanceof code_1._Code &&\n            e._items.some((c) => c instanceof code_1.Name && names[c.str] === 1 && constants[c.str] !== undefined));\n    }\n}\nfunction subtractNames(names, from) {\n    for (const n in from)\n        names[n] = (names[n] || 0) - (from[n] || 0);\n}\nfunction not(x) {\n    return typeof x == \"boolean\" || typeof x == \"number\" || x === null ? !x : code_1._ `!${par(x)}`;\n}\nexports.not = not;\nconst andCode = mappend(exports.operators.AND);\n// boolean AND (&&) expression with the passed arguments\nfunction and(...args) {\n    return args.reduce(andCode);\n}\nexports.and = and;\nconst orCode = mappend(exports.operators.OR);\n// boolean OR (||) expression with the passed arguments\nfunction or(...args) {\n    return args.reduce(orCode);\n}\nexports.or = or;\nfunction mappend(op) {\n    return (x, y) => (x === code_1.nil ? y : y === code_1.nil ? x : code_1._ `${par(x)} ${op} ${par(y)}`);\n}\nfunction par(x) {\n    return x instanceof code_1.Name ? x : code_1._ `(${x})`;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ValueScope = exports.ValueScopeName = exports.Scope = exports.varKinds = exports.UsedValueState = void 0;\nconst code_1 = require(\"./code\");\nclass ValueError extends Error {\n    constructor(name) {\n        super(`CodeGen: \"code\" for ${name} not defined`);\n        this.value = name.value;\n    }\n}\nvar UsedValueState;\n(function (UsedValueState) {\n    UsedValueState[UsedValueState[\"Started\"] = 0] = \"Started\";\n    UsedValueState[UsedValueState[\"Completed\"] = 1] = \"Completed\";\n})(UsedValueState = exports.UsedValueState || (exports.UsedValueState = {}));\nexports.varKinds = {\n    const: new code_1.Name(\"const\"),\n    let: new code_1.Name(\"let\"),\n    var: new code_1.Name(\"var\"),\n};\nclass Scope {\n    constructor({ prefixes, parent } = {}) {\n        this._names = {};\n        this._prefixes = prefixes;\n        this._parent = parent;\n    }\n    toName(nameOrPrefix) {\n        return nameOrPrefix instanceof code_1.Name ? nameOrPrefix : this.name(nameOrPrefix);\n    }\n    name(prefix) {\n        return new code_1.Name(this._newName(prefix));\n    }\n    _newName(prefix) {\n        const ng = this._names[prefix] || this._nameGroup(prefix);\n        return `${prefix}${ng.index++}`;\n    }\n    _nameGroup(prefix) {\n        var _a, _b;\n        if (((_b = (_a = this._parent) === null || _a === void 0 ? void 0 : _a._prefixes) === null || _b === void 0 ? void 0 : _b.has(prefix)) || (this._prefixes && !this._prefixes.has(prefix))) {\n            throw new Error(`CodeGen: prefix \"${prefix}\" is not allowed in this scope`);\n        }\n        return (this._names[prefix] = { prefix, index: 0 });\n    }\n}\nexports.Scope = Scope;\nclass ValueScopeName extends code_1.Name {\n    constructor(prefix, nameStr) {\n        super(nameStr);\n        this.prefix = prefix;\n    }\n    setValue(value, { property, itemIndex }) {\n        this.value = value;\n        this.scopePath = code_1._ `.${new code_1.Name(property)}[${itemIndex}]`;\n    }\n}\nexports.ValueScopeName = ValueScopeName;\nconst line = code_1._ `\\n`;\nclass ValueScope extends Scope {\n    constructor(opts) {\n        super(opts);\n        this._values = {};\n        this._scope = opts.scope;\n        this.opts = { ...opts, _n: opts.lines ? line : code_1.nil };\n    }\n    get() {\n        return this._scope;\n    }\n    name(prefix) {\n        return new ValueScopeName(prefix, this._newName(prefix));\n    }\n    value(nameOrPrefix, value) {\n        var _a;\n        if (value.ref === undefined)\n            throw new Error(\"CodeGen: ref must be passed in value\");\n        const name = this.toName(nameOrPrefix);\n        const { prefix } = name;\n        const valueKey = (_a = value.key) !== null && _a !== void 0 ? _a : value.ref;\n        let vs = this._values[prefix];\n        if (vs) {\n            const _name = vs.get(valueKey);\n            if (_name)\n                return _name;\n        }\n        else {\n            vs = this._values[prefix] = new Map();\n        }\n        vs.set(valueKey, name);\n        const s = this._scope[prefix] || (this._scope[prefix] = []);\n        const itemIndex = s.length;\n        s[itemIndex] = value.ref;\n        name.setValue(value, { property: prefix, itemIndex });\n        return name;\n    }\n    getValue(prefix, keyOrRef) {\n        const vs = this._values[prefix];\n        if (!vs)\n            return;\n        return vs.get(keyOrRef);\n    }\n    scopeRefs(scopeName, values = this._values) {\n        return this._reduceValues(values, (name) => {\n            if (name.scopePath === undefined)\n                throw new Error(`CodeGen: name \"${name}\" has no value`);\n            return code_1._ `${scopeName}${name.scopePath}`;\n        });\n    }\n    scopeCode(values = this._values, usedValues, getCode) {\n        return this._reduceValues(values, (name) => {\n            if (name.value === undefined)\n                throw new Error(`CodeGen: name \"${name}\" has no value`);\n            return name.value.code;\n        }, usedValues, getCode);\n    }\n    _reduceValues(values, valueCode, usedValues = {}, getCode) {\n        let code = code_1.nil;\n        for (const prefix in values) {\n            const vs = values[prefix];\n            if (!vs)\n                continue;\n            const nameSet = (usedValues[prefix] = usedValues[prefix] || new Map());\n            vs.forEach((name) => {\n                if (nameSet.has(name))\n                    return;\n                nameSet.set(name, UsedValueState.Started);\n                let c = valueCode(name);\n                if (c) {\n                    const def = this.opts.es5 ? exports.varKinds.var : exports.varKinds.const;\n                    code = code_1._ `${code}${def} ${name} = ${c};${this.opts._n}`;\n                }\n                else if ((c = getCode === null || getCode === void 0 ? void 0 : getCode(name))) {\n                    code = code_1._ `${code}${c}${this.opts._n}`;\n                }\n                else {\n                    throw new ValueError(name);\n                }\n                nameSet.set(name, UsedValueState.Completed);\n            });\n        }\n        return code;\n    }\n}\nexports.ValueScope = ValueScope;\n//# sourceMappingURL=scope.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extendErrors = exports.resetErrorsCount = exports.reportExtraError = exports.reportError = exports.keyword$DataError = exports.keywordError = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst util_1 = require(\"./util\");\nconst names_1 = require(\"./names\");\nexports.keywordError = {\n    message: ({ keyword }) => codegen_1.str `must pass \"${keyword}\" keyword validation`,\n};\nexports.keyword$DataError = {\n    message: ({ keyword, schemaType }) => schemaType\n        ? codegen_1.str `\"${keyword}\" keyword must be ${schemaType} ($data)`\n        : codegen_1.str `\"${keyword}\" keyword is invalid ($data)`,\n};\nfunction reportError(cxt, error = exports.keywordError, errorPaths, overrideAllErrors) {\n    const { it } = cxt;\n    const { gen, compositeRule, allErrors } = it;\n    const errObj = errorObjectCode(cxt, error, errorPaths);\n    if (overrideAllErrors !== null && overrideAllErrors !== void 0 ? overrideAllErrors : (compositeRule || allErrors)) {\n        addError(gen, errObj);\n    }\n    else {\n        returnErrors(it, codegen_1._ `[${errObj}]`);\n    }\n}\nexports.reportError = reportError;\nfunction reportExtraError(cxt, error = exports.keywordError, errorPaths) {\n    const { it } = cxt;\n    const { gen, compositeRule, allErrors } = it;\n    const errObj = errorObjectCode(cxt, error, errorPaths);\n    addError(gen, errObj);\n    if (!(compositeRule || allErrors)) {\n        returnErrors(it, names_1.default.vErrors);\n    }\n}\nexports.reportExtraError = reportExtraError;\nfunction resetErrorsCount(gen, errsCount) {\n    gen.assign(names_1.default.errors, errsCount);\n    gen.if(codegen_1._ `${names_1.default.vErrors} !== null`, () => gen.if(errsCount, () => gen.assign(codegen_1._ `${names_1.default.vErrors}.length`, errsCount), () => gen.assign(names_1.default.vErrors, null)));\n}\nexports.resetErrorsCount = resetErrorsCount;\nfunction extendErrors({ gen, keyword, schemaValue, data, errsCount, it, }) {\n    /* istanbul ignore if */\n    if (errsCount === undefined)\n        throw new Error(\"ajv implementation error\");\n    const err = gen.name(\"err\");\n    gen.forRange(\"i\", errsCount, names_1.default.errors, (i) => {\n        gen.const(err, codegen_1._ `${names_1.default.vErrors}[${i}]`);\n        gen.if(codegen_1._ `${err}.instancePath === undefined`, () => gen.assign(codegen_1._ `${err}.instancePath`, codegen_1.strConcat(names_1.default.instancePath, it.errorPath)));\n        gen.assign(codegen_1._ `${err}.schemaPath`, codegen_1.str `${it.errSchemaPath}/${keyword}`);\n        if (it.opts.verbose) {\n            gen.assign(codegen_1._ `${err}.schema`, schemaValue);\n            gen.assign(codegen_1._ `${err}.data`, data);\n        }\n    });\n}\nexports.extendErrors = extendErrors;\nfunction addError(gen, errObj) {\n    const err = gen.const(\"err\", errObj);\n    gen.if(codegen_1._ `${names_1.default.vErrors} === null`, () => gen.assign(names_1.default.vErrors, codegen_1._ `[${err}]`), codegen_1._ `${names_1.default.vErrors}.push(${err})`);\n    gen.code(codegen_1._ `${names_1.default.errors}++`);\n}\nfunction returnErrors(it, errs) {\n    const { gen, validateName, schemaEnv } = it;\n    if (schemaEnv.$async) {\n        gen.throw(codegen_1._ `new ${it.ValidationError}(${errs})`);\n    }\n    else {\n        gen.assign(codegen_1._ `${validateName}.errors`, errs);\n        gen.return(false);\n    }\n}\nconst E = {\n    keyword: new codegen_1.Name(\"keyword\"),\n    schemaPath: new codegen_1.Name(\"schemaPath\"),\n    params: new codegen_1.Name(\"params\"),\n    propertyName: new codegen_1.Name(\"propertyName\"),\n    message: new codegen_1.Name(\"message\"),\n    schema: new codegen_1.Name(\"schema\"),\n    parentSchema: new codegen_1.Name(\"parentSchema\"),\n};\nfunction errorObjectCode(cxt, error, errorPaths) {\n    const { createErrors } = cxt.it;\n    if (createErrors === false)\n        return codegen_1._ `{}`;\n    return errorObject(cxt, error, errorPaths);\n}\nfunction errorObject(cxt, error, errorPaths = {}) {\n    const { gen, it } = cxt;\n    const keyValues = [\n        errorInstancePath(it, errorPaths),\n        errorSchemaPath(cxt, errorPaths),\n    ];\n    extraErrorProps(cxt, error, keyValues);\n    return gen.object(...keyValues);\n}\nfunction errorInstancePath({ errorPath }, { instancePath }) {\n    const instPath = instancePath\n        ? codegen_1.str `${errorPath}${util_1.getErrorPath(instancePath, util_1.Type.Str)}`\n        : errorPath;\n    return [names_1.default.instancePath, codegen_1.strConcat(names_1.default.instancePath, instPath)];\n}\nfunction errorSchemaPath({ keyword, it: { errSchemaPath } }, { schemaPath, parentSchema }) {\n    let schPath = parentSchema ? errSchemaPath : codegen_1.str `${errSchemaPath}/${keyword}`;\n    if (schemaPath) {\n        schPath = codegen_1.str `${schPath}${util_1.getErrorPath(schemaPath, util_1.Type.Str)}`;\n    }\n    return [E.schemaPath, schPath];\n}\nfunction extraErrorProps(cxt, { params, message }, keyValues) {\n    const { keyword, data, schemaValue, it } = cxt;\n    const { opts, propertyName, topSchemaRef, schemaPath } = it;\n    keyValues.push([E.keyword, keyword], [E.params, typeof params == \"function\" ? params(cxt) : params || codegen_1._ `{}`]);\n    if (opts.messages) {\n        keyValues.push([E.message, typeof message == \"function\" ? message(cxt) : message]);\n    }\n    if (opts.verbose) {\n        keyValues.push([E.schema, schemaValue], [E.parentSchema, codegen_1._ `${topSchemaRef}${schemaPath}`], [names_1.default.data, data]);\n    }\n    if (propertyName)\n        keyValues.push([E.propertyName, propertyName]);\n}\n//# sourceMappingURL=errors.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveSchema = exports.getCompilingSchema = exports.resolveRef = exports.compileSchema = exports.SchemaEnv = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst validation_error_1 = require(\"../runtime/validation_error\");\nconst names_1 = require(\"./names\");\nconst resolve_1 = require(\"./resolve\");\nconst util_1 = require(\"./util\");\nconst validate_1 = require(\"./validate\");\nconst URI = require(\"uri-js\");\nclass SchemaEnv {\n    constructor(env) {\n        var _a;\n        this.refs = {};\n        this.dynamicAnchors = {};\n        let schema;\n        if (typeof env.schema == \"object\")\n            schema = env.schema;\n        this.schema = env.schema;\n        this.schemaId = env.schemaId;\n        this.root = env.root || this;\n        this.baseId = (_a = env.baseId) !== null && _a !== void 0 ? _a : resolve_1.normalizeId(schema === null || schema === void 0 ? void 0 : schema[env.schemaId || \"$id\"]);\n        this.schemaPath = env.schemaPath;\n        this.localRefs = env.localRefs;\n        this.meta = env.meta;\n        this.$async = schema === null || schema === void 0 ? void 0 : schema.$async;\n        this.refs = {};\n    }\n}\nexports.SchemaEnv = SchemaEnv;\n// let codeSize = 0\n// let nodeCount = 0\n// Compiles schema in SchemaEnv\nfunction compileSchema(sch) {\n    // TODO refactor - remove compilations\n    const _sch = getCompilingSchema.call(this, sch);\n    if (_sch)\n        return _sch;\n    const rootId = resolve_1.getFullPath(sch.root.baseId); // TODO if getFullPath removed 1 tests fails\n    const { es5, lines } = this.opts.code;\n    const { ownProperties } = this.opts;\n    const gen = new codegen_1.CodeGen(this.scope, { es5, lines, ownProperties });\n    let _ValidationError;\n    if (sch.$async) {\n        _ValidationError = gen.scopeValue(\"Error\", {\n            ref: validation_error_1.default,\n            code: codegen_1._ `require(\"ajv/dist/runtime/validation_error\").default`,\n        });\n    }\n    const validateName = gen.scopeName(\"validate\");\n    sch.validateName = validateName;\n    const schemaCxt = {\n        gen,\n        allErrors: this.opts.allErrors,\n        data: names_1.default.data,\n        parentData: names_1.default.parentData,\n        parentDataProperty: names_1.default.parentDataProperty,\n        dataNames: [names_1.default.data],\n        dataPathArr: [codegen_1.nil],\n        dataLevel: 0,\n        dataTypes: [],\n        definedProperties: new Set(),\n        topSchemaRef: gen.scopeValue(\"schema\", this.opts.code.source === true\n            ? { ref: sch.schema, code: codegen_1.stringify(sch.schema) }\n            : { ref: sch.schema }),\n        validateName,\n        ValidationError: _ValidationError,\n        schema: sch.schema,\n        schemaEnv: sch,\n        rootId,\n        baseId: sch.baseId || rootId,\n        schemaPath: codegen_1.nil,\n        errSchemaPath: sch.schemaPath || (this.opts.jtd ? \"\" : \"#\"),\n        errorPath: codegen_1._ `\"\"`,\n        opts: this.opts,\n        self: this,\n    };\n    let sourceCode;\n    try {\n        this._compilations.add(sch);\n        validate_1.validateFunctionCode(schemaCxt);\n        gen.optimize(this.opts.code.optimize);\n        // gen.optimize(1)\n        const validateCode = gen.toString();\n        sourceCode = `${gen.scopeRefs(names_1.default.scope)}return ${validateCode}`;\n        // console.log((codeSize += sourceCode.length), (nodeCount += gen.nodeCount))\n        if (this.opts.code.process)\n            sourceCode = this.opts.code.process(sourceCode, sch);\n        // console.log(\"\\n\\n\\n *** \\n\", sourceCode)\n        const makeValidate = new Function(`${names_1.default.self}`, `${names_1.default.scope}`, sourceCode);\n        const validate = makeValidate(this, this.scope.get());\n        this.scope.value(validateName, { ref: validate });\n        validate.errors = null;\n        validate.schema = sch.schema;\n        validate.schemaEnv = sch;\n        if (sch.$async)\n            validate.$async = true;\n        if (this.opts.code.source === true) {\n            validate.source = { validateName, validateCode, scopeValues: gen._values };\n        }\n        if (this.opts.unevaluated) {\n            const { props, items } = schemaCxt;\n            validate.evaluated = {\n                props: props instanceof codegen_1.Name ? undefined : props,\n                items: items instanceof codegen_1.Name ? undefined : items,\n                dynamicProps: props instanceof codegen_1.Name,\n                dynamicItems: items instanceof codegen_1.Name,\n            };\n            if (validate.source)\n                validate.source.evaluated = codegen_1.stringify(validate.evaluated);\n        }\n        sch.validate = validate;\n        return sch;\n    }\n    catch (e) {\n        delete sch.validate;\n        delete sch.validateName;\n        if (sourceCode)\n            this.logger.error(\"Error compiling schema, function code:\", sourceCode);\n        // console.log(\"\\n\\n\\n *** \\n\", sourceCode, this.opts)\n        throw e;\n    }\n    finally {\n        this._compilations.delete(sch);\n    }\n}\nexports.compileSchema = compileSchema;\nfunction resolveRef(root, baseId, ref) {\n    var _a;\n    ref = resolve_1.resolveUrl(baseId, ref);\n    const schOrFunc = root.refs[ref];\n    if (schOrFunc)\n        return schOrFunc;\n    let _sch = resolve.call(this, root, ref);\n    if (_sch === undefined) {\n        const schema = (_a = root.localRefs) === null || _a === void 0 ? void 0 : _a[ref]; // TODO maybe localRefs should hold SchemaEnv\n        const { schemaId } = this.opts;\n        if (schema)\n            _sch = new SchemaEnv({ schema, schemaId, root, baseId });\n    }\n    if (_sch === undefined)\n        return;\n    return (root.refs[ref] = inlineOrCompile.call(this, _sch));\n}\nexports.resolveRef = resolveRef;\nfunction inlineOrCompile(sch) {\n    if (resolve_1.inlineRef(sch.schema, this.opts.inlineRefs))\n        return sch.schema;\n    return sch.validate ? sch : compileSchema.call(this, sch);\n}\n// Index of schema compilation in the currently compiled list\nfunction getCompilingSchema(schEnv) {\n    for (const sch of this._compilations) {\n        if (sameSchemaEnv(sch, schEnv))\n            return sch;\n    }\n}\nexports.getCompilingSchema = getCompilingSchema;\nfunction sameSchemaEnv(s1, s2) {\n    return s1.schema === s2.schema && s1.root === s2.root && s1.baseId === s2.baseId;\n}\n// resolve and compile the references ($ref)\n// TODO returns AnySchemaObject (if the schema can be inlined) or validation function\nfunction resolve(root, // information about the root schema for the current schema\nref // reference to resolve\n) {\n    let sch;\n    while (typeof (sch = this.refs[ref]) == \"string\")\n        ref = sch;\n    return sch || this.schemas[ref] || resolveSchema.call(this, root, ref);\n}\n// Resolve schema, its root and baseId\nfunction resolveSchema(root, // root object with properties schema, refs TODO below SchemaEnv is assigned to it\nref // reference to resolve\n) {\n    const p = URI.parse(ref);\n    const refPath = resolve_1._getFullPath(p);\n    let baseId = resolve_1.getFullPath(root.baseId);\n    // TODO `Object.keys(root.schema).length > 0` should not be needed - but removing breaks 2 tests\n    if (Object.keys(root.schema).length > 0 && refPath === baseId) {\n        return getJsonPointer.call(this, p, root);\n    }\n    const id = resolve_1.normalizeId(refPath);\n    const schOrRef = this.refs[id] || this.schemas[id];\n    if (typeof schOrRef == \"string\") {\n        const sch = resolveSchema.call(this, root, schOrRef);\n        if (typeof (sch === null || sch === void 0 ? void 0 : sch.schema) !== \"object\")\n            return;\n        return getJsonPointer.call(this, p, sch);\n    }\n    if (typeof (schOrRef === null || schOrRef === void 0 ? void 0 : schOrRef.schema) !== \"object\")\n        return;\n    if (!schOrRef.validate)\n        compileSchema.call(this, schOrRef);\n    if (id === resolve_1.normalizeId(ref)) {\n        const { schema } = schOrRef;\n        const { schemaId } = this.opts;\n        const schId = schema[schemaId];\n        if (schId)\n            baseId = resolve_1.resolveUrl(baseId, schId);\n        return new SchemaEnv({ schema, schemaId, root, baseId });\n    }\n    return getJsonPointer.call(this, p, schOrRef);\n}\nexports.resolveSchema = resolveSchema;\nconst PREVENT_SCOPE_CHANGE = new Set([\n    \"properties\",\n    \"patternProperties\",\n    \"enum\",\n    \"dependencies\",\n    \"definitions\",\n]);\nfunction getJsonPointer(parsedRef, { baseId, schema, root }) {\n    var _a;\n    if (((_a = parsedRef.fragment) === null || _a === void 0 ? void 0 : _a[0]) !== \"/\")\n        return;\n    for (const part of parsedRef.fragment.slice(1).split(\"/\")) {\n        if (typeof schema == \"boolean\")\n            return;\n        schema = schema[util_1.unescapeFragment(part)];\n        if (schema === undefined)\n            return;\n        // TODO PREVENT_SCOPE_CHANGE could be defined in keyword def?\n        const schId = typeof schema == \"object\" && schema[this.opts.schemaId];\n        if (!PREVENT_SCOPE_CHANGE.has(part) && schId) {\n            baseId = resolve_1.resolveUrl(baseId, schId);\n        }\n    }\n    let env;\n    if (typeof schema != \"boolean\" && schema.$ref && !util_1.schemaHasRulesButRef(schema, this.RULES)) {\n        const $ref = resolve_1.resolveUrl(baseId, schema.$ref);\n        env = resolveSchema.call(this, root, $ref);\n    }\n    // even though resolution failed we need to return SchemaEnv to throw exception\n    // so that compileAsync loads missing schema.\n    const { schemaId } = this.opts;\n    env = env || new SchemaEnv({ schema, schemaId, root, baseId });\n    if (env.schema !== env.root.schema)\n        return env;\n    return undefined;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"./codegen\");\nconst names = {\n    // validation function arguments\n    data: new codegen_1.Name(\"data\"),\n    // args passed from referencing schema\n    valCxt: new codegen_1.Name(\"valCxt\"),\n    instancePath: new codegen_1.Name(\"instancePath\"),\n    parentData: new codegen_1.Name(\"parentData\"),\n    parentDataProperty: new codegen_1.Name(\"parentDataProperty\"),\n    rootData: new codegen_1.Name(\"rootData\"),\n    dynamicAnchors: new codegen_1.Name(\"dynamicAnchors\"),\n    // function scoped variables\n    vErrors: new codegen_1.Name(\"vErrors\"),\n    errors: new codegen_1.Name(\"errors\"),\n    this: new codegen_1.Name(\"this\"),\n    // \"globals\"\n    self: new codegen_1.Name(\"self\"),\n    scope: new codegen_1.Name(\"scope\"),\n    // JTD serialize/parse name for JSON string and position\n    json: new codegen_1.Name(\"json\"),\n    jsonPos: new codegen_1.Name(\"jsonPos\"),\n    jsonLen: new codegen_1.Name(\"jsonLen\"),\n    jsonPart: new codegen_1.Name(\"jsonPart\"),\n};\nexports.default = names;\n//# sourceMappingURL=names.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst resolve_1 = require(\"./resolve\");\nclass MissingRefError extends Error {\n    constructor(baseId, ref, msg) {\n        super(msg || `can't resolve reference ${ref} from id ${baseId}`);\n        this.missingRef = resolve_1.resolveUrl(baseId, ref);\n        this.missingSchema = resolve_1.normalizeId(resolve_1.getFullPath(this.missingRef));\n    }\n}\nexports.default = MissingRefError;\n//# sourceMappingURL=ref_error.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getSchemaRefs = exports.resolveUrl = exports.normalizeId = exports._getFullPath = exports.getFullPath = exports.inlineRef = void 0;\nconst util_1 = require(\"./util\");\nconst equal = require(\"fast-deep-equal\");\nconst traverse = require(\"json-schema-traverse\");\nconst URI = require(\"uri-js\");\n// TODO refactor to use keyword definitions\nconst SIMPLE_INLINED = new Set([\n    \"type\",\n    \"format\",\n    \"pattern\",\n    \"maxLength\",\n    \"minLength\",\n    \"maxProperties\",\n    \"minProperties\",\n    \"maxItems\",\n    \"minItems\",\n    \"maximum\",\n    \"minimum\",\n    \"uniqueItems\",\n    \"multipleOf\",\n    \"required\",\n    \"enum\",\n    \"const\",\n]);\nfunction inlineRef(schema, limit = true) {\n    if (typeof schema == \"boolean\")\n        return true;\n    if (limit === true)\n        return !hasRef(schema);\n    if (!limit)\n        return false;\n    return countKeys(schema) <= limit;\n}\nexports.inlineRef = inlineRef;\nconst REF_KEYWORDS = new Set([\n    \"$ref\",\n    \"$recursiveRef\",\n    \"$recursiveAnchor\",\n    \"$dynamicRef\",\n    \"$dynamicAnchor\",\n]);\nfunction hasRef(schema) {\n    for (const key in schema) {\n        if (REF_KEYWORDS.has(key))\n            return true;\n        const sch = schema[key];\n        if (Array.isArray(sch) && sch.some(hasRef))\n            return true;\n        if (typeof sch == \"object\" && hasRef(sch))\n            return true;\n    }\n    return false;\n}\nfunction countKeys(schema) {\n    let count = 0;\n    for (const key in schema) {\n        if (key === \"$ref\")\n            return Infinity;\n        count++;\n        if (SIMPLE_INLINED.has(key))\n            continue;\n        if (typeof schema[key] == \"object\") {\n            util_1.eachItem(schema[key], (sch) => (count += countKeys(sch)));\n        }\n        if (count === Infinity)\n            return Infinity;\n    }\n    return count;\n}\nfunction getFullPath(id = \"\", normalize) {\n    if (normalize !== false)\n        id = normalizeId(id);\n    const p = URI.parse(id);\n    return _getFullPath(p);\n}\nexports.getFullPath = getFullPath;\nfunction _getFullPath(p) {\n    return URI.serialize(p).split(\"#\")[0] + \"#\";\n}\nexports._getFullPath = _getFullPath;\nconst TRAILING_SLASH_HASH = /#\\/?$/;\nfunction normalizeId(id) {\n    return id ? id.replace(TRAILING_SLASH_HASH, \"\") : \"\";\n}\nexports.normalizeId = normalizeId;\nfunction resolveUrl(baseId, id) {\n    id = normalizeId(id);\n    return URI.resolve(baseId, id);\n}\nexports.resolveUrl = resolveUrl;\nconst ANCHOR = /^[a-z_][-a-z0-9._]*$/i;\nfunction getSchemaRefs(schema) {\n    if (typeof schema == \"boolean\")\n        return {};\n    const { schemaId } = this.opts;\n    const schId = normalizeId(schema[schemaId]);\n    const baseIds = { \"\": schId };\n    const pathPrefix = getFullPath(schId, false);\n    const localRefs = {};\n    const schemaRefs = new Set();\n    traverse(schema, { allKeys: true }, (sch, jsonPtr, _, parentJsonPtr) => {\n        if (parentJsonPtr === undefined)\n            return;\n        const fullPath = pathPrefix + jsonPtr;\n        let baseId = baseIds[parentJsonPtr];\n        if (typeof sch[schemaId] == \"string\")\n            baseId = addRef.call(this, sch[schemaId]);\n        addAnchor.call(this, sch.$anchor);\n        addAnchor.call(this, sch.$dynamicAnchor);\n        baseIds[jsonPtr] = baseId;\n        function addRef(ref) {\n            ref = normalizeId(baseId ? URI.resolve(baseId, ref) : ref);\n            if (schemaRefs.has(ref))\n                throw ambiguos(ref);\n            schemaRefs.add(ref);\n            let schOrRef = this.refs[ref];\n            if (typeof schOrRef == \"string\")\n                schOrRef = this.refs[schOrRef];\n            if (typeof schOrRef == \"object\") {\n                checkAmbiguosRef(sch, schOrRef.schema, ref);\n            }\n            else if (ref !== normalizeId(fullPath)) {\n                if (ref[0] === \"#\") {\n                    checkAmbiguosRef(sch, localRefs[ref], ref);\n                    localRefs[ref] = sch;\n                }\n                else {\n                    this.refs[ref] = fullPath;\n                }\n            }\n            return ref;\n        }\n        function addAnchor(anchor) {\n            if (typeof anchor == \"string\") {\n                if (!ANCHOR.test(anchor))\n                    throw new Error(`invalid anchor \"${anchor}\"`);\n                addRef.call(this, `#${anchor}`);\n            }\n        }\n    });\n    return localRefs;\n    function checkAmbiguosRef(sch1, sch2, ref) {\n        if (sch2 !== undefined && !equal(sch1, sch2))\n            throw ambiguos(ref);\n    }\n    function ambiguos(ref) {\n        return new Error(`reference \"${ref}\" resolves to more than one schema`);\n    }\n}\nexports.getSchemaRefs = getSchemaRefs;\n//# sourceMappingURL=resolve.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRules = exports.isJSONType = void 0;\nconst _jsonTypes = [\"string\", \"number\", \"integer\", \"boolean\", \"null\", \"object\", \"array\"];\nconst jsonTypes = new Set(_jsonTypes);\nfunction isJSONType(x) {\n    return typeof x == \"string\" && jsonTypes.has(x);\n}\nexports.isJSONType = isJSONType;\nfunction getRules() {\n    const groups = {\n        number: { type: \"number\", rules: [] },\n        string: { type: \"string\", rules: [] },\n        array: { type: \"array\", rules: [] },\n        object: { type: \"object\", rules: [] },\n    };\n    return {\n        types: { ...groups, integer: true, boolean: true, null: true },\n        rules: [{ rules: [] }, groups.number, groups.string, groups.array, groups.object],\n        post: { rules: [] },\n        all: {},\n        keywords: {},\n    };\n}\nexports.getRules = getRules;\n//# sourceMappingURL=rules.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkStrictMode = exports.getErrorPath = exports.Type = exports.useFunc = exports.setEvaluated = exports.evaluatedPropsToName = exports.mergeEvaluated = exports.eachItem = exports.unescapeJsonPointer = exports.escapeJsonPointer = exports.escapeFragment = exports.unescapeFragment = exports.schemaRefOrVal = exports.schemaHasRulesButRef = exports.schemaHasRules = exports.checkUnknownRules = exports.alwaysValidSchema = exports.toHash = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst code_1 = require(\"./codegen/code\");\n// TODO refactor to use Set\nfunction toHash(arr) {\n    const hash = {};\n    for (const item of arr)\n        hash[item] = true;\n    return hash;\n}\nexports.toHash = toHash;\nfunction alwaysValidSchema(it, schema) {\n    if (typeof schema == \"boolean\")\n        return schema;\n    if (Object.keys(schema).length === 0)\n        return true;\n    checkUnknownRules(it, schema);\n    return !schemaHasRules(schema, it.self.RULES.all);\n}\nexports.alwaysValidSchema = alwaysValidSchema;\nfunction checkUnknownRules(it, schema = it.schema) {\n    const { opts, self } = it;\n    if (!opts.strictSchema)\n        return;\n    if (typeof schema === \"boolean\")\n        return;\n    const rules = self.RULES.keywords;\n    for (const key in schema) {\n        if (!rules[key])\n            checkStrictMode(it, `unknown keyword: \"${key}\"`);\n    }\n}\nexports.checkUnknownRules = checkUnknownRules;\nfunction schemaHasRules(schema, rules) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (rules[key])\n            return true;\n    return false;\n}\nexports.schemaHasRules = schemaHasRules;\nfunction schemaHasRulesButRef(schema, RULES) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (key !== \"$ref\" && RULES.all[key])\n            return true;\n    return false;\n}\nexports.schemaHasRulesButRef = schemaHasRulesButRef;\nfunction schemaRefOrVal({ topSchemaRef, schemaPath }, schema, keyword, $data) {\n    if (!$data) {\n        if (typeof schema == \"number\" || typeof schema == \"boolean\")\n            return schema;\n        if (typeof schema == \"string\")\n            return codegen_1._ `${schema}`;\n    }\n    return codegen_1._ `${topSchemaRef}${schemaPath}${codegen_1.getProperty(keyword)}`;\n}\nexports.schemaRefOrVal = schemaRefOrVal;\nfunction unescapeFragment(str) {\n    return unescapeJsonPointer(decodeURIComponent(str));\n}\nexports.unescapeFragment = unescapeFragment;\nfunction escapeFragment(str) {\n    return encodeURIComponent(escapeJsonPointer(str));\n}\nexports.escapeFragment = escapeFragment;\nfunction escapeJsonPointer(str) {\n    if (typeof str == \"number\")\n        return `${str}`;\n    return str.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\n}\nexports.escapeJsonPointer = escapeJsonPointer;\nfunction unescapeJsonPointer(str) {\n    return str.replace(/~1/g, \"/\").replace(/~0/g, \"~\");\n}\nexports.unescapeJsonPointer = unescapeJsonPointer;\nfunction eachItem(xs, f) {\n    if (Array.isArray(xs)) {\n        for (const x of xs)\n            f(x);\n    }\n    else {\n        f(xs);\n    }\n}\nexports.eachItem = eachItem;\nfunction makeMergeEvaluated({ mergeNames, mergeToName, mergeValues, resultToName, }) {\n    return (gen, from, to, toName) => {\n        const res = to === undefined\n            ? from\n            : to instanceof codegen_1.Name\n                ? (from instanceof codegen_1.Name ? mergeNames(gen, from, to) : mergeToName(gen, from, to), to)\n                : from instanceof codegen_1.Name\n                    ? (mergeToName(gen, to, from), from)\n                    : mergeValues(from, to);\n        return toName === codegen_1.Name && !(res instanceof codegen_1.Name) ? resultToName(gen, res) : res;\n    };\n}\nexports.mergeEvaluated = {\n    props: makeMergeEvaluated({\n        mergeNames: (gen, from, to) => gen.if(codegen_1._ `${to} !== true && ${from} !== undefined`, () => {\n            gen.if(codegen_1._ `${from} === true`, () => gen.assign(to, true), () => gen.assign(to, codegen_1._ `${to} || {}`).code(codegen_1._ `Object.assign(${to}, ${from})`));\n        }),\n        mergeToName: (gen, from, to) => gen.if(codegen_1._ `${to} !== true`, () => {\n            if (from === true) {\n                gen.assign(to, true);\n            }\n            else {\n                gen.assign(to, codegen_1._ `${to} || {}`);\n                setEvaluated(gen, to, from);\n            }\n        }),\n        mergeValues: (from, to) => (from === true ? true : { ...from, ...to }),\n        resultToName: evaluatedPropsToName,\n    }),\n    items: makeMergeEvaluated({\n        mergeNames: (gen, from, to) => gen.if(codegen_1._ `${to} !== true && ${from} !== undefined`, () => gen.assign(to, codegen_1._ `${from} === true ? true : ${to} > ${from} ? ${to} : ${from}`)),\n        mergeToName: (gen, from, to) => gen.if(codegen_1._ `${to} !== true`, () => gen.assign(to, from === true ? true : codegen_1._ `${to} > ${from} ? ${to} : ${from}`)),\n        mergeValues: (from, to) => (from === true ? true : Math.max(from, to)),\n        resultToName: (gen, items) => gen.var(\"items\", items),\n    }),\n};\nfunction evaluatedPropsToName(gen, ps) {\n    if (ps === true)\n        return gen.var(\"props\", true);\n    const props = gen.var(\"props\", codegen_1._ `{}`);\n    if (ps !== undefined)\n        setEvaluated(gen, props, ps);\n    return props;\n}\nexports.evaluatedPropsToName = evaluatedPropsToName;\nfunction setEvaluated(gen, props, ps) {\n    Object.keys(ps).forEach((p) => gen.assign(codegen_1._ `${props}${codegen_1.getProperty(p)}`, true));\n}\nexports.setEvaluated = setEvaluated;\nconst snippets = {};\nfunction useFunc(gen, f) {\n    return gen.scopeValue(\"func\", {\n        ref: f,\n        code: snippets[f.code] || (snippets[f.code] = new code_1._Code(f.code)),\n    });\n}\nexports.useFunc = useFunc;\nvar Type;\n(function (Type) {\n    Type[Type[\"Num\"] = 0] = \"Num\";\n    Type[Type[\"Str\"] = 1] = \"Str\";\n})(Type = exports.Type || (exports.Type = {}));\nfunction getErrorPath(dataProp, dataPropType, jsPropertySyntax) {\n    // let path\n    if (dataProp instanceof codegen_1.Name) {\n        const isNumber = dataPropType === Type.Num;\n        return jsPropertySyntax\n            ? isNumber\n                ? codegen_1._ `\"[\" + ${dataProp} + \"]\"`\n                : codegen_1._ `\"['\" + ${dataProp} + \"']\"`\n            : isNumber\n                ? codegen_1._ `\"/\" + ${dataProp}`\n                : codegen_1._ `\"/\" + ${dataProp}.replace(/~/g, \"~0\").replace(/\\\\//g, \"~1\")`; // TODO maybe use global escapePointer\n    }\n    return jsPropertySyntax ? codegen_1.getProperty(dataProp).toString() : \"/\" + escapeJsonPointer(dataProp);\n}\nexports.getErrorPath = getErrorPath;\nfunction checkStrictMode(it, msg, mode = it.opts.strictSchema) {\n    if (!mode)\n        return;\n    msg = `strict mode: ${msg}`;\n    if (mode === true)\n        throw new Error(msg);\n    it.self.logger.warn(msg);\n}\nexports.checkStrictMode = checkStrictMode;\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.shouldUseRule = exports.shouldUseGroup = exports.schemaHasRulesForType = void 0;\nfunction schemaHasRulesForType({ schema, self }, type) {\n    const group = self.RULES.types[type];\n    return group && group !== true && shouldUseGroup(schema, group);\n}\nexports.schemaHasRulesForType = schemaHasRulesForType;\nfunction shouldUseGroup(schema, group) {\n    return group.rules.some((rule) => shouldUseRule(schema, rule));\n}\nexports.shouldUseGroup = shouldUseGroup;\nfunction shouldUseRule(schema, rule) {\n    var _a;\n    return (schema[rule.keyword] !== undefined ||\n        ((_a = rule.definition.implements) === null || _a === void 0 ? void 0 : _a.some((kwd) => schema[kwd] !== undefined)));\n}\nexports.shouldUseRule = shouldUseRule;\n//# sourceMappingURL=applicability.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.boolOrEmptySchema = exports.topBoolOrEmptySchema = void 0;\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst boolError = {\n    message: \"boolean schema is false\",\n};\nfunction topBoolOrEmptySchema(it) {\n    const { gen, schema, validateName } = it;\n    if (schema === false) {\n        falseSchemaError(it, false);\n    }\n    else if (typeof schema == \"object\" && schema.$async === true) {\n        gen.return(names_1.default.data);\n    }\n    else {\n        gen.assign(codegen_1._ `${validateName}.errors`, null);\n        gen.return(true);\n    }\n}\nexports.topBoolOrEmptySchema = topBoolOrEmptySchema;\nfunction boolOrEmptySchema(it, valid) {\n    const { gen, schema } = it;\n    if (schema === false) {\n        gen.var(valid, false); // TODO var\n        falseSchemaError(it);\n    }\n    else {\n        gen.var(valid, true); // TODO var\n    }\n}\nexports.boolOrEmptySchema = boolOrEmptySchema;\nfunction falseSchemaError(it, overrideAllErrors) {\n    const { gen, data } = it;\n    // TODO maybe some other interface should be used for non-keyword validation errors...\n    const cxt = {\n        gen,\n        keyword: \"false schema\",\n        data,\n        schema: false,\n        schemaCode: false,\n        schemaValue: false,\n        params: {},\n        it,\n    };\n    errors_1.reportError(cxt, boolError, undefined, overrideAllErrors);\n}\n//# sourceMappingURL=boolSchema.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reportTypeError = exports.checkDataTypes = exports.checkDataType = exports.coerceAndCheckDataType = exports.getJSONTypes = exports.getSchemaTypes = exports.DataType = void 0;\nconst rules_1 = require(\"../rules\");\nconst applicability_1 = require(\"./applicability\");\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nvar DataType;\n(function (DataType) {\n    DataType[DataType[\"Correct\"] = 0] = \"Correct\";\n    DataType[DataType[\"Wrong\"] = 1] = \"Wrong\";\n})(DataType = exports.DataType || (exports.DataType = {}));\nfunction getSchemaTypes(schema) {\n    const types = getJSONTypes(schema.type);\n    const hasNull = types.includes(\"null\");\n    if (hasNull) {\n        if (schema.nullable === false)\n            throw new Error(\"type: null contradicts nullable: false\");\n    }\n    else {\n        if (!types.length && schema.nullable !== undefined) {\n            throw new Error('\"nullable\" cannot be used without \"type\"');\n        }\n        if (schema.nullable === true)\n            types.push(\"null\");\n    }\n    return types;\n}\nexports.getSchemaTypes = getSchemaTypes;\nfunction getJSONTypes(ts) {\n    const types = Array.isArray(ts) ? ts : ts ? [ts] : [];\n    if (types.every(rules_1.isJSONType))\n        return types;\n    throw new Error(\"type must be JSONType or JSONType[]: \" + types.join(\",\"));\n}\nexports.getJSONTypes = getJSONTypes;\nfunction coerceAndCheckDataType(it, types) {\n    const { gen, data, opts } = it;\n    const coerceTo = coerceToTypes(types, opts.coerceTypes);\n    const checkTypes = types.length > 0 &&\n        !(coerceTo.length === 0 && types.length === 1 && applicability_1.schemaHasRulesForType(it, types[0]));\n    if (checkTypes) {\n        const wrongType = checkDataTypes(types, data, opts.strictNumbers, DataType.Wrong);\n        gen.if(wrongType, () => {\n            if (coerceTo.length)\n                coerceData(it, types, coerceTo);\n            else\n                reportTypeError(it);\n        });\n    }\n    return checkTypes;\n}\nexports.coerceAndCheckDataType = coerceAndCheckDataType;\nconst COERCIBLE = new Set([\"string\", \"number\", \"integer\", \"boolean\", \"null\"]);\nfunction coerceToTypes(types, coerceTypes) {\n    return coerceTypes\n        ? types.filter((t) => COERCIBLE.has(t) || (coerceTypes === \"array\" && t === \"array\"))\n        : [];\n}\nfunction coerceData(it, types, coerceTo) {\n    const { gen, data, opts } = it;\n    const dataType = gen.let(\"dataType\", codegen_1._ `typeof ${data}`);\n    const coerced = gen.let(\"coerced\", codegen_1._ `undefined`);\n    if (opts.coerceTypes === \"array\") {\n        gen.if(codegen_1._ `${dataType} == 'object' && Array.isArray(${data}) && ${data}.length == 1`, () => gen\n            .assign(data, codegen_1._ `${data}[0]`)\n            .assign(dataType, codegen_1._ `typeof ${data}`)\n            .if(checkDataTypes(types, data, opts.strictNumbers), () => gen.assign(coerced, data)));\n    }\n    gen.if(codegen_1._ `${coerced} !== undefined`);\n    for (const t of coerceTo) {\n        if (COERCIBLE.has(t) || (t === \"array\" && opts.coerceTypes === \"array\")) {\n            coerceSpecificType(t);\n        }\n    }\n    gen.else();\n    reportTypeError(it);\n    gen.endIf();\n    gen.if(codegen_1._ `${coerced} !== undefined`, () => {\n        gen.assign(data, coerced);\n        assignParentData(it, coerced);\n    });\n    function coerceSpecificType(t) {\n        switch (t) {\n            case \"string\":\n                gen\n                    .elseIf(codegen_1._ `${dataType} == \"number\" || ${dataType} == \"boolean\"`)\n                    .assign(coerced, codegen_1._ `\"\" + ${data}`)\n                    .elseIf(codegen_1._ `${data} === null`)\n                    .assign(coerced, codegen_1._ `\"\"`);\n                return;\n            case \"number\":\n                gen\n                    .elseIf(codegen_1._ `${dataType} == \"boolean\" || ${data} === null\n              || (${dataType} == \"string\" && ${data} && ${data} == +${data})`)\n                    .assign(coerced, codegen_1._ `+${data}`);\n                return;\n            case \"integer\":\n                gen\n                    .elseIf(codegen_1._ `${dataType} === \"boolean\" || ${data} === null\n              || (${dataType} === \"string\" && ${data} && ${data} == +${data} && !(${data} % 1))`)\n                    .assign(coerced, codegen_1._ `+${data}`);\n                return;\n            case \"boolean\":\n                gen\n                    .elseIf(codegen_1._ `${data} === \"false\" || ${data} === 0 || ${data} === null`)\n                    .assign(coerced, false)\n                    .elseIf(codegen_1._ `${data} === \"true\" || ${data} === 1`)\n                    .assign(coerced, true);\n                return;\n            case \"null\":\n                gen.elseIf(codegen_1._ `${data} === \"\" || ${data} === 0 || ${data} === false`);\n                gen.assign(coerced, null);\n                return;\n            case \"array\":\n                gen\n                    .elseIf(codegen_1._ `${dataType} === \"string\" || ${dataType} === \"number\"\n              || ${dataType} === \"boolean\" || ${data} === null`)\n                    .assign(coerced, codegen_1._ `[${data}]`);\n        }\n    }\n}\nfunction assignParentData({ gen, parentData, parentDataProperty }, expr) {\n    // TODO use gen.property\n    gen.if(codegen_1._ `${parentData} !== undefined`, () => gen.assign(codegen_1._ `${parentData}[${parentDataProperty}]`, expr));\n}\nfunction checkDataType(dataType, data, strictNums, correct = DataType.Correct) {\n    const EQ = correct === DataType.Correct ? codegen_1.operators.EQ : codegen_1.operators.NEQ;\n    let cond;\n    switch (dataType) {\n        case \"null\":\n            return codegen_1._ `${data} ${EQ} null`;\n        case \"array\":\n            cond = codegen_1._ `Array.isArray(${data})`;\n            break;\n        case \"object\":\n            cond = codegen_1._ `${data} && typeof ${data} == \"object\" && !Array.isArray(${data})`;\n            break;\n        case \"integer\":\n            cond = numCond(codegen_1._ `!(${data} % 1) && !isNaN(${data})`);\n            break;\n        case \"number\":\n            cond = numCond();\n            break;\n        default:\n            return codegen_1._ `typeof ${data} ${EQ} ${dataType}`;\n    }\n    return correct === DataType.Correct ? cond : codegen_1.not(cond);\n    function numCond(_cond = codegen_1.nil) {\n        return codegen_1.and(codegen_1._ `typeof ${data} == \"number\"`, _cond, strictNums ? codegen_1._ `isFinite(${data})` : codegen_1.nil);\n    }\n}\nexports.checkDataType = checkDataType;\nfunction checkDataTypes(dataTypes, data, strictNums, correct) {\n    if (dataTypes.length === 1) {\n        return checkDataType(dataTypes[0], data, strictNums, correct);\n    }\n    let cond;\n    const types = util_1.toHash(dataTypes);\n    if (types.array && types.object) {\n        const notObj = codegen_1._ `typeof ${data} != \"object\"`;\n        cond = types.null ? notObj : codegen_1._ `!${data} || ${notObj}`;\n        delete types.null;\n        delete types.array;\n        delete types.object;\n    }\n    else {\n        cond = codegen_1.nil;\n    }\n    if (types.number)\n        delete types.integer;\n    for (const t in types)\n        cond = codegen_1.and(cond, checkDataType(t, data, strictNums, correct));\n    return cond;\n}\nexports.checkDataTypes = checkDataTypes;\nconst typeError = {\n    message: ({ schema }) => `must be ${schema}`,\n    params: ({ schema, schemaValue }) => typeof schema == \"string\" ? codegen_1._ `{type: ${schema}}` : codegen_1._ `{type: ${schemaValue}}`,\n};\nfunction reportTypeError(it) {\n    const cxt = getTypeErrorContext(it);\n    errors_1.reportError(cxt, typeError);\n}\nexports.reportTypeError = reportTypeError;\nfunction getTypeErrorContext(it) {\n    const { gen, data, schema } = it;\n    const schemaCode = util_1.schemaRefOrVal(it, schema, \"type\");\n    return {\n        gen,\n        keyword: \"type\",\n        data,\n        schema: schema.type,\n        schemaCode,\n        schemaValue: schemaCode,\n        parentSchema: schema,\n        params: {},\n        it,\n    };\n}\n//# sourceMappingURL=dataType.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.assignDefaults = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nfunction assignDefaults(it, ty) {\n    const { properties, items } = it.schema;\n    if (ty === \"object\" && properties) {\n        for (const key in properties) {\n            assignDefault(it, key, properties[key].default);\n        }\n    }\n    else if (ty === \"array\" && Array.isArray(items)) {\n        items.forEach((sch, i) => assignDefault(it, i, sch.default));\n    }\n}\nexports.assignDefaults = assignDefaults;\nfunction assignDefault(it, prop, defaultValue) {\n    const { gen, compositeRule, data, opts } = it;\n    if (defaultValue === undefined)\n        return;\n    const childData = codegen_1._ `${data}${codegen_1.getProperty(prop)}`;\n    if (compositeRule) {\n        util_1.checkStrictMode(it, `default is ignored for: ${childData}`);\n        return;\n    }\n    let condition = codegen_1._ `${childData} === undefined`;\n    if (opts.useDefaults === \"empty\") {\n        condition = codegen_1._ `${condition} || ${childData} === null || ${childData} === \"\"`;\n    }\n    // `${childData} === undefined` +\n    // (opts.useDefaults === \"empty\" ? ` || ${childData} === null || ${childData} === \"\"` : \"\")\n    gen.if(condition, codegen_1._ `${childData} = ${codegen_1.stringify(defaultValue)}`);\n}\n//# sourceMappingURL=defaults.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getData = exports.KeywordCxt = exports.validateFunctionCode = void 0;\nconst boolSchema_1 = require(\"./boolSchema\");\nconst dataType_1 = require(\"./dataType\");\nconst applicability_1 = require(\"./applicability\");\nconst dataType_2 = require(\"./dataType\");\nconst defaults_1 = require(\"./defaults\");\nconst keyword_1 = require(\"./keyword\");\nconst subschema_1 = require(\"./subschema\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst resolve_1 = require(\"../resolve\");\nconst util_1 = require(\"../util\");\nconst errors_1 = require(\"../errors\");\n// schema compilation - generates validation function, subschemaCode (below) is used for subschemas\nfunction validateFunctionCode(it) {\n    if (isSchemaObj(it)) {\n        checkKeywords(it);\n        if (schemaCxtHasRules(it)) {\n            topSchemaObjCode(it);\n            return;\n        }\n    }\n    validateFunction(it, () => boolSchema_1.topBoolOrEmptySchema(it));\n}\nexports.validateFunctionCode = validateFunctionCode;\nfunction validateFunction({ gen, validateName, schema, schemaEnv, opts }, body) {\n    if (opts.code.es5) {\n        gen.func(validateName, codegen_1._ `${names_1.default.data}, ${names_1.default.valCxt}`, schemaEnv.$async, () => {\n            gen.code(codegen_1._ `\"use strict\"; ${funcSourceUrl(schema, opts)}`);\n            destructureValCxtES5(gen, opts);\n            gen.code(body);\n        });\n    }\n    else {\n        gen.func(validateName, codegen_1._ `${names_1.default.data}, ${destructureValCxt(opts)}`, schemaEnv.$async, () => gen.code(funcSourceUrl(schema, opts)).code(body));\n    }\n}\nfunction destructureValCxt(opts) {\n    return codegen_1._ `{${names_1.default.instancePath}=\"\", ${names_1.default.parentData}, ${names_1.default.parentDataProperty}, ${names_1.default.rootData}=${names_1.default.data}${opts.dynamicRef ? codegen_1._ `, ${names_1.default.dynamicAnchors}={}` : codegen_1.nil}}={}`;\n}\nfunction destructureValCxtES5(gen, opts) {\n    gen.if(names_1.default.valCxt, () => {\n        gen.var(names_1.default.instancePath, codegen_1._ `${names_1.default.valCxt}.${names_1.default.instancePath}`);\n        gen.var(names_1.default.parentData, codegen_1._ `${names_1.default.valCxt}.${names_1.default.parentData}`);\n        gen.var(names_1.default.parentDataProperty, codegen_1._ `${names_1.default.valCxt}.${names_1.default.parentDataProperty}`);\n        gen.var(names_1.default.rootData, codegen_1._ `${names_1.default.valCxt}.${names_1.default.rootData}`);\n        if (opts.dynamicRef)\n            gen.var(names_1.default.dynamicAnchors, codegen_1._ `${names_1.default.valCxt}.${names_1.default.dynamicAnchors}`);\n    }, () => {\n        gen.var(names_1.default.instancePath, codegen_1._ `\"\"`);\n        gen.var(names_1.default.parentData, codegen_1._ `undefined`);\n        gen.var(names_1.default.parentDataProperty, codegen_1._ `undefined`);\n        gen.var(names_1.default.rootData, names_1.default.data);\n        if (opts.dynamicRef)\n            gen.var(names_1.default.dynamicAnchors, codegen_1._ `{}`);\n    });\n}\nfunction topSchemaObjCode(it) {\n    const { schema, opts, gen } = it;\n    validateFunction(it, () => {\n        if (opts.$comment && schema.$comment)\n            commentKeyword(it);\n        checkNoDefault(it);\n        gen.let(names_1.default.vErrors, null);\n        gen.let(names_1.default.errors, 0);\n        if (opts.unevaluated)\n            resetEvaluated(it);\n        typeAndKeywords(it);\n        returnResults(it);\n    });\n    return;\n}\nfunction resetEvaluated(it) {\n    // TODO maybe some hook to execute it in the end to check whether props/items are Name, as in assignEvaluated\n    const { gen, validateName } = it;\n    it.evaluated = gen.const(\"evaluated\", codegen_1._ `${validateName}.evaluated`);\n    gen.if(codegen_1._ `${it.evaluated}.dynamicProps`, () => gen.assign(codegen_1._ `${it.evaluated}.props`, codegen_1._ `undefined`));\n    gen.if(codegen_1._ `${it.evaluated}.dynamicItems`, () => gen.assign(codegen_1._ `${it.evaluated}.items`, codegen_1._ `undefined`));\n}\nfunction funcSourceUrl(schema, opts) {\n    const schId = typeof schema == \"object\" && schema[opts.schemaId];\n    return schId && (opts.code.source || opts.code.process) ? codegen_1._ `/*# sourceURL=${schId} */` : codegen_1.nil;\n}\n// schema compilation - this function is used recursively to generate code for sub-schemas\nfunction subschemaCode(it, valid) {\n    if (isSchemaObj(it)) {\n        checkKeywords(it);\n        if (schemaCxtHasRules(it)) {\n            subSchemaObjCode(it, valid);\n            return;\n        }\n    }\n    boolSchema_1.boolOrEmptySchema(it, valid);\n}\nfunction schemaCxtHasRules({ schema, self }) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (self.RULES.all[key])\n            return true;\n    return false;\n}\nfunction isSchemaObj(it) {\n    return typeof it.schema != \"boolean\";\n}\nfunction subSchemaObjCode(it, valid) {\n    const { schema, gen, opts } = it;\n    if (opts.$comment && schema.$comment)\n        commentKeyword(it);\n    updateContext(it);\n    checkAsyncSchema(it);\n    const errsCount = gen.const(\"_errs\", names_1.default.errors);\n    typeAndKeywords(it, errsCount);\n    // TODO var\n    gen.var(valid, codegen_1._ `${errsCount} === ${names_1.default.errors}`);\n}\nfunction checkKeywords(it) {\n    util_1.checkUnknownRules(it);\n    checkRefsAndKeywords(it);\n}\nfunction typeAndKeywords(it, errsCount) {\n    if (it.opts.jtd)\n        return schemaKeywords(it, [], false, errsCount);\n    const types = dataType_1.getSchemaTypes(it.schema);\n    const checkedTypes = dataType_1.coerceAndCheckDataType(it, types);\n    schemaKeywords(it, types, !checkedTypes, errsCount);\n}\nfunction checkRefsAndKeywords(it) {\n    const { schema, errSchemaPath, opts, self } = it;\n    if (schema.$ref && opts.ignoreKeywordsWithRef && util_1.schemaHasRulesButRef(schema, self.RULES)) {\n        self.logger.warn(`$ref: keywords ignored in schema at path \"${errSchemaPath}\"`);\n    }\n}\nfunction checkNoDefault(it) {\n    const { schema, opts } = it;\n    if (schema.default !== undefined && opts.useDefaults && opts.strictSchema) {\n        util_1.checkStrictMode(it, \"default is ignored in the schema root\");\n    }\n}\nfunction updateContext(it) {\n    const schId = it.schema[it.opts.schemaId];\n    if (schId)\n        it.baseId = resolve_1.resolveUrl(it.baseId, schId);\n}\nfunction checkAsyncSchema(it) {\n    if (it.schema.$async && !it.schemaEnv.$async)\n        throw new Error(\"async schema in sync schema\");\n}\nfunction commentKeyword({ gen, schemaEnv, schema, errSchemaPath, opts }) {\n    const msg = schema.$comment;\n    if (opts.$comment === true) {\n        gen.code(codegen_1._ `${names_1.default.self}.logger.log(${msg})`);\n    }\n    else if (typeof opts.$comment == \"function\") {\n        const schemaPath = codegen_1.str `${errSchemaPath}/$comment`;\n        const rootName = gen.scopeValue(\"root\", { ref: schemaEnv.root });\n        gen.code(codegen_1._ `${names_1.default.self}.opts.$comment(${msg}, ${schemaPath}, ${rootName}.schema)`);\n    }\n}\nfunction returnResults(it) {\n    const { gen, schemaEnv, validateName, ValidationError, opts } = it;\n    if (schemaEnv.$async) {\n        // TODO assign unevaluated\n        gen.if(codegen_1._ `${names_1.default.errors} === 0`, () => gen.return(names_1.default.data), () => gen.throw(codegen_1._ `new ${ValidationError}(${names_1.default.vErrors})`));\n    }\n    else {\n        gen.assign(codegen_1._ `${validateName}.errors`, names_1.default.vErrors);\n        if (opts.unevaluated)\n            assignEvaluated(it);\n        gen.return(codegen_1._ `${names_1.default.errors} === 0`);\n    }\n}\nfunction assignEvaluated({ gen, evaluated, props, items }) {\n    if (props instanceof codegen_1.Name)\n        gen.assign(codegen_1._ `${evaluated}.props`, props);\n    if (items instanceof codegen_1.Name)\n        gen.assign(codegen_1._ `${evaluated}.items`, items);\n}\nfunction schemaKeywords(it, types, typeErrors, errsCount) {\n    const { gen, schema, data, allErrors, opts, self } = it;\n    const { RULES } = self;\n    if (schema.$ref && (opts.ignoreKeywordsWithRef || !util_1.schemaHasRulesButRef(schema, RULES))) {\n        gen.block(() => keywordCode(it, \"$ref\", RULES.all.$ref.definition)); // TODO typecast\n        return;\n    }\n    if (!opts.jtd)\n        checkStrictTypes(it, types);\n    gen.block(() => {\n        for (const group of RULES.rules)\n            groupKeywords(group);\n        groupKeywords(RULES.post);\n    });\n    function groupKeywords(group) {\n        if (!applicability_1.shouldUseGroup(schema, group))\n            return;\n        if (group.type) {\n            gen.if(dataType_2.checkDataType(group.type, data, opts.strictNumbers));\n            iterateKeywords(it, group);\n            if (types.length === 1 && types[0] === group.type && typeErrors) {\n                gen.else();\n                dataType_2.reportTypeError(it);\n            }\n            gen.endIf();\n        }\n        else {\n            iterateKeywords(it, group);\n        }\n        // TODO make it \"ok\" call?\n        if (!allErrors)\n            gen.if(codegen_1._ `${names_1.default.errors} === ${errsCount || 0}`);\n    }\n}\nfunction iterateKeywords(it, group) {\n    const { gen, schema, opts: { useDefaults }, } = it;\n    if (useDefaults)\n        defaults_1.assignDefaults(it, group.type);\n    gen.block(() => {\n        for (const rule of group.rules) {\n            if (applicability_1.shouldUseRule(schema, rule)) {\n                keywordCode(it, rule.keyword, rule.definition, group.type);\n            }\n        }\n    });\n}\nfunction checkStrictTypes(it, types) {\n    if (it.schemaEnv.meta || !it.opts.strictTypes)\n        return;\n    checkContextTypes(it, types);\n    if (!it.opts.allowUnionTypes)\n        checkMultipleTypes(it, types);\n    checkKeywordTypes(it, it.dataTypes);\n}\nfunction checkContextTypes(it, types) {\n    if (!types.length)\n        return;\n    if (!it.dataTypes.length) {\n        it.dataTypes = types;\n        return;\n    }\n    types.forEach((t) => {\n        if (!includesType(it.dataTypes, t)) {\n            strictTypesError(it, `type \"${t}\" not allowed by context \"${it.dataTypes.join(\",\")}\"`);\n        }\n    });\n    it.dataTypes = it.dataTypes.filter((t) => includesType(types, t));\n}\nfunction checkMultipleTypes(it, ts) {\n    if (ts.length > 1 && !(ts.length === 2 && ts.includes(\"null\"))) {\n        strictTypesError(it, \"use allowUnionTypes to allow union type keyword\");\n    }\n}\nfunction checkKeywordTypes(it, ts) {\n    const rules = it.self.RULES.all;\n    for (const keyword in rules) {\n        const rule = rules[keyword];\n        if (typeof rule == \"object\" && applicability_1.shouldUseRule(it.schema, rule)) {\n            const { type } = rule.definition;\n            if (type.length && !type.some((t) => hasApplicableType(ts, t))) {\n                strictTypesError(it, `missing type \"${type.join(\",\")}\" for keyword \"${keyword}\"`);\n            }\n        }\n    }\n}\nfunction hasApplicableType(schTs, kwdT) {\n    return schTs.includes(kwdT) || (kwdT === \"number\" && schTs.includes(\"integer\"));\n}\nfunction includesType(ts, t) {\n    return ts.includes(t) || (t === \"integer\" && ts.includes(\"number\"));\n}\nfunction strictTypesError(it, msg) {\n    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n    msg += ` at \"${schemaPath}\" (strictTypes)`;\n    util_1.checkStrictMode(it, msg, it.opts.strictTypes);\n}\nclass KeywordCxt {\n    constructor(it, def, keyword) {\n        keyword_1.validateKeywordUsage(it, def, keyword);\n        this.gen = it.gen;\n        this.allErrors = it.allErrors;\n        this.keyword = keyword;\n        this.data = it.data;\n        this.schema = it.schema[keyword];\n        this.$data = def.$data && it.opts.$data && this.schema && this.schema.$data;\n        this.schemaValue = util_1.schemaRefOrVal(it, this.schema, keyword, this.$data);\n        this.schemaType = def.schemaType;\n        this.parentSchema = it.schema;\n        this.params = {};\n        this.it = it;\n        this.def = def;\n        if (this.$data) {\n            this.schemaCode = it.gen.const(\"vSchema\", getData(this.$data, it));\n        }\n        else {\n            this.schemaCode = this.schemaValue;\n            if (!keyword_1.validSchemaType(this.schema, def.schemaType, def.allowUndefined)) {\n                throw new Error(`${keyword} value must be ${JSON.stringify(def.schemaType)}`);\n            }\n        }\n        if (\"code\" in def ? def.trackErrors : def.errors !== false) {\n            this.errsCount = it.gen.const(\"_errs\", names_1.default.errors);\n        }\n    }\n    result(condition, successAction, failAction) {\n        this.failResult(codegen_1.not(condition), successAction, failAction);\n    }\n    failResult(condition, successAction, failAction) {\n        this.gen.if(condition);\n        if (failAction)\n            failAction();\n        else\n            this.error();\n        if (successAction) {\n            this.gen.else();\n            successAction();\n            if (this.allErrors)\n                this.gen.endIf();\n        }\n        else {\n            if (this.allErrors)\n                this.gen.endIf();\n            else\n                this.gen.else();\n        }\n    }\n    pass(condition, failAction) {\n        this.failResult(codegen_1.not(condition), undefined, failAction);\n    }\n    fail(condition) {\n        if (condition === undefined) {\n            this.error();\n            if (!this.allErrors)\n                this.gen.if(false); // this branch will be removed by gen.optimize\n            return;\n        }\n        this.gen.if(condition);\n        this.error();\n        if (this.allErrors)\n            this.gen.endIf();\n        else\n            this.gen.else();\n    }\n    fail$data(condition) {\n        if (!this.$data)\n            return this.fail(condition);\n        const { schemaCode } = this;\n        this.fail(codegen_1._ `${schemaCode} !== undefined && (${codegen_1.or(this.invalid$data(), condition)})`);\n    }\n    error(append, errorParams, errorPaths) {\n        if (errorParams) {\n            this.setParams(errorParams);\n            this._error(append, errorPaths);\n            this.setParams({});\n            return;\n        }\n        this._error(append, errorPaths);\n    }\n    _error(append, errorPaths) {\n        ;\n        (append ? errors_1.reportExtraError : errors_1.reportError)(this, this.def.error, errorPaths);\n    }\n    $dataError() {\n        errors_1.reportError(this, this.def.$dataError || errors_1.keyword$DataError);\n    }\n    reset() {\n        if (this.errsCount === undefined)\n            throw new Error('add \"trackErrors\" to keyword definition');\n        errors_1.resetErrorsCount(this.gen, this.errsCount);\n    }\n    ok(cond) {\n        if (!this.allErrors)\n            this.gen.if(cond);\n    }\n    setParams(obj, assign) {\n        if (assign)\n            Object.assign(this.params, obj);\n        else\n            this.params = obj;\n    }\n    block$data(valid, codeBlock, $dataValid = codegen_1.nil) {\n        this.gen.block(() => {\n            this.check$data(valid, $dataValid);\n            codeBlock();\n        });\n    }\n    check$data(valid = codegen_1.nil, $dataValid = codegen_1.nil) {\n        if (!this.$data)\n            return;\n        const { gen, schemaCode, schemaType, def } = this;\n        gen.if(codegen_1.or(codegen_1._ `${schemaCode} === undefined`, $dataValid));\n        if (valid !== codegen_1.nil)\n            gen.assign(valid, true);\n        if (schemaType.length || def.validateSchema) {\n            gen.elseIf(this.invalid$data());\n            this.$dataError();\n            if (valid !== codegen_1.nil)\n                gen.assign(valid, false);\n        }\n        gen.else();\n    }\n    invalid$data() {\n        const { gen, schemaCode, schemaType, def, it } = this;\n        return codegen_1.or(wrong$DataType(), invalid$DataSchema());\n        function wrong$DataType() {\n            if (schemaType.length) {\n                /* istanbul ignore if */\n                if (!(schemaCode instanceof codegen_1.Name))\n                    throw new Error(\"ajv implementation error\");\n                const st = Array.isArray(schemaType) ? schemaType : [schemaType];\n                return codegen_1._ `${dataType_2.checkDataTypes(st, schemaCode, it.opts.strictNumbers, dataType_2.DataType.Wrong)}`;\n            }\n            return codegen_1.nil;\n        }\n        function invalid$DataSchema() {\n            if (def.validateSchema) {\n                const validateSchemaRef = gen.scopeValue(\"validate$data\", { ref: def.validateSchema }); // TODO value.code for standalone\n                return codegen_1._ `!${validateSchemaRef}(${schemaCode})`;\n            }\n            return codegen_1.nil;\n        }\n    }\n    subschema(appl, valid) {\n        const subschema = subschema_1.getSubschema(this.it, appl);\n        subschema_1.extendSubschemaData(subschema, this.it, appl);\n        subschema_1.extendSubschemaMode(subschema, appl);\n        const nextContext = { ...this.it, ...subschema, items: undefined, props: undefined };\n        subschemaCode(nextContext, valid);\n        return nextContext;\n    }\n    mergeEvaluated(schemaCxt, toName) {\n        const { it, gen } = this;\n        if (!it.opts.unevaluated)\n            return;\n        if (it.props !== true && schemaCxt.props !== undefined) {\n            it.props = util_1.mergeEvaluated.props(gen, schemaCxt.props, it.props, toName);\n        }\n        if (it.items !== true && schemaCxt.items !== undefined) {\n            it.items = util_1.mergeEvaluated.items(gen, schemaCxt.items, it.items, toName);\n        }\n    }\n    mergeValidEvaluated(schemaCxt, valid) {\n        const { it, gen } = this;\n        if (it.opts.unevaluated && (it.props !== true || it.items !== true)) {\n            gen.if(valid, () => this.mergeEvaluated(schemaCxt, codegen_1.Name));\n            return true;\n        }\n    }\n}\nexports.KeywordCxt = KeywordCxt;\nfunction keywordCode(it, keyword, def, ruleType) {\n    const cxt = new KeywordCxt(it, def, keyword);\n    if (\"code\" in def) {\n        def.code(cxt, ruleType);\n    }\n    else if (cxt.$data && def.validate) {\n        keyword_1.funcKeywordCode(cxt, def);\n    }\n    else if (\"macro\" in def) {\n        keyword_1.macroKeywordCode(cxt, def);\n    }\n    else if (def.compile || def.validate) {\n        keyword_1.funcKeywordCode(cxt, def);\n    }\n}\nconst JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/;\nconst RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;\nfunction getData($data, { dataLevel, dataNames, dataPathArr }) {\n    let jsonPointer;\n    let data;\n    if ($data === \"\")\n        return names_1.default.rootData;\n    if ($data[0] === \"/\") {\n        if (!JSON_POINTER.test($data))\n            throw new Error(`Invalid JSON-pointer: ${$data}`);\n        jsonPointer = $data;\n        data = names_1.default.rootData;\n    }\n    else {\n        const matches = RELATIVE_JSON_POINTER.exec($data);\n        if (!matches)\n            throw new Error(`Invalid JSON-pointer: ${$data}`);\n        const up = +matches[1];\n        jsonPointer = matches[2];\n        if (jsonPointer === \"#\") {\n            if (up >= dataLevel)\n                throw new Error(errorMsg(\"property/index\", up));\n            return dataPathArr[dataLevel - up];\n        }\n        if (up > dataLevel)\n            throw new Error(errorMsg(\"data\", up));\n        data = dataNames[dataLevel - up];\n        if (!jsonPointer)\n            return data;\n    }\n    let expr = data;\n    const segments = jsonPointer.split(\"/\");\n    for (const segment of segments) {\n        if (segment) {\n            data = codegen_1._ `${data}${codegen_1.getProperty(util_1.unescapeJsonPointer(segment))}`;\n            expr = codegen_1._ `${expr} && ${data}`;\n        }\n    }\n    return expr;\n    function errorMsg(pointerType, up) {\n        return `Cannot access ${pointerType} ${up} levels up, current level is ${dataLevel}`;\n    }\n}\nexports.getData = getData;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateKeywordUsage = exports.validSchemaType = exports.funcKeywordCode = exports.macroKeywordCode = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst code_1 = require(\"../../vocabularies/code\");\nconst errors_1 = require(\"../errors\");\nfunction macroKeywordCode(cxt, def) {\n    const { gen, keyword, schema, parentSchema, it } = cxt;\n    const macroSchema = def.macro.call(it.self, schema, parentSchema, it);\n    const schemaRef = useKeyword(gen, keyword, macroSchema);\n    if (it.opts.validateSchema !== false)\n        it.self.validateSchema(macroSchema, true);\n    const valid = gen.name(\"valid\");\n    cxt.subschema({\n        schema: macroSchema,\n        schemaPath: codegen_1.nil,\n        errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n        topSchemaRef: schemaRef,\n        compositeRule: true,\n    }, valid);\n    cxt.pass(valid, () => cxt.error(true));\n}\nexports.macroKeywordCode = macroKeywordCode;\nfunction funcKeywordCode(cxt, def) {\n    var _a;\n    const { gen, keyword, schema, parentSchema, $data, it } = cxt;\n    checkAsyncKeyword(it, def);\n    const validate = !$data && def.compile ? def.compile.call(it.self, schema, parentSchema, it) : def.validate;\n    const validateRef = useKeyword(gen, keyword, validate);\n    const valid = gen.let(\"valid\");\n    cxt.block$data(valid, validateKeyword);\n    cxt.ok((_a = def.valid) !== null && _a !== void 0 ? _a : valid);\n    function validateKeyword() {\n        if (def.errors === false) {\n            assignValid();\n            if (def.modifying)\n                modifyData(cxt);\n            reportErrs(() => cxt.error());\n        }\n        else {\n            const ruleErrs = def.async ? validateAsync() : validateSync();\n            if (def.modifying)\n                modifyData(cxt);\n            reportErrs(() => addErrs(cxt, ruleErrs));\n        }\n    }\n    function validateAsync() {\n        const ruleErrs = gen.let(\"ruleErrs\", null);\n        gen.try(() => assignValid(codegen_1._ `await `), (e) => gen.assign(valid, false).if(codegen_1._ `${e} instanceof ${it.ValidationError}`, () => gen.assign(ruleErrs, codegen_1._ `${e}.errors`), () => gen.throw(e)));\n        return ruleErrs;\n    }\n    function validateSync() {\n        const validateErrs = codegen_1._ `${validateRef}.errors`;\n        gen.assign(validateErrs, null);\n        assignValid(codegen_1.nil);\n        return validateErrs;\n    }\n    function assignValid(_await = def.async ? codegen_1._ `await ` : codegen_1.nil) {\n        const passCxt = it.opts.passContext ? names_1.default.this : names_1.default.self;\n        const passSchema = !((\"compile\" in def && !$data) || def.schema === false);\n        gen.assign(valid, codegen_1._ `${_await}${code_1.callValidateCode(cxt, validateRef, passCxt, passSchema)}`, def.modifying);\n    }\n    function reportErrs(errors) {\n        var _a;\n        gen.if(codegen_1.not((_a = def.valid) !== null && _a !== void 0 ? _a : valid), errors);\n    }\n}\nexports.funcKeywordCode = funcKeywordCode;\nfunction modifyData(cxt) {\n    const { gen, data, it } = cxt;\n    gen.if(it.parentData, () => gen.assign(data, codegen_1._ `${it.parentData}[${it.parentDataProperty}]`));\n}\nfunction addErrs(cxt, errs) {\n    const { gen } = cxt;\n    gen.if(codegen_1._ `Array.isArray(${errs})`, () => {\n        gen\n            .assign(names_1.default.vErrors, codegen_1._ `${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`)\n            .assign(names_1.default.errors, codegen_1._ `${names_1.default.vErrors}.length`);\n        errors_1.extendErrors(cxt);\n    }, () => cxt.error());\n}\nfunction checkAsyncKeyword({ schemaEnv }, def) {\n    if (def.async && !schemaEnv.$async)\n        throw new Error(\"async keyword in sync schema\");\n}\nfunction useKeyword(gen, keyword, result) {\n    if (result === undefined)\n        throw new Error(`keyword \"${keyword}\" failed to compile`);\n    return gen.scopeValue(\"keyword\", typeof result == \"function\" ? { ref: result } : { ref: result, code: codegen_1.stringify(result) });\n}\nfunction validSchemaType(schema, schemaType, allowUndefined = false) {\n    // TODO add tests\n    return (!schemaType.length ||\n        schemaType.some((st) => st === \"array\"\n            ? Array.isArray(schema)\n            : st === \"object\"\n                ? schema && typeof schema == \"object\" && !Array.isArray(schema)\n                : typeof schema == st || (allowUndefined && typeof schema == \"undefined\")));\n}\nexports.validSchemaType = validSchemaType;\nfunction validateKeywordUsage({ schema, opts, self, errSchemaPath }, def, keyword) {\n    /* istanbul ignore if */\n    if (Array.isArray(def.keyword) ? !def.keyword.includes(keyword) : def.keyword !== keyword) {\n        throw new Error(\"ajv implementation error\");\n    }\n    const deps = def.dependencies;\n    if (deps === null || deps === void 0 ? void 0 : deps.some((kwd) => !Object.prototype.hasOwnProperty.call(schema, kwd))) {\n        throw new Error(`parent schema must have dependencies of ${keyword}: ${deps.join(\",\")}`);\n    }\n    if (def.validateSchema) {\n        const valid = def.validateSchema(schema[keyword]);\n        if (!valid) {\n            const msg = `keyword \"${keyword}\" value is invalid at path \"${errSchemaPath}\": ` +\n                self.errorsText(def.validateSchema.errors);\n            if (opts.validateSchema === \"log\")\n                self.logger.error(msg);\n            else\n                throw new Error(msg);\n        }\n    }\n}\nexports.validateKeywordUsage = validateKeywordUsage;\n//# sourceMappingURL=keyword.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extendSubschemaMode = exports.extendSubschemaData = exports.getSubschema = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nfunction getSubschema(it, { keyword, schemaProp, schema, schemaPath, errSchemaPath, topSchemaRef }) {\n    if (keyword !== undefined && schema !== undefined) {\n        throw new Error('both \"keyword\" and \"schema\" passed, only one allowed');\n    }\n    if (keyword !== undefined) {\n        const sch = it.schema[keyword];\n        return schemaProp === undefined\n            ? {\n                schema: sch,\n                schemaPath: codegen_1._ `${it.schemaPath}${codegen_1.getProperty(keyword)}`,\n                errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n            }\n            : {\n                schema: sch[schemaProp],\n                schemaPath: codegen_1._ `${it.schemaPath}${codegen_1.getProperty(keyword)}${codegen_1.getProperty(schemaProp)}`,\n                errSchemaPath: `${it.errSchemaPath}/${keyword}/${util_1.escapeFragment(schemaProp)}`,\n            };\n    }\n    if (schema !== undefined) {\n        if (schemaPath === undefined || errSchemaPath === undefined || topSchemaRef === undefined) {\n            throw new Error('\"schemaPath\", \"errSchemaPath\" and \"topSchemaRef\" are required with \"schema\"');\n        }\n        return {\n            schema,\n            schemaPath,\n            topSchemaRef,\n            errSchemaPath,\n        };\n    }\n    throw new Error('either \"keyword\" or \"schema\" must be passed');\n}\nexports.getSubschema = getSubschema;\nfunction extendSubschemaData(subschema, it, { dataProp, dataPropType: dpType, data, dataTypes, propertyName }) {\n    if (data !== undefined && dataProp !== undefined) {\n        throw new Error('both \"data\" and \"dataProp\" passed, only one allowed');\n    }\n    const { gen } = it;\n    if (dataProp !== undefined) {\n        const { errorPath, dataPathArr, opts } = it;\n        const nextData = gen.let(\"data\", codegen_1._ `${it.data}${codegen_1.getProperty(dataProp)}`, true);\n        dataContextProps(nextData);\n        subschema.errorPath = codegen_1.str `${errorPath}${util_1.getErrorPath(dataProp, dpType, opts.jsPropertySyntax)}`;\n        subschema.parentDataProperty = codegen_1._ `${dataProp}`;\n        subschema.dataPathArr = [...dataPathArr, subschema.parentDataProperty];\n    }\n    if (data !== undefined) {\n        const nextData = data instanceof codegen_1.Name ? data : gen.let(\"data\", data, true); // replaceable if used once?\n        dataContextProps(nextData);\n        if (propertyName !== undefined)\n            subschema.propertyName = propertyName;\n        // TODO something is possibly wrong here with not changing parentDataProperty and not appending dataPathArr\n    }\n    if (dataTypes)\n        subschema.dataTypes = dataTypes;\n    function dataContextProps(_nextData) {\n        subschema.data = _nextData;\n        subschema.dataLevel = it.dataLevel + 1;\n        subschema.dataTypes = [];\n        it.definedProperties = new Set();\n        subschema.parentData = it.data;\n        subschema.dataNames = [...it.dataNames, _nextData];\n    }\n}\nexports.extendSubschemaData = extendSubschemaData;\nfunction extendSubschemaMode(subschema, { jtdDiscriminator, jtdMetadata, compositeRule, createErrors, allErrors }) {\n    if (compositeRule !== undefined)\n        subschema.compositeRule = compositeRule;\n    if (createErrors !== undefined)\n        subschema.createErrors = createErrors;\n    if (allErrors !== undefined)\n        subschema.allErrors = allErrors;\n    subschema.jtdDiscriminator = jtdDiscriminator; // not inherited\n    subschema.jtdMetadata = jtdMetadata; // not inherited\n}\nexports.extendSubschemaMode = extendSubschemaMode;\n//# sourceMappingURL=subschema.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = void 0;\nvar validate_1 = require(\"./compile/validate\");\nObject.defineProperty(exports, \"KeywordCxt\", { enumerable: true, get: function () { return validate_1.KeywordCxt; } });\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\nconst validation_error_1 = require(\"./runtime/validation_error\");\nconst ref_error_1 = require(\"./compile/ref_error\");\nconst rules_1 = require(\"./compile/rules\");\nconst compile_1 = require(\"./compile\");\nconst codegen_2 = require(\"./compile/codegen\");\nconst resolve_1 = require(\"./compile/resolve\");\nconst dataType_1 = require(\"./compile/validate/dataType\");\nconst util_1 = require(\"./compile/util\");\nconst $dataRefSchema = require(\"./refs/data.json\");\nconst META_IGNORE_OPTIONS = [\"removeAdditional\", \"useDefaults\", \"coerceTypes\"];\nconst EXT_SCOPE_NAMES = new Set([\n    \"validate\",\n    \"serialize\",\n    \"parse\",\n    \"wrapper\",\n    \"root\",\n    \"schema\",\n    \"keyword\",\n    \"pattern\",\n    \"formats\",\n    \"validate$data\",\n    \"func\",\n    \"obj\",\n    \"Error\",\n]);\nconst removedOptions = {\n    errorDataPath: \"\",\n    format: \"`validateFormats: false` can be used instead.\",\n    nullable: '\"nullable\" keyword is supported by default.',\n    jsonPointers: \"Deprecated jsPropertySyntax can be used instead.\",\n    extendRefs: \"Deprecated ignoreKeywordsWithRef can be used instead.\",\n    missingRefs: \"Pass empty schema with $id that should be ignored to ajv.addSchema.\",\n    processCode: \"Use option `code: {process: (code, schemaEnv: object) => string}`\",\n    sourceCode: \"Use option `code: {source: true}`\",\n    strictDefaults: \"It is default now, see option `strict`.\",\n    strictKeywords: \"It is default now, see option `strict`.\",\n    uniqueItems: '\"uniqueItems\" keyword is always validated.',\n    unknownFormats: \"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).\",\n    cache: \"Map is used as cache, schema object as key.\",\n    serialize: \"Map is used as cache, schema object as key.\",\n    ajvErrors: \"It is default now.\",\n};\nconst deprecatedOptions = {\n    ignoreKeywordsWithRef: \"\",\n    jsPropertySyntax: \"\",\n    unicode: '\"minLength\"/\"maxLength\" account for unicode characters by default.',\n};\nconst MAX_EXPRESSION = 200;\n// eslint-disable-next-line complexity\nfunction requiredOptions(o) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x;\n    const s = o.strict;\n    const _optz = (_a = o.code) === null || _a === void 0 ? void 0 : _a.optimize;\n    const optimize = _optz === true || _optz === undefined ? 1 : _optz || 0;\n    return {\n        strictSchema: (_c = (_b = o.strictSchema) !== null && _b !== void 0 ? _b : s) !== null && _c !== void 0 ? _c : true,\n        strictNumbers: (_e = (_d = o.strictNumbers) !== null && _d !== void 0 ? _d : s) !== null && _e !== void 0 ? _e : true,\n        strictTypes: (_g = (_f = o.strictTypes) !== null && _f !== void 0 ? _f : s) !== null && _g !== void 0 ? _g : \"log\",\n        strictTuples: (_j = (_h = o.strictTuples) !== null && _h !== void 0 ? _h : s) !== null && _j !== void 0 ? _j : \"log\",\n        strictRequired: (_l = (_k = o.strictRequired) !== null && _k !== void 0 ? _k : s) !== null && _l !== void 0 ? _l : false,\n        code: o.code ? { ...o.code, optimize } : { optimize },\n        loopRequired: (_m = o.loopRequired) !== null && _m !== void 0 ? _m : MAX_EXPRESSION,\n        loopEnum: (_o = o.loopEnum) !== null && _o !== void 0 ? _o : MAX_EXPRESSION,\n        meta: (_p = o.meta) !== null && _p !== void 0 ? _p : true,\n        messages: (_q = o.messages) !== null && _q !== void 0 ? _q : true,\n        inlineRefs: (_r = o.inlineRefs) !== null && _r !== void 0 ? _r : true,\n        schemaId: (_s = o.schemaId) !== null && _s !== void 0 ? _s : \"$id\",\n        addUsedSchema: (_t = o.addUsedSchema) !== null && _t !== void 0 ? _t : true,\n        validateSchema: (_u = o.validateSchema) !== null && _u !== void 0 ? _u : true,\n        validateFormats: (_v = o.validateFormats) !== null && _v !== void 0 ? _v : true,\n        unicodeRegExp: (_w = o.unicodeRegExp) !== null && _w !== void 0 ? _w : true,\n        int32range: (_x = o.int32range) !== null && _x !== void 0 ? _x : true,\n    };\n}\nclass Ajv {\n    constructor(opts = {}) {\n        this.schemas = {};\n        this.refs = {};\n        this.formats = {};\n        this._compilations = new Set();\n        this._loading = {};\n        this._cache = new Map();\n        opts = this.opts = { ...opts, ...requiredOptions(opts) };\n        const { es5, lines } = this.opts.code;\n        this.scope = new codegen_2.ValueScope({ scope: {}, prefixes: EXT_SCOPE_NAMES, es5, lines });\n        this.logger = getLogger(opts.logger);\n        const formatOpt = opts.validateFormats;\n        opts.validateFormats = false;\n        this.RULES = rules_1.getRules();\n        checkOptions.call(this, removedOptions, opts, \"NOT SUPPORTED\");\n        checkOptions.call(this, deprecatedOptions, opts, \"DEPRECATED\", \"warn\");\n        this._metaOpts = getMetaSchemaOptions.call(this);\n        if (opts.formats)\n            addInitialFormats.call(this);\n        this._addVocabularies();\n        this._addDefaultMetaSchema();\n        if (opts.keywords)\n            addInitialKeywords.call(this, opts.keywords);\n        if (typeof opts.meta == \"object\")\n            this.addMetaSchema(opts.meta);\n        addInitialSchemas.call(this);\n        opts.validateFormats = formatOpt;\n    }\n    _addVocabularies() {\n        this.addKeyword(\"$async\");\n    }\n    _addDefaultMetaSchema() {\n        const { $data, meta, schemaId } = this.opts;\n        let _dataRefSchema = $dataRefSchema;\n        if (schemaId === \"id\") {\n            _dataRefSchema = { ...$dataRefSchema };\n            _dataRefSchema.id = _dataRefSchema.$id;\n            delete _dataRefSchema.$id;\n        }\n        if (meta && $data)\n            this.addMetaSchema(_dataRefSchema, _dataRefSchema[schemaId], false);\n    }\n    defaultMeta() {\n        const { meta, schemaId } = this.opts;\n        return (this.opts.defaultMeta = typeof meta == \"object\" ? meta[schemaId] || meta : undefined);\n    }\n    validate(schemaKeyRef, // key, ref or schema object\n    data // to be validated\n    ) {\n        let v;\n        if (typeof schemaKeyRef == \"string\") {\n            v = this.getSchema(schemaKeyRef);\n            if (!v)\n                throw new Error(`no schema with key or ref \"${schemaKeyRef}\"`);\n        }\n        else {\n            v = this.compile(schemaKeyRef);\n        }\n        const valid = v(data);\n        if (!(\"$async\" in v))\n            this.errors = v.errors;\n        return valid;\n    }\n    compile(schema, _meta) {\n        const sch = this._addSchema(schema, _meta);\n        return (sch.validate || this._compileSchemaEnv(sch));\n    }\n    compileAsync(schema, meta) {\n        if (typeof this.opts.loadSchema != \"function\") {\n            throw new Error(\"options.loadSchema should be a function\");\n        }\n        const { loadSchema } = this.opts;\n        return runCompileAsync.call(this, schema, meta);\n        async function runCompileAsync(_schema, _meta) {\n            await loadMetaSchema.call(this, _schema.$schema);\n            const sch = this._addSchema(_schema, _meta);\n            return sch.validate || _compileAsync.call(this, sch);\n        }\n        async function loadMetaSchema($ref) {\n            if ($ref && !this.getSchema($ref)) {\n                await runCompileAsync.call(this, { $ref }, true);\n            }\n        }\n        async function _compileAsync(sch) {\n            try {\n                return this._compileSchemaEnv(sch);\n            }\n            catch (e) {\n                if (!(e instanceof ref_error_1.default))\n                    throw e;\n                checkLoaded.call(this, e);\n                await loadMissingSchema.call(this, e.missingSchema);\n                return _compileAsync.call(this, sch);\n            }\n        }\n        function checkLoaded({ missingSchema: ref, missingRef }) {\n            if (this.refs[ref]) {\n                throw new Error(`AnySchema ${ref} is loaded but ${missingRef} cannot be resolved`);\n            }\n        }\n        async function loadMissingSchema(ref) {\n            const _schema = await _loadSchema.call(this, ref);\n            if (!this.refs[ref])\n                await loadMetaSchema.call(this, _schema.$schema);\n            if (!this.refs[ref])\n                this.addSchema(_schema, ref, meta);\n        }\n        async function _loadSchema(ref) {\n            const p = this._loading[ref];\n            if (p)\n                return p;\n            try {\n                return await (this._loading[ref] = loadSchema(ref));\n            }\n            finally {\n                delete this._loading[ref];\n            }\n        }\n    }\n    // Adds schema to the instance\n    addSchema(schema, // If array is passed, `key` will be ignored\n    key, // Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n    _meta, // true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n    _validateSchema = this.opts.validateSchema // false to skip schema validation. Used internally, option validateSchema should be used instead.\n    ) {\n        if (Array.isArray(schema)) {\n            for (const sch of schema)\n                this.addSchema(sch, undefined, _meta, _validateSchema);\n            return this;\n        }\n        let id;\n        if (typeof schema === \"object\") {\n            const { schemaId } = this.opts;\n            id = schema[schemaId];\n            if (id !== undefined && typeof id != \"string\") {\n                throw new Error(`schema ${schemaId} must be string`);\n            }\n        }\n        key = resolve_1.normalizeId(key || id);\n        this._checkUnique(key);\n        this.schemas[key] = this._addSchema(schema, _meta, key, _validateSchema, true);\n        return this;\n    }\n    // Add schema that will be used to validate other schemas\n    // options in META_IGNORE_OPTIONS are alway set to false\n    addMetaSchema(schema, key, // schema key\n    _validateSchema = this.opts.validateSchema // false to skip schema validation, can be used to override validateSchema option for meta-schema\n    ) {\n        this.addSchema(schema, key, true, _validateSchema);\n        return this;\n    }\n    //  Validate schema against its meta-schema\n    validateSchema(schema, throwOrLogError) {\n        if (typeof schema == \"boolean\")\n            return true;\n        let $schema;\n        $schema = schema.$schema;\n        if ($schema !== undefined && typeof $schema != \"string\") {\n            throw new Error(\"$schema must be a string\");\n        }\n        $schema = $schema || this.opts.defaultMeta || this.defaultMeta();\n        if (!$schema) {\n            this.logger.warn(\"meta-schema not available\");\n            this.errors = null;\n            return true;\n        }\n        const valid = this.validate($schema, schema);\n        if (!valid && throwOrLogError) {\n            const message = \"schema is invalid: \" + this.errorsText();\n            if (this.opts.validateSchema === \"log\")\n                this.logger.error(message);\n            else\n                throw new Error(message);\n        }\n        return valid;\n    }\n    // Get compiled schema by `key` or `ref`.\n    // (`key` that was passed to `addSchema` or full schema reference - `schema.$id` or resolved id)\n    getSchema(keyRef) {\n        let sch;\n        while (typeof (sch = getSchEnv.call(this, keyRef)) == \"string\")\n            keyRef = sch;\n        if (sch === undefined) {\n            const { schemaId } = this.opts;\n            const root = new compile_1.SchemaEnv({ schema: {}, schemaId });\n            sch = compile_1.resolveSchema.call(this, root, keyRef);\n            if (!sch)\n                return;\n            this.refs[keyRef] = sch;\n        }\n        return (sch.validate || this._compileSchemaEnv(sch));\n    }\n    // Remove cached schema(s).\n    // If no parameter is passed all schemas but meta-schemas are removed.\n    // If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n    // Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n    removeSchema(schemaKeyRef) {\n        if (schemaKeyRef instanceof RegExp) {\n            this._removeAllSchemas(this.schemas, schemaKeyRef);\n            this._removeAllSchemas(this.refs, schemaKeyRef);\n            return this;\n        }\n        switch (typeof schemaKeyRef) {\n            case \"undefined\":\n                this._removeAllSchemas(this.schemas);\n                this._removeAllSchemas(this.refs);\n                this._cache.clear();\n                return this;\n            case \"string\": {\n                const sch = getSchEnv.call(this, schemaKeyRef);\n                if (typeof sch == \"object\")\n                    this._cache.delete(sch.schema);\n                delete this.schemas[schemaKeyRef];\n                delete this.refs[schemaKeyRef];\n                return this;\n            }\n            case \"object\": {\n                const cacheKey = schemaKeyRef;\n                this._cache.delete(cacheKey);\n                let id = schemaKeyRef[this.opts.schemaId];\n                if (id) {\n                    id = resolve_1.normalizeId(id);\n                    delete this.schemas[id];\n                    delete this.refs[id];\n                }\n                return this;\n            }\n            default:\n                throw new Error(\"ajv.removeSchema: invalid parameter\");\n        }\n    }\n    // add \"vocabulary\" - a collection of keywords\n    addVocabulary(definitions) {\n        for (const def of definitions)\n            this.addKeyword(def);\n        return this;\n    }\n    addKeyword(kwdOrDef, def // deprecated\n    ) {\n        let keyword;\n        if (typeof kwdOrDef == \"string\") {\n            keyword = kwdOrDef;\n            if (typeof def == \"object\") {\n                this.logger.warn(\"these parameters are deprecated, see docs for addKeyword\");\n                def.keyword = keyword;\n            }\n        }\n        else if (typeof kwdOrDef == \"object\" && def === undefined) {\n            def = kwdOrDef;\n            keyword = def.keyword;\n            if (Array.isArray(keyword) && !keyword.length) {\n                throw new Error(\"addKeywords: keyword must be string or non-empty array\");\n            }\n        }\n        else {\n            throw new Error(\"invalid addKeywords parameters\");\n        }\n        checkKeyword.call(this, keyword, def);\n        if (!def) {\n            util_1.eachItem(keyword, (kwd) => addRule.call(this, kwd));\n            return this;\n        }\n        keywordMetaschema.call(this, def);\n        const definition = {\n            ...def,\n            type: dataType_1.getJSONTypes(def.type),\n            schemaType: dataType_1.getJSONTypes(def.schemaType),\n        };\n        util_1.eachItem(keyword, definition.type.length === 0\n            ? (k) => addRule.call(this, k, definition)\n            : (k) => definition.type.forEach((t) => addRule.call(this, k, definition, t)));\n        return this;\n    }\n    getKeyword(keyword) {\n        const rule = this.RULES.all[keyword];\n        return typeof rule == \"object\" ? rule.definition : !!rule;\n    }\n    // Remove keyword\n    removeKeyword(keyword) {\n        // TODO return type should be Ajv\n        const { RULES } = this;\n        delete RULES.keywords[keyword];\n        delete RULES.all[keyword];\n        for (const group of RULES.rules) {\n            const i = group.rules.findIndex((rule) => rule.keyword === keyword);\n            if (i >= 0)\n                group.rules.splice(i, 1);\n        }\n        return this;\n    }\n    // Add format\n    addFormat(name, format) {\n        if (typeof format == \"string\")\n            format = new RegExp(format);\n        this.formats[name] = format;\n        return this;\n    }\n    errorsText(errors = this.errors, // optional array of validation errors\n    { separator = \", \", dataVar = \"data\" } = {} // optional options with properties `separator` and `dataVar`\n    ) {\n        if (!errors || errors.length === 0)\n            return \"No errors\";\n        return errors\n            .map((e) => `${dataVar}${e.instancePath} ${e.message}`)\n            .reduce((text, msg) => text + separator + msg);\n    }\n    $dataMetaSchema(metaSchema, keywordsJsonPointers) {\n        const rules = this.RULES.all;\n        metaSchema = JSON.parse(JSON.stringify(metaSchema));\n        for (const jsonPointer of keywordsJsonPointers) {\n            const segments = jsonPointer.split(\"/\").slice(1); // first segment is an empty string\n            let keywords = metaSchema;\n            for (const seg of segments)\n                keywords = keywords[seg];\n            for (const key in rules) {\n                const rule = rules[key];\n                if (typeof rule != \"object\")\n                    continue;\n                const { $data } = rule.definition;\n                const schema = keywords[key];\n                if ($data && schema)\n                    keywords[key] = schemaOrData(schema);\n            }\n        }\n        return metaSchema;\n    }\n    _removeAllSchemas(schemas, regex) {\n        for (const keyRef in schemas) {\n            const sch = schemas[keyRef];\n            if (!regex || regex.test(keyRef)) {\n                if (typeof sch == \"string\") {\n                    delete schemas[keyRef];\n                }\n                else if (sch && !sch.meta) {\n                    this._cache.delete(sch.schema);\n                    delete schemas[keyRef];\n                }\n            }\n        }\n    }\n    _addSchema(schema, meta, baseId, validateSchema = this.opts.validateSchema, addSchema = this.opts.addUsedSchema) {\n        let id;\n        const { schemaId } = this.opts;\n        if (typeof schema == \"object\") {\n            id = schema[schemaId];\n        }\n        else {\n            if (this.opts.jtd)\n                throw new Error(\"schema must be object\");\n            else if (typeof schema != \"boolean\")\n                throw new Error(\"schema must be object or boolean\");\n        }\n        let sch = this._cache.get(schema);\n        if (sch !== undefined)\n            return sch;\n        const localRefs = resolve_1.getSchemaRefs.call(this, schema);\n        baseId = resolve_1.normalizeId(id || baseId);\n        sch = new compile_1.SchemaEnv({ schema, schemaId, meta, baseId, localRefs });\n        this._cache.set(sch.schema, sch);\n        if (addSchema && !baseId.startsWith(\"#\")) {\n            // TODO atm it is allowed to overwrite schemas without id (instead of not adding them)\n            if (baseId)\n                this._checkUnique(baseId);\n            this.refs[baseId] = sch;\n        }\n        if (validateSchema)\n            this.validateSchema(schema, true);\n        return sch;\n    }\n    _checkUnique(id) {\n        if (this.schemas[id] || this.refs[id]) {\n            throw new Error(`schema with key or id \"${id}\" already exists`);\n        }\n    }\n    _compileSchemaEnv(sch) {\n        if (sch.meta)\n            this._compileMetaSchema(sch);\n        else\n            compile_1.compileSchema.call(this, sch);\n        /* istanbul ignore if */\n        if (!sch.validate)\n            throw new Error(\"ajv implementation error\");\n        return sch.validate;\n    }\n    _compileMetaSchema(sch) {\n        const currentOpts = this.opts;\n        this.opts = this._metaOpts;\n        try {\n            compile_1.compileSchema.call(this, sch);\n        }\n        finally {\n            this.opts = currentOpts;\n        }\n    }\n}\nexports.default = Ajv;\nAjv.ValidationError = validation_error_1.default;\nAjv.MissingRefError = ref_error_1.default;\nfunction checkOptions(checkOpts, options, msg, log = \"error\") {\n    for (const key in checkOpts) {\n        const opt = key;\n        if (opt in options)\n            this.logger[log](`${msg}: option ${key}. ${checkOpts[opt]}`);\n    }\n}\nfunction getSchEnv(keyRef) {\n    keyRef = resolve_1.normalizeId(keyRef); // TODO tests fail without this line\n    return this.schemas[keyRef] || this.refs[keyRef];\n}\nfunction addInitialSchemas() {\n    const optsSchemas = this.opts.schemas;\n    if (!optsSchemas)\n        return;\n    if (Array.isArray(optsSchemas))\n        this.addSchema(optsSchemas);\n    else\n        for (const key in optsSchemas)\n            this.addSchema(optsSchemas[key], key);\n}\nfunction addInitialFormats() {\n    for (const name in this.opts.formats) {\n        const format = this.opts.formats[name];\n        if (format)\n            this.addFormat(name, format);\n    }\n}\nfunction addInitialKeywords(defs) {\n    if (Array.isArray(defs)) {\n        this.addVocabulary(defs);\n        return;\n    }\n    this.logger.warn(\"keywords option as map is deprecated, pass array\");\n    for (const keyword in defs) {\n        const def = defs[keyword];\n        if (!def.keyword)\n            def.keyword = keyword;\n        this.addKeyword(def);\n    }\n}\nfunction getMetaSchemaOptions() {\n    const metaOpts = { ...this.opts };\n    for (const opt of META_IGNORE_OPTIONS)\n        delete metaOpts[opt];\n    return metaOpts;\n}\nconst noLogs = { log() { }, warn() { }, error() { } };\nfunction getLogger(logger) {\n    if (logger === false)\n        return noLogs;\n    if (logger === undefined)\n        return console;\n    if (logger.log && logger.warn && logger.error)\n        return logger;\n    throw new Error(\"logger must implement log, warn and error methods\");\n}\nconst KEYWORD_NAME = /^[a-z_$][a-z0-9_$:-]*$/i;\nfunction checkKeyword(keyword, def) {\n    const { RULES } = this;\n    util_1.eachItem(keyword, (kwd) => {\n        if (RULES.keywords[kwd])\n            throw new Error(`Keyword ${kwd} is already defined`);\n        if (!KEYWORD_NAME.test(kwd))\n            throw new Error(`Keyword ${kwd} has invalid name`);\n    });\n    if (!def)\n        return;\n    if (def.$data && !(\"code\" in def || \"validate\" in def)) {\n        throw new Error('$data keyword must have \"code\" or \"validate\" function');\n    }\n}\nfunction addRule(keyword, definition, dataType) {\n    var _a;\n    const post = definition === null || definition === void 0 ? void 0 : definition.post;\n    if (dataType && post)\n        throw new Error('keyword with \"post\" flag cannot have \"type\"');\n    const { RULES } = this;\n    let ruleGroup = post ? RULES.post : RULES.rules.find(({ type: t }) => t === dataType);\n    if (!ruleGroup) {\n        ruleGroup = { type: dataType, rules: [] };\n        RULES.rules.push(ruleGroup);\n    }\n    RULES.keywords[keyword] = true;\n    if (!definition)\n        return;\n    const rule = {\n        keyword,\n        definition: {\n            ...definition,\n            type: dataType_1.getJSONTypes(definition.type),\n            schemaType: dataType_1.getJSONTypes(definition.schemaType),\n        },\n    };\n    if (definition.before)\n        addBeforeRule.call(this, ruleGroup, rule, definition.before);\n    else\n        ruleGroup.rules.push(rule);\n    RULES.all[keyword] = rule;\n    (_a = definition.implements) === null || _a === void 0 ? void 0 : _a.forEach((kwd) => this.addKeyword(kwd));\n}\nfunction addBeforeRule(ruleGroup, rule, before) {\n    const i = ruleGroup.rules.findIndex((_rule) => _rule.keyword === before);\n    if (i >= 0) {\n        ruleGroup.rules.splice(i, 0, rule);\n    }\n    else {\n        ruleGroup.rules.push(rule);\n        this.logger.warn(`rule ${before} is not defined`);\n    }\n}\nfunction keywordMetaschema(def) {\n    let { metaSchema } = def;\n    if (metaSchema === undefined)\n        return;\n    if (def.$data && this.opts.$data)\n        metaSchema = schemaOrData(metaSchema);\n    def.validateSchema = this.compile(metaSchema, true);\n}\nconst $dataRef = {\n    $ref: \"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#\",\n};\nfunction schemaOrData(schema) {\n    return { anyOf: [schema, $dataRef] };\n}\n//# sourceMappingURL=core.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://github.com/ajv-validator/ajv/issues/889\nconst equal = require(\"fast-deep-equal\");\nequal.code = 'require(\"ajv/dist/runtime/equal\").default';\nexports.default = equal;\n//# sourceMappingURL=equal.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nfunction ucs2length(str) {\n    const len = str.length;\n    let length = 0;\n    let pos = 0;\n    let value;\n    while (pos < len) {\n        length++;\n        value = str.charCodeAt(pos++);\n        if (value >= 0xd800 && value <= 0xdbff && pos < len) {\n            // high surrogate, and there is a next character\n            value = str.charCodeAt(pos);\n            if ((value & 0xfc00) === 0xdc00)\n                pos++; // low surrogate\n        }\n    }\n    return length;\n}\nexports.default = ucs2length;\nucs2length.code = 'require(\"ajv/dist/runtime/ucs2length\").default';\n//# sourceMappingURL=ucs2length.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass ValidationError extends Error {\n    constructor(errors) {\n        super(\"validation failed\");\n        this.errors = errors;\n        this.ajv = this.validation = true;\n    }\n}\nexports.default = ValidationError;\n//# sourceMappingURL=validation_error.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateAdditionalItems = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { len } }) => codegen_1.str `must NOT have more than ${len} items`,\n    params: ({ params: { len } }) => codegen_1._ `{limit: ${len}}`,\n};\nconst def = {\n    keyword: \"additionalItems\",\n    type: \"array\",\n    schemaType: [\"boolean\", \"object\"],\n    before: \"uniqueItems\",\n    error,\n    code(cxt) {\n        const { parentSchema, it } = cxt;\n        const { items } = parentSchema;\n        if (!Array.isArray(items)) {\n            util_1.checkStrictMode(it, '\"additionalItems\" is ignored when \"items\" is not an array of schemas');\n            return;\n        }\n        validateAdditionalItems(cxt, items);\n    },\n};\nfunction validateAdditionalItems(cxt, items) {\n    const { gen, schema, data, keyword, it } = cxt;\n    it.items = true;\n    const len = gen.const(\"len\", codegen_1._ `${data}.length`);\n    if (schema === false) {\n        cxt.setParams({ len: items.length });\n        cxt.pass(codegen_1._ `${len} <= ${items.length}`);\n    }\n    else if (typeof schema == \"object\" && !util_1.alwaysValidSchema(it, schema)) {\n        const valid = gen.var(\"valid\", codegen_1._ `${len} <= ${items.length}`); // TODO var\n        gen.if(codegen_1.not(valid), () => validateItems(valid));\n        cxt.ok(valid);\n    }\n    function validateItems(valid) {\n        gen.forRange(\"i\", items.length, len, (i) => {\n            cxt.subschema({ keyword, dataProp: i, dataPropType: util_1.Type.Num }, valid);\n            if (!it.allErrors)\n                gen.if(codegen_1.not(valid), () => gen.break());\n        });\n    }\n}\nexports.validateAdditionalItems = validateAdditionalItems;\nexports.default = def;\n//# sourceMappingURL=additionalItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"must NOT have additional properties\",\n    params: ({ params }) => codegen_1._ `{additionalProperty: ${params.additionalProperty}}`,\n};\nconst def = {\n    keyword: \"additionalProperties\",\n    type: [\"object\"],\n    schemaType: [\"boolean\", \"object\"],\n    allowUndefined: true,\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, errsCount, it } = cxt;\n        /* istanbul ignore if */\n        if (!errsCount)\n            throw new Error(\"ajv implementation error\");\n        const { allErrors, opts } = it;\n        it.props = true;\n        if (opts.removeAdditional !== \"all\" && util_1.alwaysValidSchema(it, schema))\n            return;\n        const props = code_1.allSchemaProperties(parentSchema.properties);\n        const patProps = code_1.allSchemaProperties(parentSchema.patternProperties);\n        checkAdditionalProperties();\n        cxt.ok(codegen_1._ `${errsCount} === ${names_1.default.errors}`);\n        function checkAdditionalProperties() {\n            gen.forIn(\"key\", data, (key) => {\n                if (!props.length && !patProps.length)\n                    additionalPropertyCode(key);\n                else\n                    gen.if(isAdditional(key), () => additionalPropertyCode(key));\n            });\n        }\n        function isAdditional(key) {\n            let definedProp;\n            if (props.length > 8) {\n                // TODO maybe an option instead of hard-coded 8?\n                const propsSchema = util_1.schemaRefOrVal(it, parentSchema.properties, \"properties\");\n                definedProp = code_1.isOwnProperty(gen, propsSchema, key);\n            }\n            else if (props.length) {\n                definedProp = codegen_1.or(...props.map((p) => codegen_1._ `${key} === ${p}`));\n            }\n            else {\n                definedProp = codegen_1.nil;\n            }\n            if (patProps.length) {\n                definedProp = codegen_1.or(definedProp, ...patProps.map((p) => codegen_1._ `${code_1.usePattern(cxt, p)}.test(${key})`));\n            }\n            return codegen_1.not(definedProp);\n        }\n        function deleteAdditional(key) {\n            gen.code(codegen_1._ `delete ${data}[${key}]`);\n        }\n        function additionalPropertyCode(key) {\n            if (opts.removeAdditional === \"all\" || (opts.removeAdditional && schema === false)) {\n                deleteAdditional(key);\n                return;\n            }\n            if (schema === false) {\n                cxt.setParams({ additionalProperty: key });\n                cxt.error();\n                if (!allErrors)\n                    gen.break();\n                return;\n            }\n            if (typeof schema == \"object\" && !util_1.alwaysValidSchema(it, schema)) {\n                const valid = gen.name(\"valid\");\n                if (opts.removeAdditional === \"failing\") {\n                    applyAdditionalSchema(key, valid, false);\n                    gen.if(codegen_1.not(valid), () => {\n                        cxt.reset();\n                        deleteAdditional(key);\n                    });\n                }\n                else {\n                    applyAdditionalSchema(key, valid);\n                    if (!allErrors)\n                        gen.if(codegen_1.not(valid), () => gen.break());\n                }\n            }\n        }\n        function applyAdditionalSchema(key, valid, errors) {\n            const subschema = {\n                keyword: \"additionalProperties\",\n                dataProp: key,\n                dataPropType: util_1.Type.Str,\n            };\n            if (errors === false) {\n                Object.assign(subschema, {\n                    compositeRule: true,\n                    createErrors: false,\n                    allErrors: false,\n                });\n            }\n            cxt.subschema(subschema, valid);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=additionalProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"allOf\",\n    schemaType: \"array\",\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        /* istanbul ignore if */\n        if (!Array.isArray(schema))\n            throw new Error(\"ajv implementation error\");\n        const valid = gen.name(\"valid\");\n        schema.forEach((sch, i) => {\n            if (util_1.alwaysValidSchema(it, sch))\n                return;\n            const schCxt = cxt.subschema({ keyword: \"allOf\", schemaProp: i }, valid);\n            cxt.ok(valid);\n            cxt.mergeEvaluated(schCxt);\n        });\n    },\n};\nexports.default = def;\n//# sourceMappingURL=allOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst def = {\n    keyword: \"anyOf\",\n    schemaType: \"array\",\n    trackErrors: true,\n    code: code_1.validateUnion,\n    error: { message: \"must match a schema in anyOf\" },\n};\nexports.default = def;\n//# sourceMappingURL=anyOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { min, max } }) => max === undefined\n        ? codegen_1.str `must contain at least ${min} valid item(s)`\n        : codegen_1.str `must contain at least ${min} and no more than ${max} valid item(s)`,\n    params: ({ params: { min, max } }) => max === undefined ? codegen_1._ `{minContains: ${min}}` : codegen_1._ `{minContains: ${min}, maxContains: ${max}}`,\n};\nconst def = {\n    keyword: \"contains\",\n    type: \"array\",\n    schemaType: [\"object\", \"boolean\"],\n    before: \"uniqueItems\",\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        let min;\n        let max;\n        const { minContains, maxContains } = parentSchema;\n        if (it.opts.next) {\n            min = minContains === undefined ? 1 : minContains;\n            max = maxContains;\n        }\n        else {\n            min = 1;\n        }\n        const len = gen.const(\"len\", codegen_1._ `${data}.length`);\n        cxt.setParams({ min, max });\n        if (max === undefined && min === 0) {\n            util_1.checkStrictMode(it, `\"minContains\" == 0 without \"maxContains\": \"contains\" keyword ignored`);\n            return;\n        }\n        if (max !== undefined && min > max) {\n            util_1.checkStrictMode(it, `\"minContains\" > \"maxContains\" is always invalid`);\n            cxt.fail();\n            return;\n        }\n        if (util_1.alwaysValidSchema(it, schema)) {\n            let cond = codegen_1._ `${len} >= ${min}`;\n            if (max !== undefined)\n                cond = codegen_1._ `${cond} && ${len} <= ${max}`;\n            cxt.pass(cond);\n            return;\n        }\n        it.items = true;\n        const valid = gen.name(\"valid\");\n        if (max === undefined && min === 1) {\n            validateItems(valid, () => gen.if(valid, () => gen.break()));\n        }\n        else {\n            gen.let(valid, false);\n            const schValid = gen.name(\"_valid\");\n            const count = gen.let(\"count\", 0);\n            validateItems(schValid, () => gen.if(schValid, () => checkLimits(count)));\n        }\n        cxt.result(valid, () => cxt.reset());\n        function validateItems(_valid, block) {\n            gen.forRange(\"i\", 0, len, (i) => {\n                cxt.subschema({\n                    keyword: \"contains\",\n                    dataProp: i,\n                    dataPropType: util_1.Type.Num,\n                    compositeRule: true,\n                }, _valid);\n                block();\n            });\n        }\n        function checkLimits(count) {\n            gen.code(codegen_1._ `${count}++`);\n            if (max === undefined) {\n                gen.if(codegen_1._ `${count} >= ${min}`, () => gen.assign(valid, true).break());\n            }\n            else {\n                gen.if(codegen_1._ `${count} > ${max}`, () => gen.assign(valid, false).break());\n                if (min === 1)\n                    gen.assign(valid, true);\n                else\n                    gen.if(codegen_1._ `${count} >= ${min}`, () => gen.assign(valid, true));\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=contains.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateSchemaDeps = exports.validatePropertyDeps = exports.error = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nexports.error = {\n    message: ({ params: { property, depsCount, deps } }) => {\n        const property_ies = depsCount === 1 ? \"property\" : \"properties\";\n        return codegen_1.str `must have ${property_ies} ${deps} when property ${property} is present`;\n    },\n    params: ({ params: { property, depsCount, deps, missingProperty } }) => codegen_1._ `{property: ${property},\n    missingProperty: ${missingProperty},\n    depsCount: ${depsCount},\n    deps: ${deps}}`, // TODO change to reference\n};\nconst def = {\n    keyword: \"dependencies\",\n    type: \"object\",\n    schemaType: \"object\",\n    error: exports.error,\n    code(cxt) {\n        const [propDeps, schDeps] = splitDependencies(cxt);\n        validatePropertyDeps(cxt, propDeps);\n        validateSchemaDeps(cxt, schDeps);\n    },\n};\nfunction splitDependencies({ schema }) {\n    const propertyDeps = {};\n    const schemaDeps = {};\n    for (const key in schema) {\n        if (key === \"__proto__\")\n            continue;\n        const deps = Array.isArray(schema[key]) ? propertyDeps : schemaDeps;\n        deps[key] = schema[key];\n    }\n    return [propertyDeps, schemaDeps];\n}\nfunction validatePropertyDeps(cxt, propertyDeps = cxt.schema) {\n    const { gen, data, it } = cxt;\n    if (Object.keys(propertyDeps).length === 0)\n        return;\n    const missing = gen.let(\"missing\");\n    for (const prop in propertyDeps) {\n        const deps = propertyDeps[prop];\n        if (deps.length === 0)\n            continue;\n        const hasProperty = code_1.propertyInData(gen, data, prop, it.opts.ownProperties);\n        cxt.setParams({\n            property: prop,\n            depsCount: deps.length,\n            deps: deps.join(\", \"),\n        });\n        if (it.allErrors) {\n            gen.if(hasProperty, () => {\n                for (const depProp of deps) {\n                    code_1.checkReportMissingProp(cxt, depProp);\n                }\n            });\n        }\n        else {\n            gen.if(codegen_1._ `${hasProperty} && (${code_1.checkMissingProp(cxt, deps, missing)})`);\n            code_1.reportMissingProp(cxt, missing);\n            gen.else();\n        }\n    }\n}\nexports.validatePropertyDeps = validatePropertyDeps;\nfunction validateSchemaDeps(cxt, schemaDeps = cxt.schema) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    for (const prop in schemaDeps) {\n        if (util_1.alwaysValidSchema(it, schemaDeps[prop]))\n            continue;\n        gen.if(code_1.propertyInData(gen, data, prop, it.opts.ownProperties), () => {\n            const schCxt = cxt.subschema({ keyword, schemaProp: prop }, valid);\n            cxt.mergeValidEvaluated(schCxt, valid);\n        }, () => gen.var(valid, true) // TODO var\n        );\n        cxt.ok(valid);\n    }\n}\nexports.validateSchemaDeps = validateSchemaDeps;\nexports.default = def;\n//# sourceMappingURL=dependencies.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params }) => codegen_1.str `must match \"${params.ifClause}\" schema`,\n    params: ({ params }) => codegen_1._ `{failingKeyword: ${params.ifClause}}`,\n};\nconst def = {\n    keyword: \"if\",\n    schemaType: [\"object\", \"boolean\"],\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, parentSchema, it } = cxt;\n        if (parentSchema.then === undefined && parentSchema.else === undefined) {\n            util_1.checkStrictMode(it, '\"if\" without \"then\" and \"else\" is ignored');\n        }\n        const hasThen = hasSchema(it, \"then\");\n        const hasElse = hasSchema(it, \"else\");\n        if (!hasThen && !hasElse)\n            return;\n        const valid = gen.let(\"valid\", true);\n        const schValid = gen.name(\"_valid\");\n        validateIf();\n        cxt.reset();\n        if (hasThen && hasElse) {\n            const ifClause = gen.let(\"ifClause\");\n            cxt.setParams({ ifClause });\n            gen.if(schValid, validateClause(\"then\", ifClause), validateClause(\"else\", ifClause));\n        }\n        else if (hasThen) {\n            gen.if(schValid, validateClause(\"then\"));\n        }\n        else {\n            gen.if(codegen_1.not(schValid), validateClause(\"else\"));\n        }\n        cxt.pass(valid, () => cxt.error(true));\n        function validateIf() {\n            const schCxt = cxt.subschema({\n                keyword: \"if\",\n                compositeRule: true,\n                createErrors: false,\n                allErrors: false,\n            }, schValid);\n            cxt.mergeEvaluated(schCxt);\n        }\n        function validateClause(keyword, ifClause) {\n            return () => {\n                const schCxt = cxt.subschema({ keyword }, schValid);\n                gen.assign(valid, schValid);\n                cxt.mergeValidEvaluated(schCxt, valid);\n                if (ifClause)\n                    gen.assign(ifClause, codegen_1._ `${keyword}`);\n                else\n                    cxt.setParams({ ifClause: keyword });\n            };\n        }\n    },\n};\nfunction hasSchema(it, keyword) {\n    const schema = it.schema[keyword];\n    return schema !== undefined && !util_1.alwaysValidSchema(it, schema);\n}\nexports.default = def;\n//# sourceMappingURL=if.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst additionalItems_1 = require(\"./additionalItems\");\nconst prefixItems_1 = require(\"./prefixItems\");\nconst items_1 = require(\"./items\");\nconst items2020_1 = require(\"./items2020\");\nconst contains_1 = require(\"./contains\");\nconst dependencies_1 = require(\"./dependencies\");\nconst propertyNames_1 = require(\"./propertyNames\");\nconst additionalProperties_1 = require(\"./additionalProperties\");\nconst properties_1 = require(\"./properties\");\nconst patternProperties_1 = require(\"./patternProperties\");\nconst not_1 = require(\"./not\");\nconst anyOf_1 = require(\"./anyOf\");\nconst oneOf_1 = require(\"./oneOf\");\nconst allOf_1 = require(\"./allOf\");\nconst if_1 = require(\"./if\");\nconst thenElse_1 = require(\"./thenElse\");\nfunction getApplicator(draft2020 = false) {\n    const applicator = [\n        // any\n        not_1.default,\n        anyOf_1.default,\n        oneOf_1.default,\n        allOf_1.default,\n        if_1.default,\n        thenElse_1.default,\n        // object\n        propertyNames_1.default,\n        additionalProperties_1.default,\n        dependencies_1.default,\n        properties_1.default,\n        patternProperties_1.default,\n    ];\n    // array\n    if (draft2020)\n        applicator.push(prefixItems_1.default, items2020_1.default);\n    else\n        applicator.push(additionalItems_1.default, items_1.default);\n    applicator.push(contains_1.default);\n    return applicator;\n}\nexports.default = getApplicator;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateTuple = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nconst def = {\n    keyword: \"items\",\n    type: \"array\",\n    schemaType: [\"object\", \"array\", \"boolean\"],\n    before: \"uniqueItems\",\n    code(cxt) {\n        const { schema, it } = cxt;\n        if (Array.isArray(schema))\n            return validateTuple(cxt, \"additionalItems\", schema);\n        it.items = true;\n        if (util_1.alwaysValidSchema(it, schema))\n            return;\n        cxt.ok(code_1.validateArray(cxt));\n    },\n};\nfunction validateTuple(cxt, extraItems, schArr = cxt.schema) {\n    const { gen, parentSchema, data, keyword, it } = cxt;\n    checkStrictTuple(parentSchema);\n    if (it.opts.unevaluated && schArr.length && it.items !== true) {\n        it.items = util_1.mergeEvaluated.items(gen, schArr.length, it.items);\n    }\n    const valid = gen.name(\"valid\");\n    const len = gen.const(\"len\", codegen_1._ `${data}.length`);\n    schArr.forEach((sch, i) => {\n        if (util_1.alwaysValidSchema(it, sch))\n            return;\n        gen.if(codegen_1._ `${len} > ${i}`, () => cxt.subschema({\n            keyword,\n            schemaProp: i,\n            dataProp: i,\n        }, valid));\n        cxt.ok(valid);\n    });\n    function checkStrictTuple(sch) {\n        const { opts, errSchemaPath } = it;\n        const l = schArr.length;\n        const fullTuple = l === sch.minItems && (l === sch.maxItems || sch[extraItems] === false);\n        if (opts.strictTuples && !fullTuple) {\n            const msg = `\"${keyword}\" is ${l}-tuple, but minItems or maxItems/${extraItems} are not specified or different at path \"${errSchemaPath}\"`;\n            util_1.checkStrictMode(it, msg, opts.strictTuples);\n        }\n    }\n}\nexports.validateTuple = validateTuple;\nexports.default = def;\n//# sourceMappingURL=items.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nconst additionalItems_1 = require(\"./additionalItems\");\nconst error = {\n    message: ({ params: { len } }) => codegen_1.str `must NOT have more than ${len} items`,\n    params: ({ params: { len } }) => codegen_1._ `{limit: ${len}}`,\n};\nconst def = {\n    keyword: \"items\",\n    type: \"array\",\n    schemaType: [\"object\", \"boolean\"],\n    before: \"uniqueItems\",\n    error,\n    code(cxt) {\n        const { schema, parentSchema, it } = cxt;\n        const { prefixItems } = parentSchema;\n        it.items = true;\n        if (util_1.alwaysValidSchema(it, schema))\n            return;\n        if (prefixItems)\n            additionalItems_1.validateAdditionalItems(cxt, prefixItems);\n        else\n            cxt.ok(code_1.validateArray(cxt));\n    },\n};\nexports.default = def;\n//# sourceMappingURL=items2020.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"not\",\n    schemaType: [\"object\", \"boolean\"],\n    trackErrors: true,\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        if (util_1.alwaysValidSchema(it, schema)) {\n            cxt.fail();\n            return;\n        }\n        const valid = gen.name(\"valid\");\n        cxt.subschema({\n            keyword: \"not\",\n            compositeRule: true,\n            createErrors: false,\n            allErrors: false,\n        }, valid);\n        cxt.failResult(valid, () => cxt.reset(), () => cxt.error());\n    },\n    error: { message: \"must NOT be valid\" },\n};\nexports.default = def;\n//# sourceMappingURL=not.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"must match exactly one schema in oneOf\",\n    params: ({ params }) => codegen_1._ `{passingSchemas: ${params.passing}}`,\n};\nconst def = {\n    keyword: \"oneOf\",\n    schemaType: \"array\",\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, it } = cxt;\n        /* istanbul ignore if */\n        if (!Array.isArray(schema))\n            throw new Error(\"ajv implementation error\");\n        if (it.opts.discriminator && parentSchema.discriminator)\n            return;\n        const schArr = schema;\n        const valid = gen.let(\"valid\", false);\n        const passing = gen.let(\"passing\", null);\n        const schValid = gen.name(\"_valid\");\n        cxt.setParams({ passing });\n        // TODO possibly fail straight away (with warning or exception) if there are two empty always valid schemas\n        gen.block(validateOneOf);\n        cxt.result(valid, () => cxt.reset(), () => cxt.error(true));\n        function validateOneOf() {\n            schArr.forEach((sch, i) => {\n                let schCxt;\n                if (util_1.alwaysValidSchema(it, sch)) {\n                    gen.var(schValid, true);\n                }\n                else {\n                    schCxt = cxt.subschema({\n                        keyword: \"oneOf\",\n                        schemaProp: i,\n                        compositeRule: true,\n                    }, schValid);\n                }\n                if (i > 0) {\n                    gen\n                        .if(codegen_1._ `${schValid} && ${valid}`)\n                        .assign(valid, false)\n                        .assign(passing, codegen_1._ `[${passing}, ${i}]`)\n                        .else();\n                }\n                gen.if(schValid, () => {\n                    gen.assign(valid, true);\n                    gen.assign(passing, i);\n                    if (schCxt)\n                        cxt.mergeEvaluated(schCxt, codegen_1.Name);\n                });\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=oneOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst util_2 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"patternProperties\",\n    type: \"object\",\n    schemaType: \"object\",\n    code(cxt) {\n        const { gen, schema, data, parentSchema, it } = cxt;\n        const { opts } = it;\n        const patterns = code_1.allSchemaProperties(schema);\n        const alwaysValidPatterns = patterns.filter((p) => util_1.alwaysValidSchema(it, schema[p]));\n        if (patterns.length === 0 ||\n            (alwaysValidPatterns.length === patterns.length &&\n                (!it.opts.unevaluated || it.props === true))) {\n            return;\n        }\n        const checkProperties = opts.strictSchema && !opts.allowMatchingProperties && parentSchema.properties;\n        const valid = gen.name(\"valid\");\n        if (it.props !== true && !(it.props instanceof codegen_1.Name)) {\n            it.props = util_2.evaluatedPropsToName(gen, it.props);\n        }\n        const { props } = it;\n        validatePatternProperties();\n        function validatePatternProperties() {\n            for (const pat of patterns) {\n                if (checkProperties)\n                    checkMatchingProperties(pat);\n                if (it.allErrors) {\n                    validateProperties(pat);\n                }\n                else {\n                    gen.var(valid, true); // TODO var\n                    validateProperties(pat);\n                    gen.if(valid);\n                }\n            }\n        }\n        function checkMatchingProperties(pat) {\n            for (const prop in checkProperties) {\n                if (new RegExp(pat).test(prop)) {\n                    util_1.checkStrictMode(it, `property ${prop} matches pattern ${pat} (use allowMatchingProperties)`);\n                }\n            }\n        }\n        function validateProperties(pat) {\n            gen.forIn(\"key\", data, (key) => {\n                gen.if(codegen_1._ `${code_1.usePattern(cxt, pat)}.test(${key})`, () => {\n                    const alwaysValid = alwaysValidPatterns.includes(pat);\n                    if (!alwaysValid) {\n                        cxt.subschema({\n                            keyword: \"patternProperties\",\n                            schemaProp: pat,\n                            dataProp: key,\n                            dataPropType: util_2.Type.Str,\n                        }, valid);\n                    }\n                    if (it.opts.unevaluated && props !== true) {\n                        gen.assign(codegen_1._ `${props}[${key}]`, true);\n                    }\n                    else if (!alwaysValid && !it.allErrors) {\n                        // can short-circuit if `unevaluatedProperties` is not supported (opts.next === false)\n                        // or if all properties were evaluated (props === true)\n                        gen.if(codegen_1.not(valid), () => gen.break());\n                    }\n                });\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=patternProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst items_1 = require(\"./items\");\nconst def = {\n    keyword: \"prefixItems\",\n    type: \"array\",\n    schemaType: [\"array\"],\n    before: \"uniqueItems\",\n    code: (cxt) => items_1.validateTuple(cxt, \"items\"),\n};\nexports.default = def;\n//# sourceMappingURL=prefixItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst validate_1 = require(\"../../compile/validate\");\nconst code_1 = require(\"../code\");\nconst util_1 = require(\"../../compile/util\");\nconst additionalProperties_1 = require(\"./additionalProperties\");\nconst def = {\n    keyword: \"properties\",\n    type: \"object\",\n    schemaType: \"object\",\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        if (it.opts.removeAdditional === \"all\" && parentSchema.additionalProperties === undefined) {\n            additionalProperties_1.default.code(new validate_1.KeywordCxt(it, additionalProperties_1.default, \"additionalProperties\"));\n        }\n        const allProps = code_1.allSchemaProperties(schema);\n        for (const prop of allProps) {\n            it.definedProperties.add(prop);\n        }\n        if (it.opts.unevaluated && allProps.length && it.props !== true) {\n            it.props = util_1.mergeEvaluated.props(gen, util_1.toHash(allProps), it.props);\n        }\n        const properties = allProps.filter((p) => !util_1.alwaysValidSchema(it, schema[p]));\n        if (properties.length === 0)\n            return;\n        const valid = gen.name(\"valid\");\n        for (const prop of properties) {\n            if (hasDefault(prop)) {\n                applyPropertySchema(prop);\n            }\n            else {\n                gen.if(code_1.propertyInData(gen, data, prop, it.opts.ownProperties));\n                applyPropertySchema(prop);\n                if (!it.allErrors)\n                    gen.else().var(valid, true);\n                gen.endIf();\n            }\n            cxt.it.definedProperties.add(prop);\n            cxt.ok(valid);\n        }\n        function hasDefault(prop) {\n            return it.opts.useDefaults && !it.compositeRule && schema[prop].default !== undefined;\n        }\n        function applyPropertySchema(prop) {\n            cxt.subschema({\n                keyword: \"properties\",\n                schemaProp: prop,\n                dataProp: prop,\n            }, valid);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=properties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"property name must be valid\",\n    params: ({ params }) => codegen_1._ `{propertyName: ${params.propertyName}}`,\n};\nconst def = {\n    keyword: \"propertyNames\",\n    type: \"object\",\n    schemaType: [\"object\", \"boolean\"],\n    error,\n    code(cxt) {\n        const { gen, schema, data, it } = cxt;\n        if (util_1.alwaysValidSchema(it, schema))\n            return;\n        const valid = gen.name(\"valid\");\n        gen.forIn(\"key\", data, (key) => {\n            cxt.setParams({ propertyName: key });\n            cxt.subschema({\n                keyword: \"propertyNames\",\n                data: key,\n                dataTypes: [\"string\"],\n                propertyName: key,\n                compositeRule: true,\n            }, valid);\n            gen.if(codegen_1.not(valid), () => {\n                cxt.error(true);\n                if (!it.allErrors)\n                    gen.break();\n            });\n        });\n        cxt.ok(valid);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=propertyNames.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: [\"then\", \"else\"],\n    schemaType: [\"object\", \"boolean\"],\n    code({ keyword, parentSchema, it }) {\n        if (parentSchema.if === undefined)\n            util_1.checkStrictMode(it, `\"${keyword}\" without \"if\" is ignored`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=thenElse.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateUnion = exports.validateArray = exports.usePattern = exports.callValidateCode = exports.schemaProperties = exports.allSchemaProperties = exports.noPropertyInData = exports.propertyInData = exports.isOwnProperty = exports.hasPropFunc = exports.reportMissingProp = exports.checkMissingProp = exports.checkReportMissingProp = void 0;\nconst codegen_1 = require(\"../compile/codegen\");\nconst util_1 = require(\"../compile/util\");\nconst names_1 = require(\"../compile/names\");\nfunction checkReportMissingProp(cxt, prop) {\n    const { gen, data, it } = cxt;\n    gen.if(noPropertyInData(gen, data, prop, it.opts.ownProperties), () => {\n        cxt.setParams({ missingProperty: codegen_1._ `${prop}` }, true);\n        cxt.error();\n    });\n}\nexports.checkReportMissingProp = checkReportMissingProp;\nfunction checkMissingProp({ gen, data, it: { opts } }, properties, missing) {\n    return codegen_1.or(...properties.map((prop) => codegen_1.and(noPropertyInData(gen, data, prop, opts.ownProperties), codegen_1._ `${missing} = ${prop}`)));\n}\nexports.checkMissingProp = checkMissingProp;\nfunction reportMissingProp(cxt, missing) {\n    cxt.setParams({ missingProperty: missing }, true);\n    cxt.error();\n}\nexports.reportMissingProp = reportMissingProp;\nfunction hasPropFunc(gen) {\n    return gen.scopeValue(\"func\", {\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        ref: Object.prototype.hasOwnProperty,\n        code: codegen_1._ `Object.prototype.hasOwnProperty`,\n    });\n}\nexports.hasPropFunc = hasPropFunc;\nfunction isOwnProperty(gen, data, property) {\n    return codegen_1._ `${hasPropFunc(gen)}.call(${data}, ${property})`;\n}\nexports.isOwnProperty = isOwnProperty;\nfunction propertyInData(gen, data, property, ownProperties) {\n    const cond = codegen_1._ `${data}${codegen_1.getProperty(property)} !== undefined`;\n    return ownProperties ? codegen_1._ `${cond} && ${isOwnProperty(gen, data, property)}` : cond;\n}\nexports.propertyInData = propertyInData;\nfunction noPropertyInData(gen, data, property, ownProperties) {\n    const cond = codegen_1._ `${data}${codegen_1.getProperty(property)} === undefined`;\n    return ownProperties ? codegen_1.or(cond, codegen_1.not(isOwnProperty(gen, data, property))) : cond;\n}\nexports.noPropertyInData = noPropertyInData;\nfunction allSchemaProperties(schemaMap) {\n    return schemaMap ? Object.keys(schemaMap).filter((p) => p !== \"__proto__\") : [];\n}\nexports.allSchemaProperties = allSchemaProperties;\nfunction schemaProperties(it, schemaMap) {\n    return allSchemaProperties(schemaMap).filter((p) => !util_1.alwaysValidSchema(it, schemaMap[p]));\n}\nexports.schemaProperties = schemaProperties;\nfunction callValidateCode({ schemaCode, data, it: { gen, topSchemaRef, schemaPath, errorPath }, it }, func, context, passSchema) {\n    const dataAndSchema = passSchema ? codegen_1._ `${schemaCode}, ${data}, ${topSchemaRef}${schemaPath}` : data;\n    const valCxt = [\n        [names_1.default.instancePath, codegen_1.strConcat(names_1.default.instancePath, errorPath)],\n        [names_1.default.parentData, it.parentData],\n        [names_1.default.parentDataProperty, it.parentDataProperty],\n        [names_1.default.rootData, names_1.default.rootData],\n    ];\n    if (it.opts.dynamicRef)\n        valCxt.push([names_1.default.dynamicAnchors, names_1.default.dynamicAnchors]);\n    const args = codegen_1._ `${dataAndSchema}, ${gen.object(...valCxt)}`;\n    return context !== codegen_1.nil ? codegen_1._ `${func}.call(${context}, ${args})` : codegen_1._ `${func}(${args})`;\n}\nexports.callValidateCode = callValidateCode;\nfunction usePattern({ gen, it: { opts } }, pattern) {\n    const u = opts.unicodeRegExp ? \"u\" : \"\";\n    return gen.scopeValue(\"pattern\", {\n        key: pattern,\n        ref: new RegExp(pattern, u),\n        code: codegen_1._ `new RegExp(${pattern}, ${u})`,\n    });\n}\nexports.usePattern = usePattern;\nfunction validateArray(cxt) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    if (it.allErrors) {\n        const validArr = gen.let(\"valid\", true);\n        validateItems(() => gen.assign(validArr, false));\n        return validArr;\n    }\n    gen.var(valid, true);\n    validateItems(() => gen.break());\n    return valid;\n    function validateItems(notValid) {\n        const len = gen.const(\"len\", codegen_1._ `${data}.length`);\n        gen.forRange(\"i\", 0, len, (i) => {\n            cxt.subschema({\n                keyword,\n                dataProp: i,\n                dataPropType: util_1.Type.Num,\n            }, valid);\n            gen.if(codegen_1.not(valid), notValid);\n        });\n    }\n}\nexports.validateArray = validateArray;\nfunction validateUnion(cxt) {\n    const { gen, schema, keyword, it } = cxt;\n    /* istanbul ignore if */\n    if (!Array.isArray(schema))\n        throw new Error(\"ajv implementation error\");\n    const alwaysValid = schema.some((sch) => util_1.alwaysValidSchema(it, sch));\n    if (alwaysValid && !it.opts.unevaluated)\n        return;\n    const valid = gen.let(\"valid\", false);\n    const schValid = gen.name(\"_valid\");\n    gen.block(() => schema.forEach((_sch, i) => {\n        const schCxt = cxt.subschema({\n            keyword,\n            schemaProp: i,\n            compositeRule: true,\n        }, schValid);\n        gen.assign(valid, codegen_1._ `${valid} || ${schValid}`);\n        const merged = cxt.mergeValidEvaluated(schCxt, schValid);\n        // can short-circuit if `unevaluatedProperties/Items` not supported (opts.unevaluated !== true)\n        // or if all properties and items were evaluated (it.props === true && it.items === true)\n        if (!merged)\n            gen.if(codegen_1.not(valid));\n    }));\n    cxt.result(valid, () => cxt.reset(), () => cxt.error(true));\n}\nexports.validateUnion = validateUnion;\n//# sourceMappingURL=code.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst def = {\n    keyword: \"id\",\n    code() {\n        throw new Error('NOT SUPPORTED: keyword \"id\", use \"$id\" for schema ID');\n    },\n};\nexports.default = def;\n//# sourceMappingURL=id.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst id_1 = require(\"./id\");\nconst ref_1 = require(\"./ref\");\nconst core = [\n    \"$schema\",\n    \"$id\",\n    \"$defs\",\n    \"$vocabulary\",\n    { keyword: \"$comment\" },\n    \"definitions\",\n    id_1.default,\n    ref_1.default,\n];\nexports.default = core;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.callRef = exports.getValidate = void 0;\nconst ref_error_1 = require(\"../../compile/ref_error\");\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst compile_1 = require(\"../../compile\");\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"$ref\",\n    schemaType: \"string\",\n    code(cxt) {\n        const { gen, schema: $ref, it } = cxt;\n        const { baseId, schemaEnv: env, validateName, opts, self } = it;\n        const { root } = env;\n        if (($ref === \"#\" || $ref === \"#/\") && baseId === root.baseId)\n            return callRootRef();\n        const schOrEnv = compile_1.resolveRef.call(self, root, baseId, $ref);\n        if (schOrEnv === undefined)\n            throw new ref_error_1.default(baseId, $ref);\n        if (schOrEnv instanceof compile_1.SchemaEnv)\n            return callValidate(schOrEnv);\n        return inlineRefSchema(schOrEnv);\n        function callRootRef() {\n            if (env === root)\n                return callRef(cxt, validateName, env, env.$async);\n            const rootName = gen.scopeValue(\"root\", { ref: root });\n            return callRef(cxt, codegen_1._ `${rootName}.validate`, root, root.$async);\n        }\n        function callValidate(sch) {\n            const v = getValidate(cxt, sch);\n            callRef(cxt, v, sch, sch.$async);\n        }\n        function inlineRefSchema(sch) {\n            const schName = gen.scopeValue(\"schema\", opts.code.source === true ? { ref: sch, code: codegen_1.stringify(sch) } : { ref: sch });\n            const valid = gen.name(\"valid\");\n            const schCxt = cxt.subschema({\n                schema: sch,\n                dataTypes: [],\n                schemaPath: codegen_1.nil,\n                topSchemaRef: schName,\n                errSchemaPath: $ref,\n            }, valid);\n            cxt.mergeEvaluated(schCxt);\n            cxt.ok(valid);\n        }\n    },\n};\nfunction getValidate(cxt, sch) {\n    const { gen } = cxt;\n    return sch.validate\n        ? gen.scopeValue(\"validate\", { ref: sch.validate })\n        : codegen_1._ `${gen.scopeValue(\"wrapper\", { ref: sch })}.validate`;\n}\nexports.getValidate = getValidate;\nfunction callRef(cxt, v, sch, $async) {\n    const { gen, it } = cxt;\n    const { allErrors, schemaEnv: env, opts } = it;\n    const passCxt = opts.passContext ? names_1.default.this : codegen_1.nil;\n    if ($async)\n        callAsyncRef();\n    else\n        callSyncRef();\n    function callAsyncRef() {\n        if (!env.$async)\n            throw new Error(\"async schema referenced by sync schema\");\n        const valid = gen.let(\"valid\");\n        gen.try(() => {\n            gen.code(codegen_1._ `await ${code_1.callValidateCode(cxt, v, passCxt)}`);\n            addEvaluatedFrom(v); // TODO will not work with async, it has to be returned with the result\n            if (!allErrors)\n                gen.assign(valid, true);\n        }, (e) => {\n            gen.if(codegen_1._ `!(${e} instanceof ${it.ValidationError})`, () => gen.throw(e));\n            addErrorsFrom(e);\n            if (!allErrors)\n                gen.assign(valid, false);\n        });\n        cxt.ok(valid);\n    }\n    function callSyncRef() {\n        cxt.result(code_1.callValidateCode(cxt, v, passCxt), () => addEvaluatedFrom(v), () => addErrorsFrom(v));\n    }\n    function addErrorsFrom(source) {\n        const errs = codegen_1._ `${source}.errors`;\n        gen.assign(names_1.default.vErrors, codegen_1._ `${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`); // TODO tagged\n        gen.assign(names_1.default.errors, codegen_1._ `${names_1.default.vErrors}.length`);\n    }\n    function addEvaluatedFrom(source) {\n        var _a;\n        if (!it.opts.unevaluated)\n            return;\n        const schEvaluated = (_a = sch === null || sch === void 0 ? void 0 : sch.validate) === null || _a === void 0 ? void 0 : _a.evaluated;\n        // TODO refactor\n        if (it.props !== true) {\n            if (schEvaluated && !schEvaluated.dynamicProps) {\n                if (schEvaluated.props !== undefined) {\n                    it.props = util_1.mergeEvaluated.props(gen, schEvaluated.props, it.props);\n                }\n            }\n            else {\n                const props = gen.var(\"props\", codegen_1._ `${source}.evaluated.props`);\n                it.props = util_1.mergeEvaluated.props(gen, props, it.props, codegen_1.Name);\n            }\n        }\n        if (it.items !== true) {\n            if (schEvaluated && !schEvaluated.dynamicItems) {\n                if (schEvaluated.items !== undefined) {\n                    it.items = util_1.mergeEvaluated.items(gen, schEvaluated.items, it.items);\n                }\n            }\n            else {\n                const items = gen.var(\"items\", codegen_1._ `${source}.evaluated.items`);\n                it.items = util_1.mergeEvaluated.items(gen, items, it.items, codegen_1.Name);\n            }\n        }\n    }\n}\nexports.callRef = callRef;\nexports.default = def;\n//# sourceMappingURL=ref.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst types_1 = require(\"../discriminator/types\");\nconst error = {\n    message: ({ params: { discrError, tagName } }) => discrError === types_1.DiscrError.Tag\n        ? `tag \"${tagName}\" must be string`\n        : `value of tag \"${tagName}\" must be in oneOf`,\n    params: ({ params: { discrError, tag, tagName } }) => codegen_1._ `{error: ${discrError}, tag: ${tagName}, tagValue: ${tag}}`,\n};\nconst def = {\n    keyword: \"discriminator\",\n    type: \"object\",\n    schemaType: \"object\",\n    error,\n    code(cxt) {\n        const { gen, data, schema, parentSchema, it } = cxt;\n        const { oneOf } = parentSchema;\n        if (!it.opts.discriminator) {\n            throw new Error(\"discriminator: requires discriminator option\");\n        }\n        const tagName = schema.propertyName;\n        if (typeof tagName != \"string\")\n            throw new Error(\"discriminator: requires propertyName\");\n        if (schema.mapping)\n            throw new Error(\"discriminator: mapping is not supported\");\n        if (!oneOf)\n            throw new Error(\"discriminator: requires oneOf keyword\");\n        const valid = gen.let(\"valid\", false);\n        const tag = gen.const(\"tag\", codegen_1._ `${data}${codegen_1.getProperty(tagName)}`);\n        gen.if(codegen_1._ `typeof ${tag} == \"string\"`, () => validateMapping(), () => cxt.error(false, { discrError: types_1.DiscrError.Tag, tag, tagName }));\n        cxt.ok(valid);\n        function validateMapping() {\n            const mapping = getMapping();\n            gen.if(false);\n            for (const tagValue in mapping) {\n                gen.elseIf(codegen_1._ `${tag} === ${tagValue}`);\n                gen.assign(valid, applyTagSchema(mapping[tagValue]));\n            }\n            gen.else();\n            cxt.error(false, { discrError: types_1.DiscrError.Mapping, tag, tagName });\n            gen.endIf();\n        }\n        function applyTagSchema(schemaProp) {\n            const _valid = gen.name(\"valid\");\n            const schCxt = cxt.subschema({ keyword: \"oneOf\", schemaProp }, _valid);\n            cxt.mergeEvaluated(schCxt, codegen_1.Name);\n            return _valid;\n        }\n        function getMapping() {\n            var _a;\n            const oneOfMapping = {};\n            const topRequired = hasRequired(parentSchema);\n            let tagRequired = true;\n            for (let i = 0; i < oneOf.length; i++) {\n                const sch = oneOf[i];\n                const propSch = (_a = sch.properties) === null || _a === void 0 ? void 0 : _a[tagName];\n                if (typeof propSch != \"object\") {\n                    throw new Error(`discriminator: oneOf schemas must have \"properties/${tagName}\"`);\n                }\n                tagRequired = tagRequired && (topRequired || hasRequired(sch));\n                addMappings(propSch, i);\n            }\n            if (!tagRequired)\n                throw new Error(`discriminator: \"${tagName}\" must be required`);\n            return oneOfMapping;\n            function hasRequired({ required }) {\n                return Array.isArray(required) && required.includes(tagName);\n            }\n            function addMappings(sch, i) {\n                if (sch.const) {\n                    addMapping(sch.const, i);\n                }\n                else if (sch.enum) {\n                    for (const tagValue of sch.enum) {\n                        addMapping(tagValue, i);\n                    }\n                }\n                else {\n                    throw new Error(`discriminator: \"properties/${tagName}\" must have \"const\" or \"enum\"`);\n                }\n            }\n            function addMapping(tagValue, i) {\n                if (typeof tagValue != \"string\" || tagValue in oneOfMapping) {\n                    throw new Error(`discriminator: \"${tagName}\" values must be unique strings`);\n                }\n                oneOfMapping[tagValue] = i;\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiscrError = void 0;\nvar DiscrError;\n(function (DiscrError) {\n    DiscrError[\"Tag\"] = \"tag\";\n    DiscrError[\"Mapping\"] = \"mapping\";\n})(DiscrError = exports.DiscrError || (exports.DiscrError = {}));\n//# sourceMappingURL=types.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst core_1 = require(\"./core\");\nconst validation_1 = require(\"./validation\");\nconst applicator_1 = require(\"./applicator\");\nconst format_1 = require(\"./format\");\nconst metadata_1 = require(\"./metadata\");\nconst draft7Vocabularies = [\n    core_1.default,\n    validation_1.default,\n    applicator_1.default(),\n    format_1.default,\n    metadata_1.metadataVocabulary,\n    metadata_1.contentVocabulary,\n];\nexports.default = draft7Vocabularies;\n//# sourceMappingURL=draft7.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => codegen_1.str `must match format \"${schemaCode}\"`,\n    params: ({ schemaCode }) => codegen_1._ `{format: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"format\",\n    type: [\"number\", \"string\"],\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt, ruleType) {\n        const { gen, data, $data, schema, schemaCode, it } = cxt;\n        const { opts, errSchemaPath, schemaEnv, self } = it;\n        if (!opts.validateFormats)\n            return;\n        if ($data)\n            validate$DataFormat();\n        else\n            validateFormat();\n        function validate$DataFormat() {\n            const fmts = gen.scopeValue(\"formats\", {\n                ref: self.formats,\n                code: opts.code.formats,\n            });\n            const fDef = gen.const(\"fDef\", codegen_1._ `${fmts}[${schemaCode}]`);\n            const fType = gen.let(\"fType\");\n            const format = gen.let(\"format\");\n            // TODO simplify\n            gen.if(codegen_1._ `typeof ${fDef} == \"object\" && !(${fDef} instanceof RegExp)`, () => gen.assign(fType, codegen_1._ `${fDef}.type || \"string\"`).assign(format, codegen_1._ `${fDef}.validate`), () => gen.assign(fType, codegen_1._ `\"string\"`).assign(format, fDef));\n            cxt.fail$data(codegen_1.or(unknownFmt(), invalidFmt()));\n            function unknownFmt() {\n                if (opts.strictSchema === false)\n                    return codegen_1.nil;\n                return codegen_1._ `${schemaCode} && !${format}`;\n            }\n            function invalidFmt() {\n                const callFormat = schemaEnv.$async\n                    ? codegen_1._ `(${fDef}.async ? await ${format}(${data}) : ${format}(${data}))`\n                    : codegen_1._ `${format}(${data})`;\n                const validData = codegen_1._ `(typeof ${format} == \"function\" ? ${callFormat} : ${format}.test(${data}))`;\n                return codegen_1._ `${format} && ${format} !== true && ${fType} === ${ruleType} && !${validData}`;\n            }\n        }\n        function validateFormat() {\n            const formatDef = self.formats[schema];\n            if (!formatDef) {\n                unknownFormat();\n                return;\n            }\n            if (formatDef === true)\n                return;\n            const [fmtType, format, fmtRef] = getFormat(formatDef);\n            if (fmtType === ruleType)\n                cxt.pass(validCondition());\n            function unknownFormat() {\n                if (opts.strictSchema === false) {\n                    self.logger.warn(unknownMsg());\n                    return;\n                }\n                throw new Error(unknownMsg());\n                function unknownMsg() {\n                    return `unknown format \"${schema}\" ignored in schema at path \"${errSchemaPath}\"`;\n                }\n            }\n            function getFormat(fmtDef) {\n                const code = fmtDef instanceof RegExp\n                    ? codegen_1.regexpCode(fmtDef)\n                    : opts.code.formats\n                        ? codegen_1._ `${opts.code.formats}${codegen_1.getProperty(schema)}`\n                        : undefined;\n                const fmt = gen.scopeValue(\"formats\", { key: schema, ref: fmtDef, code });\n                if (typeof fmtDef == \"object\" && !(fmtDef instanceof RegExp)) {\n                    return [fmtDef.type || \"string\", fmtDef.validate, codegen_1._ `${fmt}.validate`];\n                }\n                return [\"string\", fmtDef, fmt];\n            }\n            function validCondition() {\n                if (typeof formatDef == \"object\" && !(formatDef instanceof RegExp) && formatDef.async) {\n                    if (!schemaEnv.$async)\n                        throw new Error(\"async format in sync schema\");\n                    return codegen_1._ `await ${fmtRef}(${data})`;\n                }\n                return typeof format == \"function\" ? codegen_1._ `${fmtRef}(${data})` : codegen_1._ `${fmtRef}.test(${data})`;\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=format.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst format_1 = require(\"./format\");\nconst format = [format_1.default];\nexports.default = format;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.contentVocabulary = exports.metadataVocabulary = void 0;\nexports.metadataVocabulary = [\n    \"title\",\n    \"description\",\n    \"default\",\n    \"deprecated\",\n    \"readOnly\",\n    \"writeOnly\",\n    \"examples\",\n];\nexports.contentVocabulary = [\n    \"contentMediaType\",\n    \"contentEncoding\",\n    \"contentSchema\",\n];\n//# sourceMappingURL=metadata.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: \"must be equal to constant\",\n    params: ({ schemaCode }) => codegen_1._ `{allowedValue: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"const\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schemaCode, schema } = cxt;\n        if ($data || (schema && typeof schema == \"object\")) {\n            cxt.fail$data(codegen_1._ `!${util_1.useFunc(gen, equal_1.default)}(${data}, ${schemaCode})`);\n        }\n        else {\n            cxt.fail(codegen_1._ `${schema} !== ${data}`);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=const.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: \"must be equal to one of the allowed values\",\n    params: ({ schemaCode }) => codegen_1._ `{allowedValues: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"enum\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, schemaCode, it } = cxt;\n        if (!$data && schema.length === 0)\n            throw new Error(\"enum must have non-empty array\");\n        const useLoop = schema.length >= it.opts.loopEnum;\n        const eql = util_1.useFunc(gen, equal_1.default);\n        let valid;\n        if (useLoop || $data) {\n            valid = gen.let(\"valid\");\n            cxt.block$data(valid, loopEnum);\n        }\n        else {\n            /* istanbul ignore if */\n            if (!Array.isArray(schema))\n                throw new Error(\"ajv implementation error\");\n            const vSchema = gen.const(\"vSchema\", schemaCode);\n            valid = codegen_1.or(...schema.map((_x, i) => equalCode(vSchema, i)));\n        }\n        cxt.pass(valid);\n        function loopEnum() {\n            gen.assign(valid, false);\n            gen.forOf(\"v\", schemaCode, (v) => gen.if(codegen_1._ `${eql}(${data}, ${v})`, () => gen.assign(valid, true).break()));\n        }\n        function equalCode(vSchema, i) {\n            const sch = schema[i];\n            return typeof sch === \"object\" && sch !== null\n                ? codegen_1._ `${eql}(${data}, ${vSchema}[${i}])`\n                : codegen_1._ `${data} === ${sch}`;\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=enum.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst limitNumber_1 = require(\"./limitNumber\");\nconst multipleOf_1 = require(\"./multipleOf\");\nconst limitLength_1 = require(\"./limitLength\");\nconst pattern_1 = require(\"./pattern\");\nconst limitProperties_1 = require(\"./limitProperties\");\nconst required_1 = require(\"./required\");\nconst limitItems_1 = require(\"./limitItems\");\nconst uniqueItems_1 = require(\"./uniqueItems\");\nconst const_1 = require(\"./const\");\nconst enum_1 = require(\"./enum\");\nconst validation = [\n    // number\n    limitNumber_1.default,\n    multipleOf_1.default,\n    // string\n    limitLength_1.default,\n    pattern_1.default,\n    // object\n    limitProperties_1.default,\n    required_1.default,\n    // array\n    limitItems_1.default,\n    uniqueItems_1.default,\n    // any\n    { keyword: \"type\", schemaType: [\"string\", \"array\"] },\n    { keyword: \"nullable\", schemaType: \"boolean\" },\n    const_1.default,\n    enum_1.default,\n];\nexports.default = validation;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxItems\" ? \"more\" : \"fewer\";\n        return codegen_1.str `must NOT have ${comp} than ${schemaCode} items`;\n    },\n    params: ({ schemaCode }) => codegen_1._ `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxItems\", \"minItems\"],\n    type: \"array\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        const op = keyword === \"maxItems\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        cxt.fail$data(codegen_1._ `${data}.length ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst ucs2length_1 = require(\"../../runtime/ucs2length\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxLength\" ? \"more\" : \"fewer\";\n        return codegen_1.str `must NOT have ${comp} than ${schemaCode} characters`;\n    },\n    params: ({ schemaCode }) => codegen_1._ `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxLength\", \"minLength\"],\n    type: \"string\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode, it } = cxt;\n        const op = keyword === \"maxLength\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        const len = it.opts.unicode === false ? codegen_1._ `${data}.length` : codegen_1._ `${util_1.useFunc(cxt.gen, ucs2length_1.default)}(${data})`;\n        cxt.fail$data(codegen_1._ `${len} ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitLength.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst ops = codegen_1.operators;\nconst KWDs = {\n    maximum: { okStr: \"<=\", ok: ops.LTE, fail: ops.GT },\n    minimum: { okStr: \">=\", ok: ops.GTE, fail: ops.LT },\n    exclusiveMaximum: { okStr: \"<\", ok: ops.LT, fail: ops.GTE },\n    exclusiveMinimum: { okStr: \">\", ok: ops.GT, fail: ops.LTE },\n};\nconst error = {\n    message: ({ keyword, schemaCode }) => codegen_1.str `must be ${KWDs[keyword].okStr} ${schemaCode}`,\n    params: ({ keyword, schemaCode }) => codegen_1._ `{comparison: ${KWDs[keyword].okStr}, limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: Object.keys(KWDs),\n    type: \"number\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        cxt.fail$data(codegen_1._ `${data} ${KWDs[keyword].fail} ${schemaCode} || isNaN(${data})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitNumber.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxProperties\" ? \"more\" : \"fewer\";\n        return codegen_1.str `must NOT have ${comp} than ${schemaCode} items`;\n    },\n    params: ({ schemaCode }) => codegen_1._ `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxProperties\", \"minProperties\"],\n    type: \"object\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        const op = keyword === \"maxProperties\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        cxt.fail$data(codegen_1._ `Object.keys(${data}).length ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => codegen_1.str `must be multiple of ${schemaCode}`,\n    params: ({ schemaCode }) => codegen_1._ `{multipleOf: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"multipleOf\",\n    type: \"number\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, schemaCode, it } = cxt;\n        // const bdt = bad$DataType(schemaCode, <string>def.schemaType, $data)\n        const prec = it.opts.multipleOfPrecision;\n        const res = gen.let(\"res\");\n        const invalid = prec\n            ? codegen_1._ `Math.abs(Math.round(${res}) - ${res}) > 1e-${prec}`\n            : codegen_1._ `${res} !== parseInt(${res})`;\n        cxt.fail$data(codegen_1._ `(${schemaCode} === 0 || (${res} = ${data}/${schemaCode}, ${invalid}))`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=multipleOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => codegen_1.str `must match pattern \"${schemaCode}\"`,\n    params: ({ schemaCode }) => codegen_1._ `{pattern: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"pattern\",\n    type: \"string\",\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { data, $data, schema, schemaCode, it } = cxt;\n        // TODO regexp should be wrapped in try/catchs\n        const u = it.opts.unicodeRegExp ? \"u\" : \"\";\n        const regExp = $data ? codegen_1._ `(new RegExp(${schemaCode}, ${u}))` : code_1.usePattern(cxt, schema);\n        cxt.fail$data(codegen_1._ `!${regExp}.test(${data})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=pattern.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { missingProperty } }) => codegen_1.str `must have required property '${missingProperty}'`,\n    params: ({ params: { missingProperty } }) => codegen_1._ `{missingProperty: ${missingProperty}}`,\n};\nconst def = {\n    keyword: \"required\",\n    type: \"object\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, schema, schemaCode, data, $data, it } = cxt;\n        const { opts } = it;\n        if (!$data && schema.length === 0)\n            return;\n        const useLoop = schema.length >= opts.loopRequired;\n        if (it.allErrors)\n            allErrorsMode();\n        else\n            exitOnErrorMode();\n        if (opts.strictRequired) {\n            const props = cxt.parentSchema.properties;\n            const { definedProperties } = cxt.it;\n            for (const requiredKey of schema) {\n                if ((props === null || props === void 0 ? void 0 : props[requiredKey]) === undefined && !definedProperties.has(requiredKey)) {\n                    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n                    const msg = `required property \"${requiredKey}\" is not defined at \"${schemaPath}\" (strictRequired)`;\n                    util_1.checkStrictMode(it, msg, it.opts.strictRequired);\n                }\n            }\n        }\n        function allErrorsMode() {\n            if (useLoop || $data) {\n                cxt.block$data(codegen_1.nil, loopAllRequired);\n            }\n            else {\n                for (const prop of schema) {\n                    code_1.checkReportMissingProp(cxt, prop);\n                }\n            }\n        }\n        function exitOnErrorMode() {\n            const missing = gen.let(\"missing\");\n            if (useLoop || $data) {\n                const valid = gen.let(\"valid\", true);\n                cxt.block$data(valid, () => loopUntilMissing(missing, valid));\n                cxt.ok(valid);\n            }\n            else {\n                gen.if(code_1.checkMissingProp(cxt, schema, missing));\n                code_1.reportMissingProp(cxt, missing);\n                gen.else();\n            }\n        }\n        function loopAllRequired() {\n            gen.forOf(\"prop\", schemaCode, (prop) => {\n                cxt.setParams({ missingProperty: prop });\n                gen.if(code_1.noPropertyInData(gen, data, prop, opts.ownProperties), () => cxt.error());\n            });\n        }\n        function loopUntilMissing(missing, valid) {\n            cxt.setParams({ missingProperty: missing });\n            gen.forOf(missing, schemaCode, () => {\n                gen.assign(valid, code_1.propertyInData(gen, data, missing, opts.ownProperties));\n                gen.if(codegen_1.not(valid), () => {\n                    cxt.error();\n                    gen.break();\n                });\n            }, codegen_1.nil);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=required.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst dataType_1 = require(\"../../compile/validate/dataType\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: ({ params: { i, j } }) => codegen_1.str `must NOT have duplicate items (items ## ${j} and ${i} are identical)`,\n    params: ({ params: { i, j } }) => codegen_1._ `{i: ${i}, j: ${j}}`,\n};\nconst def = {\n    keyword: \"uniqueItems\",\n    type: \"array\",\n    schemaType: \"boolean\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, parentSchema, schemaCode, it } = cxt;\n        if (!$data && !schema)\n            return;\n        const valid = gen.let(\"valid\");\n        const itemTypes = parentSchema.items ? dataType_1.getSchemaTypes(parentSchema.items) : [];\n        cxt.block$data(valid, validateUniqueItems, codegen_1._ `${schemaCode} === false`);\n        cxt.ok(valid);\n        function validateUniqueItems() {\n            const i = gen.let(\"i\", codegen_1._ `${data}.length`);\n            const j = gen.let(\"j\");\n            cxt.setParams({ i, j });\n            gen.assign(valid, true);\n            gen.if(codegen_1._ `${i} > 1`, () => (canOptimize() ? loopN : loopN2)(i, j));\n        }\n        function canOptimize() {\n            return itemTypes.length > 0 && !itemTypes.some((t) => t === \"object\" || t === \"array\");\n        }\n        function loopN(i, j) {\n            const item = gen.name(\"item\");\n            const wrongType = dataType_1.checkDataTypes(itemTypes, item, it.opts.strictNumbers, dataType_1.DataType.Wrong);\n            const indices = gen.const(\"indices\", codegen_1._ `{}`);\n            gen.for(codegen_1._ `;${i}--;`, () => {\n                gen.let(item, codegen_1._ `${data}[${i}]`);\n                gen.if(wrongType, codegen_1._ `continue`);\n                if (itemTypes.length > 1)\n                    gen.if(codegen_1._ `typeof ${item} == \"string\"`, codegen_1._ `${item} += \"_\"`);\n                gen\n                    .if(codegen_1._ `typeof ${indices}[${item}] == \"number\"`, () => {\n                    gen.assign(j, codegen_1._ `${indices}[${item}]`);\n                    cxt.error();\n                    gen.assign(valid, false).break();\n                })\n                    .code(codegen_1._ `${indices}[${item}] = ${i}`);\n            });\n        }\n        function loopN2(i, j) {\n            const eql = util_1.useFunc(gen, equal_1.default);\n            const outer = gen.name(\"outer\");\n            gen.label(outer).for(codegen_1._ `;${i}--;`, () => gen.for(codegen_1._ `${j} = ${i}; ${j}--;`, () => gen.if(codegen_1._ `${eql}(${data}[${i}], ${data}[${j}])`, () => {\n                cxt.error();\n                gen.assign(valid, false).break(outer);\n            })));\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=uniqueItems.js.map","'use strict';\n\nvar traverse = module.exports = function (schema, opts, cb) {\n  // Legacy support for v0.3.1 and earlier.\n  if (typeof opts == 'function') {\n    cb = opts;\n    opts = {};\n  }\n\n  cb = opts.cb || cb;\n  var pre = (typeof cb == 'function') ? cb : cb.pre || function() {};\n  var post = cb.post || function() {};\n\n  _traverse(opts, pre, post, schema, '', schema);\n};\n\n\ntraverse.keywords = {\n  additionalItems: true,\n  items: true,\n  contains: true,\n  additionalProperties: true,\n  propertyNames: true,\n  not: true,\n  if: true,\n  then: true,\n  else: true\n};\n\ntraverse.arrayKeywords = {\n  items: true,\n  allOf: true,\n  anyOf: true,\n  oneOf: true\n};\n\ntraverse.propsKeywords = {\n  $defs: true,\n  definitions: true,\n  properties: true,\n  patternProperties: true,\n  dependencies: true\n};\n\ntraverse.skipKeywords = {\n  default: true,\n  enum: true,\n  const: true,\n  required: true,\n  maximum: true,\n  minimum: true,\n  exclusiveMaximum: true,\n  exclusiveMinimum: true,\n  multipleOf: true,\n  maxLength: true,\n  minLength: true,\n  pattern: true,\n  format: true,\n  maxItems: true,\n  minItems: true,\n  uniqueItems: true,\n  maxProperties: true,\n  minProperties: true\n};\n\n\nfunction _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n  if (schema && typeof schema == 'object' && !Array.isArray(schema)) {\n    pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n    for (var key in schema) {\n      var sch = schema[key];\n      if (Array.isArray(sch)) {\n        if (key in traverse.arrayKeywords) {\n          for (var i=0; i<sch.length; i++)\n            _traverse(opts, pre, post, sch[i], jsonPtr + '/' + key + '/' + i, rootSchema, jsonPtr, key, schema, i);\n        }\n      } else if (key in traverse.propsKeywords) {\n        if (sch && typeof sch == 'object') {\n          for (var prop in sch)\n            _traverse(opts, pre, post, sch[prop], jsonPtr + '/' + key + '/' + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);\n        }\n      } else if (key in traverse.keywords || (opts.allKeys && !(key in traverse.skipKeywords))) {\n        _traverse(opts, pre, post, sch, jsonPtr + '/' + key, rootSchema, jsonPtr, key, schema);\n      }\n    }\n    post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n  }\n}\n\n\nfunction escapeJsonPtr(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n","\"use strict\";\n/* CONSTS */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NOOP = exports.LIMIT_FILES_DESCRIPTORS = exports.LIMIT_BASENAME_LENGTH = exports.IS_USER_ROOT = exports.IS_POSIX = exports.DEFAULT_TIMEOUT_SYNC = exports.DEFAULT_TIMEOUT_ASYNC = exports.DEFAULT_WRITE_OPTIONS = exports.DEFAULT_READ_OPTIONS = exports.DEFAULT_FOLDER_MODE = exports.DEFAULT_FILE_MODE = exports.DEFAULT_ENCODING = void 0;\nconst DEFAULT_ENCODING = 'utf8';\nexports.DEFAULT_ENCODING = DEFAULT_ENCODING;\nconst DEFAULT_FILE_MODE = 0o666;\nexports.DEFAULT_FILE_MODE = DEFAULT_FILE_MODE;\nconst DEFAULT_FOLDER_MODE = 0o777;\nexports.DEFAULT_FOLDER_MODE = DEFAULT_FOLDER_MODE;\nconst DEFAULT_READ_OPTIONS = {};\nexports.DEFAULT_READ_OPTIONS = DEFAULT_READ_OPTIONS;\nconst DEFAULT_WRITE_OPTIONS = {};\nexports.DEFAULT_WRITE_OPTIONS = DEFAULT_WRITE_OPTIONS;\nconst DEFAULT_TIMEOUT_ASYNC = 5000;\nexports.DEFAULT_TIMEOUT_ASYNC = DEFAULT_TIMEOUT_ASYNC;\nconst DEFAULT_TIMEOUT_SYNC = 100;\nexports.DEFAULT_TIMEOUT_SYNC = DEFAULT_TIMEOUT_SYNC;\nconst IS_POSIX = !!process.getuid;\nexports.IS_POSIX = IS_POSIX;\nconst IS_USER_ROOT = process.getuid ? !process.getuid() : false;\nexports.IS_USER_ROOT = IS_USER_ROOT;\nconst LIMIT_BASENAME_LENGTH = 128; //TODO: fetch the real limit from the filesystem //TODO: fetch the whole-path length limit too\nexports.LIMIT_BASENAME_LENGTH = LIMIT_BASENAME_LENGTH;\nconst LIMIT_FILES_DESCRIPTORS = 10000; //TODO: fetch the real limit from the filesystem\nexports.LIMIT_FILES_DESCRIPTORS = LIMIT_FILES_DESCRIPTORS;\nconst NOOP = () => { };\nexports.NOOP = NOOP;\n","\"use strict\";\n/* IMPORT */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.writeFileSync = exports.writeFile = exports.readFileSync = exports.readFile = void 0;\nconst path = require(\"path\");\nconst consts_1 = require(\"./consts\");\nconst fs_1 = require(\"./utils/fs\");\nconst lang_1 = require(\"./utils/lang\");\nconst scheduler_1 = require(\"./utils/scheduler\");\nconst temp_1 = require(\"./utils/temp\");\nfunction readFile(filePath, options = consts_1.DEFAULT_READ_OPTIONS) {\n    var _a;\n    if (lang_1.default.isString(options))\n        return readFile(filePath, { encoding: options });\n    const timeout = Date.now() + ((_a = options.timeout) !== null && _a !== void 0 ? _a : consts_1.DEFAULT_TIMEOUT_ASYNC);\n    return fs_1.default.readFileRetry(timeout)(filePath, options);\n}\nexports.readFile = readFile;\n;\nfunction readFileSync(filePath, options = consts_1.DEFAULT_READ_OPTIONS) {\n    var _a;\n    if (lang_1.default.isString(options))\n        return readFileSync(filePath, { encoding: options });\n    const timeout = Date.now() + ((_a = options.timeout) !== null && _a !== void 0 ? _a : consts_1.DEFAULT_TIMEOUT_SYNC);\n    return fs_1.default.readFileSyncRetry(timeout)(filePath, options);\n}\nexports.readFileSync = readFileSync;\n;\nconst writeFile = (filePath, data, options, callback) => {\n    if (lang_1.default.isFunction(options))\n        return writeFile(filePath, data, consts_1.DEFAULT_WRITE_OPTIONS, options);\n    const promise = writeFileAsync(filePath, data, options);\n    if (callback)\n        promise.then(callback, callback);\n    return promise;\n};\nexports.writeFile = writeFile;\nconst writeFileAsync = async (filePath, data, options = consts_1.DEFAULT_WRITE_OPTIONS) => {\n    var _a;\n    if (lang_1.default.isString(options))\n        return writeFileAsync(filePath, data, { encoding: options });\n    const timeout = Date.now() + ((_a = options.timeout) !== null && _a !== void 0 ? _a : consts_1.DEFAULT_TIMEOUT_ASYNC);\n    let schedulerCustomDisposer = null, schedulerDisposer = null, tempDisposer = null, tempPath = null, fd = null;\n    try {\n        if (options.schedule)\n            schedulerCustomDisposer = await options.schedule(filePath);\n        schedulerDisposer = await scheduler_1.default.schedule(filePath);\n        filePath = await fs_1.default.realpathAttempt(filePath) || filePath;\n        [tempPath, tempDisposer] = temp_1.default.get(filePath, options.tmpCreate || temp_1.default.create, !(options.tmpPurge === false));\n        const useStatChown = consts_1.IS_POSIX && lang_1.default.isUndefined(options.chown), useStatMode = lang_1.default.isUndefined(options.mode);\n        if (useStatChown || useStatMode) {\n            const stat = await fs_1.default.statAttempt(filePath);\n            if (stat) {\n                options = { ...options };\n                if (useStatChown)\n                    options.chown = { uid: stat.uid, gid: stat.gid };\n                if (useStatMode)\n                    options.mode = stat.mode;\n            }\n        }\n        const parentPath = path.dirname(filePath);\n        await fs_1.default.mkdirAttempt(parentPath, {\n            mode: consts_1.DEFAULT_FOLDER_MODE,\n            recursive: true\n        });\n        fd = await fs_1.default.openRetry(timeout)(tempPath, 'w', options.mode || consts_1.DEFAULT_FILE_MODE);\n        if (options.tmpCreated)\n            options.tmpCreated(tempPath);\n        if (lang_1.default.isString(data)) {\n            await fs_1.default.writeRetry(timeout)(fd, data, 0, options.encoding || consts_1.DEFAULT_ENCODING);\n        }\n        else if (!lang_1.default.isUndefined(data)) {\n            await fs_1.default.writeRetry(timeout)(fd, data, 0, data.length, 0);\n        }\n        if (options.fsync !== false) {\n            if (options.fsyncWait !== false) {\n                await fs_1.default.fsyncRetry(timeout)(fd);\n            }\n            else {\n                fs_1.default.fsyncAttempt(fd);\n            }\n        }\n        await fs_1.default.closeRetry(timeout)(fd);\n        fd = null;\n        if (options.chown)\n            await fs_1.default.chownAttempt(tempPath, options.chown.uid, options.chown.gid);\n        if (options.mode)\n            await fs_1.default.chmodAttempt(tempPath, options.mode);\n        try {\n            await fs_1.default.renameRetry(timeout)(tempPath, filePath);\n        }\n        catch (error) {\n            if (error.code !== 'ENAMETOOLONG')\n                throw error;\n            await fs_1.default.renameRetry(timeout)(tempPath, temp_1.default.truncate(filePath));\n        }\n        tempDisposer();\n        tempPath = null;\n    }\n    finally {\n        if (fd)\n            await fs_1.default.closeAttempt(fd);\n        if (tempPath)\n            temp_1.default.purge(tempPath);\n        if (schedulerCustomDisposer)\n            schedulerCustomDisposer();\n        if (schedulerDisposer)\n            schedulerDisposer();\n    }\n};\nconst writeFileSync = (filePath, data, options = consts_1.DEFAULT_WRITE_OPTIONS) => {\n    var _a;\n    if (lang_1.default.isString(options))\n        return writeFileSync(filePath, data, { encoding: options });\n    const timeout = Date.now() + ((_a = options.timeout) !== null && _a !== void 0 ? _a : consts_1.DEFAULT_TIMEOUT_SYNC);\n    let tempDisposer = null, tempPath = null, fd = null;\n    try {\n        filePath = fs_1.default.realpathSyncAttempt(filePath) || filePath;\n        [tempPath, tempDisposer] = temp_1.default.get(filePath, options.tmpCreate || temp_1.default.create, !(options.tmpPurge === false));\n        const useStatChown = consts_1.IS_POSIX && lang_1.default.isUndefined(options.chown), useStatMode = lang_1.default.isUndefined(options.mode);\n        if (useStatChown || useStatMode) {\n            const stat = fs_1.default.statSyncAttempt(filePath);\n            if (stat) {\n                options = { ...options };\n                if (useStatChown)\n                    options.chown = { uid: stat.uid, gid: stat.gid };\n                if (useStatMode)\n                    options.mode = stat.mode;\n            }\n        }\n        const parentPath = path.dirname(filePath);\n        fs_1.default.mkdirSyncAttempt(parentPath, {\n            mode: consts_1.DEFAULT_FOLDER_MODE,\n            recursive: true\n        });\n        fd = fs_1.default.openSyncRetry(timeout)(tempPath, 'w', options.mode || consts_1.DEFAULT_FILE_MODE);\n        if (options.tmpCreated)\n            options.tmpCreated(tempPath);\n        if (lang_1.default.isString(data)) {\n            fs_1.default.writeSyncRetry(timeout)(fd, data, 0, options.encoding || consts_1.DEFAULT_ENCODING);\n        }\n        else if (!lang_1.default.isUndefined(data)) {\n            fs_1.default.writeSyncRetry(timeout)(fd, data, 0, data.length, 0);\n        }\n        if (options.fsync !== false) {\n            if (options.fsyncWait !== false) {\n                fs_1.default.fsyncSyncRetry(timeout)(fd);\n            }\n            else {\n                fs_1.default.fsyncAttempt(fd);\n            }\n        }\n        fs_1.default.closeSyncRetry(timeout)(fd);\n        fd = null;\n        if (options.chown)\n            fs_1.default.chownSyncAttempt(tempPath, options.chown.uid, options.chown.gid);\n        if (options.mode)\n            fs_1.default.chmodSyncAttempt(tempPath, options.mode);\n        try {\n            fs_1.default.renameSyncRetry(timeout)(tempPath, filePath);\n        }\n        catch (error) {\n            if (error.code !== 'ENAMETOOLONG')\n                throw error;\n            fs_1.default.renameSyncRetry(timeout)(tempPath, temp_1.default.truncate(filePath));\n        }\n        tempDisposer();\n        tempPath = null;\n    }\n    finally {\n        if (fd)\n            fs_1.default.closeSyncAttempt(fd);\n        if (tempPath)\n            temp_1.default.purge(tempPath);\n    }\n};\nexports.writeFileSync = writeFileSync;\n","\"use strict\";\n/* IMPORT */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.attemptifySync = exports.attemptifyAsync = void 0;\nconst consts_1 = require(\"../consts\");\n/* ATTEMPTIFY */\n//TODO: Maybe publish this as a standalone package\n//FIXME: The type castings here aren't exactly correct\nconst attemptifyAsync = (fn, onError = consts_1.NOOP) => {\n    return function () {\n        return fn.apply(undefined, arguments).catch(onError);\n    };\n};\nexports.attemptifyAsync = attemptifyAsync;\nconst attemptifySync = (fn, onError = consts_1.NOOP) => {\n    return function () {\n        try {\n            return fn.apply(undefined, arguments);\n        }\n        catch (error) {\n            return onError(error);\n        }\n    };\n};\nexports.attemptifySync = attemptifySync;\n","\"use strict\";\n/* IMPORT */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fs = require(\"fs\");\nconst util_1 = require(\"util\");\nconst attemptify_1 = require(\"./attemptify\");\nconst fs_handlers_1 = require(\"./fs_handlers\");\nconst retryify_1 = require(\"./retryify\");\n/* FS */\nconst FS = {\n    chmodAttempt: attemptify_1.attemptifyAsync(util_1.promisify(fs.chmod), fs_handlers_1.default.onChangeError),\n    chownAttempt: attemptify_1.attemptifyAsync(util_1.promisify(fs.chown), fs_handlers_1.default.onChangeError),\n    closeAttempt: attemptify_1.attemptifyAsync(util_1.promisify(fs.close)),\n    fsyncAttempt: attemptify_1.attemptifyAsync(util_1.promisify(fs.fsync)),\n    mkdirAttempt: attemptify_1.attemptifyAsync(util_1.promisify(fs.mkdir)),\n    realpathAttempt: attemptify_1.attemptifyAsync(util_1.promisify(fs.realpath)),\n    statAttempt: attemptify_1.attemptifyAsync(util_1.promisify(fs.stat)),\n    unlinkAttempt: attemptify_1.attemptifyAsync(util_1.promisify(fs.unlink)),\n    closeRetry: retryify_1.retryifyAsync(util_1.promisify(fs.close), fs_handlers_1.default.isRetriableError),\n    fsyncRetry: retryify_1.retryifyAsync(util_1.promisify(fs.fsync), fs_handlers_1.default.isRetriableError),\n    openRetry: retryify_1.retryifyAsync(util_1.promisify(fs.open), fs_handlers_1.default.isRetriableError),\n    readFileRetry: retryify_1.retryifyAsync(util_1.promisify(fs.readFile), fs_handlers_1.default.isRetriableError),\n    renameRetry: retryify_1.retryifyAsync(util_1.promisify(fs.rename), fs_handlers_1.default.isRetriableError),\n    statRetry: retryify_1.retryifyAsync(util_1.promisify(fs.stat), fs_handlers_1.default.isRetriableError),\n    writeRetry: retryify_1.retryifyAsync(util_1.promisify(fs.write), fs_handlers_1.default.isRetriableError),\n    chmodSyncAttempt: attemptify_1.attemptifySync(fs.chmodSync, fs_handlers_1.default.onChangeError),\n    chownSyncAttempt: attemptify_1.attemptifySync(fs.chownSync, fs_handlers_1.default.onChangeError),\n    closeSyncAttempt: attemptify_1.attemptifySync(fs.closeSync),\n    mkdirSyncAttempt: attemptify_1.attemptifySync(fs.mkdirSync),\n    realpathSyncAttempt: attemptify_1.attemptifySync(fs.realpathSync),\n    statSyncAttempt: attemptify_1.attemptifySync(fs.statSync),\n    unlinkSyncAttempt: attemptify_1.attemptifySync(fs.unlinkSync),\n    closeSyncRetry: retryify_1.retryifySync(fs.closeSync, fs_handlers_1.default.isRetriableError),\n    fsyncSyncRetry: retryify_1.retryifySync(fs.fsyncSync, fs_handlers_1.default.isRetriableError),\n    openSyncRetry: retryify_1.retryifySync(fs.openSync, fs_handlers_1.default.isRetriableError),\n    readFileSyncRetry: retryify_1.retryifySync(fs.readFileSync, fs_handlers_1.default.isRetriableError),\n    renameSyncRetry: retryify_1.retryifySync(fs.renameSync, fs_handlers_1.default.isRetriableError),\n    statSyncRetry: retryify_1.retryifySync(fs.statSync, fs_handlers_1.default.isRetriableError),\n    writeSyncRetry: retryify_1.retryifySync(fs.writeSync, fs_handlers_1.default.isRetriableError)\n};\n/* EXPORT */\nexports.default = FS;\n","\"use strict\";\n/* IMPORT */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst consts_1 = require(\"../consts\");\n/* FS HANDLERS */\nconst Handlers = {\n    isChangeErrorOk: (error) => {\n        const { code } = error;\n        if (code === 'ENOSYS')\n            return true;\n        if (!consts_1.IS_USER_ROOT && (code === 'EINVAL' || code === 'EPERM'))\n            return true;\n        return false;\n    },\n    isRetriableError: (error) => {\n        const { code } = error;\n        if (code === 'EMFILE' || code === 'ENFILE' || code === 'EAGAIN' || code === 'EBUSY' || code === 'EACCESS' || code === 'EACCS' || code === 'EPERM')\n            return true;\n        return false;\n    },\n    onChangeError: (error) => {\n        if (Handlers.isChangeErrorOk(error))\n            return;\n        throw error;\n    }\n};\n/* EXPORT */\nexports.default = Handlers;\n","\"use strict\";\n/* LANG */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Lang = {\n    isFunction: (x) => {\n        return typeof x === 'function';\n    },\n    isString: (x) => {\n        return typeof x === 'string';\n    },\n    isUndefined: (x) => {\n        return typeof x === 'undefined';\n    }\n};\n/* EXPORT */\nexports.default = Lang;\n","\"use strict\";\n/* IMPORT */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.retryifySync = exports.retryifyAsync = void 0;\nconst retryify_queue_1 = require(\"./retryify_queue\");\n/* RETRYIFY */\nconst retryifyAsync = (fn, isRetriableError) => {\n    return function (timestamp) {\n        return function attempt() {\n            return retryify_queue_1.default.schedule().then(cleanup => {\n                return fn.apply(undefined, arguments).then(result => {\n                    cleanup();\n                    return result;\n                }, error => {\n                    cleanup();\n                    if (Date.now() >= timestamp)\n                        throw error;\n                    if (isRetriableError(error)) {\n                        const delay = Math.round(100 + (400 * Math.random())), delayPromise = new Promise(resolve => setTimeout(resolve, delay));\n                        return delayPromise.then(() => attempt.apply(undefined, arguments));\n                    }\n                    throw error;\n                });\n            });\n        };\n    };\n};\nexports.retryifyAsync = retryifyAsync;\nconst retryifySync = (fn, isRetriableError) => {\n    return function (timestamp) {\n        return function attempt() {\n            try {\n                return fn.apply(undefined, arguments);\n            }\n            catch (error) {\n                if (Date.now() > timestamp)\n                    throw error;\n                if (isRetriableError(error))\n                    return attempt.apply(undefined, arguments);\n                throw error;\n            }\n        };\n    };\n};\nexports.retryifySync = retryifySync;\n","\"use strict\";\n/* IMPORT */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst consts_1 = require(\"../consts\");\n/* RETRYIFY QUEUE */\nconst RetryfyQueue = {\n    interval: 25,\n    intervalId: undefined,\n    limit: consts_1.LIMIT_FILES_DESCRIPTORS,\n    queueActive: new Set(),\n    queueWaiting: new Set(),\n    init: () => {\n        if (RetryfyQueue.intervalId)\n            return;\n        RetryfyQueue.intervalId = setInterval(RetryfyQueue.tick, RetryfyQueue.interval);\n    },\n    reset: () => {\n        if (!RetryfyQueue.intervalId)\n            return;\n        clearInterval(RetryfyQueue.intervalId);\n        delete RetryfyQueue.intervalId;\n    },\n    add: (fn) => {\n        RetryfyQueue.queueWaiting.add(fn);\n        if (RetryfyQueue.queueActive.size < (RetryfyQueue.limit / 2)) { // Active queue not under preassure, executing immediately\n            RetryfyQueue.tick();\n        }\n        else {\n            RetryfyQueue.init();\n        }\n    },\n    remove: (fn) => {\n        RetryfyQueue.queueWaiting.delete(fn);\n        RetryfyQueue.queueActive.delete(fn);\n    },\n    schedule: () => {\n        return new Promise(resolve => {\n            const cleanup = () => RetryfyQueue.remove(resolver);\n            const resolver = () => resolve(cleanup);\n            RetryfyQueue.add(resolver);\n        });\n    },\n    tick: () => {\n        if (RetryfyQueue.queueActive.size >= RetryfyQueue.limit)\n            return;\n        if (!RetryfyQueue.queueWaiting.size)\n            return RetryfyQueue.reset();\n        for (const fn of RetryfyQueue.queueWaiting) {\n            if (RetryfyQueue.queueActive.size >= RetryfyQueue.limit)\n                break;\n            RetryfyQueue.queueWaiting.delete(fn);\n            RetryfyQueue.queueActive.add(fn);\n            fn();\n        }\n    }\n};\n/* EXPORT */\nexports.default = RetryfyQueue;\n","\"use strict\";\n/* IMPORT */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* VARIABLES */\nconst Queues = {};\n/* SCHEDULER */\n//TODO: Maybe publish this as a standalone package\nconst Scheduler = {\n    next: (id) => {\n        const queue = Queues[id];\n        if (!queue)\n            return;\n        queue.shift();\n        const job = queue[0];\n        if (job) {\n            job(() => Scheduler.next(id));\n        }\n        else {\n            delete Queues[id];\n        }\n    },\n    schedule: (id) => {\n        return new Promise(resolve => {\n            let queue = Queues[id];\n            if (!queue)\n                queue = Queues[id] = [];\n            queue.push(resolve);\n            if (queue.length > 1)\n                return;\n            resolve(() => Scheduler.next(id));\n        });\n    }\n};\n/* EXPORT */\nexports.default = Scheduler;\n","\"use strict\";\n/* IMPORT */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst path = require(\"path\");\nconst consts_1 = require(\"../consts\");\nconst fs_1 = require(\"./fs\");\n/* TEMP */\n//TODO: Maybe publish this as a standalone package\nconst Temp = {\n    store: {},\n    create: (filePath) => {\n        const randomness = `000000${Math.floor(Math.random() * 16777215).toString(16)}`.slice(-6), // 6 random-enough hex characters\n        timestamp = Date.now().toString().slice(-10), // 10 precise timestamp digits\n        prefix = 'tmp-', suffix = `.${prefix}${timestamp}${randomness}`, tempPath = `${filePath}${suffix}`;\n        return tempPath;\n    },\n    get: (filePath, creator, purge = true) => {\n        const tempPath = Temp.truncate(creator(filePath));\n        if (tempPath in Temp.store)\n            return Temp.get(filePath, creator, purge); // Collision found, try again\n        Temp.store[tempPath] = purge;\n        const disposer = () => delete Temp.store[tempPath];\n        return [tempPath, disposer];\n    },\n    purge: (filePath) => {\n        if (!Temp.store[filePath])\n            return;\n        delete Temp.store[filePath];\n        fs_1.default.unlinkAttempt(filePath);\n    },\n    purgeSync: (filePath) => {\n        if (!Temp.store[filePath])\n            return;\n        delete Temp.store[filePath];\n        fs_1.default.unlinkSyncAttempt(filePath);\n    },\n    purgeSyncAll: () => {\n        for (const filePath in Temp.store) {\n            Temp.purgeSync(filePath);\n        }\n    },\n    truncate: (filePath) => {\n        const basename = path.basename(filePath);\n        if (basename.length <= consts_1.LIMIT_BASENAME_LENGTH)\n            return filePath; //FIXME: Rough and quick attempt at detecting ok lengths\n        const truncable = /^(\\.?)(.*?)((?:\\.[^.]+)?(?:\\.tmp-\\d{10}[a-f0-9]{6})?)$/.exec(basename);\n        if (!truncable)\n            return filePath; //FIXME: No truncable part detected, can't really do much without also changing the parent path, which is unsafe, hoping for the best here\n        const truncationLength = basename.length - consts_1.LIMIT_BASENAME_LENGTH;\n        return `${filePath.slice(0, -basename.length)}${truncable[1]}${truncable[2].slice(0, -truncationLength)}${truncable[3]}`; //FIXME: The truncable part might be shorter than needed here\n    }\n};\n/* INIT */\nprocess.on('exit', Temp.purgeSyncAll); // Ensuring purgeable temp files are purged on exit\n/* EXPORT */\nexports.default = Temp;\n","import electron, { ipcMain } from \"electron\";\nimport Store from \"electron-store\";\n\nimport { PresetType } from \"../src/js/redux/stateType\";\nimport { PresetRadioType, presets } from \"../src/js/redux/reducer/presets\";\n\nconst initPresets:PresetType[] = [\n    {\n        regExp:\"\\w+\",\n        replace:\"\",\n        name:\"default\",\n        global:true,\n        ignore:true,\n        export:false\n    },\n    {\n        regExp:\"\\d+\",\n        replace:\"\",\n        name:\"default2\",\n        global:true,\n        ignore:true,\n        export:false\n    }\n]\nconst initData = {\n    presets:initPresets\n}\n\nconst store = new Store<{presets:PresetType[]}>({defaults:initData});\n\nexport const initStore = () =>{\n    //store.reset(\"presets\");\n    ipcMain.handle(\"sendData\",()=>{\n        const presets = store.get(\"presets\");\n        return presets;\n    });\n\n    ipcMain.handle(\"addData\",(event,preset:PresetType&{checked?:boolean})=>{\n        try{\n            const presets = store.get(\"presets\");\n            delete preset.checked;\n            store.set(\"presets\",[...presets,preset]);\n            return true;\n        }catch(e){\n            console.log(e);\n            return false;\n        }\n    });\n\n    ipcMain.handle(\"deleteData\",(event,deleteName:string)=>{\n        try{\n            const presets = store.get(\"presets\");\n            const deleted = presets.filter((preset)=>preset.name !== deleteName);\n            store.set(\"presets\",deleted);\n            return true;\n        }catch(e){\n            console.log(e);\n            return false;\n        }\n    });\n\n    ipcMain.handle(\"overWrite\",(event,preset:PresetType)=>{\n        try{\n            const presets = store.get(\"presets\");\n            const index = presets.findIndex(p => p.name===preset.name);\n            if(index===-1)return false;\n            presets[index] = {...preset};\n            store.set(\"presets\",presets);\n            return true;\n        }catch(e){\n            console.log(e);\n            return false;\n        }\n    })\n}\n","import electron,{ ipcMain , dialog , screen} from \"electron\";\nimport { initStore } from \"./connectStorage\";\nconst app = electron.app;\nconst BrowserWindow = electron.BrowserWindow;\n\nlet mainWindow;\nconst debug = false;\n\napp.on(\"ready\",()=>{\n    let factor = screen.getPrimaryDisplay().scaleFactor;\n    console.log(factor);\n    const width = (800 + (debug ? 220 : 0))-(800 + (debug ? 220 : 0))*0.05;\n    const height = 500 - 500*0.05\n    mainWindow = new BrowserWindow({\n        minHeight:height,\n        minWidth:width,\n        width:width,\n        height:height,\n        maxWidth:width+100,\n        maxHeight:height+100,\n        useContentSize: true,\n        webPreferences:{\n            nodeIntegration: true,\n            contextIsolation: false,\n            zoomFactor: 1\n        }\n    });\n    mainWindow.loadURL(`file://${__dirname}/index.html`);\n    if(debug)mainWindow.webContents.openDevTools();\n    mainWindow.on(\"closed\",()=>{\n        mainWindow = null;\n    });\n    initStore();\n});","\"use strict\";\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, privateMap, value) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to set private field on non-instance\");\n    }\n    privateMap.set(receiver, value);\n    return value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, privateMap) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n};\nvar _a, _b;\nvar _validator, _encryptionKey, _options, _defaultValues;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"util\");\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst crypto = require(\"crypto\");\nconst assert = require(\"assert\");\nconst events_1 = require(\"events\");\nconst dotProp = require(\"dot-prop\");\nconst pkgUp = require(\"pkg-up\");\nconst envPaths = require(\"env-paths\");\nconst atomically = require(\"atomically\");\nconst ajv_1 = require(\"ajv\");\nconst ajv_formats_1 = require(\"ajv-formats\");\nconst debounceFn = require(\"debounce-fn\");\nconst semver = require(\"semver\");\nconst onetime = require(\"onetime\");\nconst encryptionAlgorithm = 'aes-256-cbc';\nconst createPlainObject = () => {\n    return Object.create(null);\n};\nconst isExist = (data) => {\n    return data !== undefined && data !== null;\n};\nlet parentDir = '';\ntry {\n    // Prevent caching of this module so module.parent is always accurate.\n    // Note: This trick won't work with ESM or inside a webworker\n    // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n    delete require.cache[__filename];\n    parentDir = path.dirname((_b = (_a = module.parent) === null || _a === void 0 ? void 0 : _a.filename) !== null && _b !== void 0 ? _b : '.');\n}\ncatch (_c) { }\nconst checkValueType = (key, value) => {\n    const nonJsonTypes = new Set([\n        'undefined',\n        'symbol',\n        'function'\n    ]);\n    const type = typeof value;\n    if (nonJsonTypes.has(type)) {\n        throw new TypeError(`Setting a value of type \\`${type}\\` for key \\`${key}\\` is not allowed as it's not supported by JSON`);\n    }\n};\nconst INTERNAL_KEY = '__internal__';\nconst MIGRATION_KEY = `${INTERNAL_KEY}.migrations.version`;\nclass Conf {\n    constructor(partialOptions = {}) {\n        var _a;\n        _validator.set(this, void 0);\n        _encryptionKey.set(this, void 0);\n        _options.set(this, void 0);\n        _defaultValues.set(this, {});\n        this._deserialize = value => JSON.parse(value);\n        this._serialize = value => JSON.stringify(value, undefined, '\\t');\n        const options = {\n            configName: 'config',\n            fileExtension: 'json',\n            projectSuffix: 'nodejs',\n            clearInvalidConfig: false,\n            accessPropertiesByDotNotation: true,\n            ...partialOptions\n        };\n        const getPackageData = onetime(() => {\n            const packagePath = pkgUp.sync({ cwd: parentDir });\n            // Can't use `require` because of Webpack being annoying:\n            // https://github.com/webpack/webpack/issues/196\n            const packageData = packagePath && JSON.parse(fs.readFileSync(packagePath, 'utf8'));\n            return packageData !== null && packageData !== void 0 ? packageData : {};\n        });\n        if (!options.cwd) {\n            if (!options.projectName) {\n                options.projectName = getPackageData().name;\n            }\n            if (!options.projectName) {\n                throw new Error('Project name could not be inferred. Please specify the `projectName` option.');\n            }\n            options.cwd = envPaths(options.projectName, { suffix: options.projectSuffix }).config;\n        }\n        __classPrivateFieldSet(this, _options, options);\n        if (options.schema) {\n            if (typeof options.schema !== 'object') {\n                throw new TypeError('The `schema` option must be an object.');\n            }\n            const ajv = new ajv_1.default({\n                allErrors: true,\n                useDefaults: true\n            });\n            ajv_formats_1.default(ajv);\n            const schema = {\n                type: 'object',\n                properties: options.schema\n            };\n            __classPrivateFieldSet(this, _validator, ajv.compile(schema));\n            for (const [key, value] of Object.entries(options.schema)) {\n                if (value === null || value === void 0 ? void 0 : value.default) {\n                    __classPrivateFieldGet(this, _defaultValues)[key] = value.default;\n                }\n            }\n        }\n        if (options.defaults) {\n            __classPrivateFieldSet(this, _defaultValues, {\n                ...__classPrivateFieldGet(this, _defaultValues),\n                ...options.defaults\n            });\n        }\n        if (options.serialize) {\n            this._serialize = options.serialize;\n        }\n        if (options.deserialize) {\n            this._deserialize = options.deserialize;\n        }\n        this.events = new events_1.EventEmitter();\n        __classPrivateFieldSet(this, _encryptionKey, options.encryptionKey);\n        const fileExtension = options.fileExtension ? `.${options.fileExtension}` : '';\n        this.path = path.resolve(options.cwd, `${(_a = options.configName) !== null && _a !== void 0 ? _a : 'config'}${fileExtension}`);\n        const fileStore = this.store;\n        const store = Object.assign(createPlainObject(), options.defaults, fileStore);\n        this._validate(store);\n        try {\n            assert.deepEqual(fileStore, store);\n        }\n        catch (_b) {\n            this.store = store;\n        }\n        if (options.watch) {\n            this._watch();\n        }\n        if (options.migrations) {\n            if (!options.projectVersion) {\n                options.projectVersion = getPackageData().version;\n            }\n            if (!options.projectVersion) {\n                throw new Error('Project version could not be inferred. Please specify the `projectVersion` option.');\n            }\n            this._migrate(options.migrations, options.projectVersion);\n        }\n    }\n    get(key, defaultValue) {\n        if (__classPrivateFieldGet(this, _options).accessPropertiesByDotNotation) {\n            return this._get(key, defaultValue);\n        }\n        return key in this.store ? this.store[key] : defaultValue;\n    }\n    set(key, value) {\n        if (typeof key !== 'string' && typeof key !== 'object') {\n            throw new TypeError(`Expected \\`key\\` to be of type \\`string\\` or \\`object\\`, got ${typeof key}`);\n        }\n        if (typeof key !== 'object' && value === undefined) {\n            throw new TypeError('Use `delete()` to clear values');\n        }\n        if (this._containsReservedKey(key)) {\n            throw new TypeError(`Please don't use the ${INTERNAL_KEY} key, as it's used to manage this module internal operations.`);\n        }\n        const { store } = this;\n        const set = (key, value) => {\n            checkValueType(key, value);\n            if (__classPrivateFieldGet(this, _options).accessPropertiesByDotNotation) {\n                dotProp.set(store, key, value);\n            }\n            else {\n                store[key] = value;\n            }\n        };\n        if (typeof key === 'object') {\n            const object = key;\n            for (const [key, value] of Object.entries(object)) {\n                set(key, value);\n            }\n        }\n        else {\n            set(key, value);\n        }\n        this.store = store;\n    }\n    /**\n    Check if an item exists.\n\n    @param key - The key of the item to check.\n    */\n    has(key) {\n        if (__classPrivateFieldGet(this, _options).accessPropertiesByDotNotation) {\n            return dotProp.has(this.store, key);\n        }\n        return key in this.store;\n    }\n    /**\n    Reset items to their default values, as defined by the `defaults` or `schema` option.\n\n    @see `clear()` to reset all items.\n\n    @param keys - The keys of the items to reset.\n    */\n    reset(...keys) {\n        for (const key of keys) {\n            if (isExist(__classPrivateFieldGet(this, _defaultValues)[key])) {\n                this.set(key, __classPrivateFieldGet(this, _defaultValues)[key]);\n            }\n        }\n    }\n    /**\n    Delete an item.\n\n    @param key - The key of the item to delete.\n    */\n    delete(key) {\n        const { store } = this;\n        if (__classPrivateFieldGet(this, _options).accessPropertiesByDotNotation) {\n            dotProp.delete(store, key);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n            delete store[key];\n        }\n        this.store = store;\n    }\n    /**\n    Delete all items.\n\n    This resets known items to their default values, if defined by the `defaults` or `schema` option.\n    */\n    clear() {\n        this.store = createPlainObject();\n        for (const key of Object.keys(__classPrivateFieldGet(this, _defaultValues))) {\n            this.reset(key);\n        }\n    }\n    /**\n    Watches the given `key`, calling `callback` on any changes.\n\n    @param key - The key wo watch.\n    @param callback - A callback function that is called on any changes. When a `key` is first set `oldValue` will be `undefined`, and when a key is deleted `newValue` will be `undefined`.\n    @returns A function, that when called, will unsubscribe.\n    */\n    onDidChange(key, callback) {\n        if (typeof key !== 'string') {\n            throw new TypeError(`Expected \\`key\\` to be of type \\`string\\`, got ${typeof key}`);\n        }\n        if (typeof callback !== 'function') {\n            throw new TypeError(`Expected \\`callback\\` to be of type \\`function\\`, got ${typeof callback}`);\n        }\n        return this._handleChange(() => this.get(key), callback);\n    }\n    /**\n    Watches the whole config object, calling `callback` on any changes.\n\n    @param callback - A callback function that is called on any changes. When a `key` is first set `oldValue` will be `undefined`, and when a key is deleted `newValue` will be `undefined`.\n    @returns A function, that when called, will unsubscribe.\n    */\n    onDidAnyChange(callback) {\n        if (typeof callback !== 'function') {\n            throw new TypeError(`Expected \\`callback\\` to be of type \\`function\\`, got ${typeof callback}`);\n        }\n        return this._handleChange(() => this.store, callback);\n    }\n    get size() {\n        return Object.keys(this.store).length;\n    }\n    get store() {\n        try {\n            const data = fs.readFileSync(this.path, __classPrivateFieldGet(this, _encryptionKey) ? null : 'utf8');\n            const dataString = this._encryptData(data);\n            const deserializedData = this._deserialize(dataString);\n            this._validate(deserializedData);\n            return Object.assign(createPlainObject(), deserializedData);\n        }\n        catch (error) {\n            if (error.code === 'ENOENT') {\n                this._ensureDirectory();\n                return createPlainObject();\n            }\n            if (__classPrivateFieldGet(this, _options).clearInvalidConfig && error.name === 'SyntaxError') {\n                return createPlainObject();\n            }\n            throw error;\n        }\n    }\n    set store(value) {\n        this._ensureDirectory();\n        this._validate(value);\n        this._write(value);\n        this.events.emit('change');\n    }\n    *[(_validator = new WeakMap(), _encryptionKey = new WeakMap(), _options = new WeakMap(), _defaultValues = new WeakMap(), Symbol.iterator)]() {\n        for (const [key, value] of Object.entries(this.store)) {\n            yield [key, value];\n        }\n    }\n    _encryptData(data) {\n        if (!__classPrivateFieldGet(this, _encryptionKey)) {\n            return data.toString();\n        }\n        try {\n            // Check if an initialization vector has been used to encrypt the data\n            if (__classPrivateFieldGet(this, _encryptionKey)) {\n                try {\n                    if (data.slice(16, 17).toString() === ':') {\n                        const initializationVector = data.slice(0, 16);\n                        const password = crypto.pbkdf2Sync(__classPrivateFieldGet(this, _encryptionKey), initializationVector.toString(), 10000, 32, 'sha512');\n                        const decipher = crypto.createDecipheriv(encryptionAlgorithm, password, initializationVector);\n                        data = Buffer.concat([decipher.update(Buffer.from(data.slice(17))), decipher.final()]).toString('utf8');\n                    }\n                    else {\n                        const decipher = crypto.createDecipher(encryptionAlgorithm, __classPrivateFieldGet(this, _encryptionKey));\n                        data = Buffer.concat([decipher.update(Buffer.from(data)), decipher.final()]).toString('utf8');\n                    }\n                }\n                catch (_a) { }\n            }\n        }\n        catch (_b) { }\n        return data.toString();\n    }\n    _handleChange(getter, callback) {\n        let currentValue = getter();\n        const onChange = () => {\n            const oldValue = currentValue;\n            const newValue = getter();\n            if (util_1.isDeepStrictEqual(newValue, oldValue)) {\n                return;\n            }\n            currentValue = newValue;\n            callback.call(this, newValue, oldValue);\n        };\n        this.events.on('change', onChange);\n        return () => this.events.removeListener('change', onChange);\n    }\n    _validate(data) {\n        if (!__classPrivateFieldGet(this, _validator)) {\n            return;\n        }\n        const valid = __classPrivateFieldGet(this, _validator).call(this, data);\n        if (valid || !__classPrivateFieldGet(this, _validator).errors) {\n            return;\n        }\n        const errors = __classPrivateFieldGet(this, _validator).errors\n            .map(({ instancePath, message = '' }) => `\\`${instancePath.slice(1)}\\` ${message}`);\n        throw new Error('Config schema violation: ' + errors.join('; '));\n    }\n    _ensureDirectory() {\n        // Ensure the directory exists as it could have been deleted in the meantime.\n        fs.mkdirSync(path.dirname(this.path), { recursive: true });\n    }\n    _write(value) {\n        let data = this._serialize(value);\n        if (__classPrivateFieldGet(this, _encryptionKey)) {\n            const initializationVector = crypto.randomBytes(16);\n            const password = crypto.pbkdf2Sync(__classPrivateFieldGet(this, _encryptionKey), initializationVector.toString(), 10000, 32, 'sha512');\n            const cipher = crypto.createCipheriv(encryptionAlgorithm, password, initializationVector);\n            data = Buffer.concat([initializationVector, Buffer.from(':'), cipher.update(Buffer.from(data)), cipher.final()]);\n        }\n        // Temporary workaround for Conf being packaged in a Ubuntu Snap app.\n        // See https://github.com/sindresorhus/conf/pull/82\n        if (process.env.SNAP) {\n            fs.writeFileSync(this.path, data);\n        }\n        else {\n            try {\n                atomically.writeFileSync(this.path, data);\n            }\n            catch (error) {\n                // Fix for https://github.com/sindresorhus/electron-store/issues/106\n                // Sometimes on Windows, we will get an EXDEV error when atomic writing\n                // (even though to the same directory), so we fall back to non atomic write\n                if (error.code === 'EXDEV') {\n                    fs.writeFileSync(this.path, data);\n                    return;\n                }\n                throw error;\n            }\n        }\n    }\n    _watch() {\n        this._ensureDirectory();\n        if (!fs.existsSync(this.path)) {\n            this._write(createPlainObject());\n        }\n        if (process.platform === 'win32') {\n            fs.watch(this.path, { persistent: false }, debounceFn(() => {\n                // On Linux and Windows, writing to the config file emits a `rename` event, so we skip checking the event type.\n                this.events.emit('change');\n            }, { wait: 100 }));\n        }\n        else {\n            fs.watchFile(this.path, { persistent: false }, debounceFn(() => {\n                this.events.emit('change');\n            }, { wait: 5000 }));\n        }\n    }\n    _migrate(migrations, versionToMigrate) {\n        let previousMigratedVersion = this._get(MIGRATION_KEY, '0.0.0');\n        const newerVersions = Object.keys(migrations)\n            .filter(candidateVersion => this._shouldPerformMigration(candidateVersion, previousMigratedVersion, versionToMigrate));\n        let storeBackup = { ...this.store };\n        for (const version of newerVersions) {\n            try {\n                const migration = migrations[version];\n                migration(this);\n                this._set(MIGRATION_KEY, version);\n                previousMigratedVersion = version;\n                storeBackup = { ...this.store };\n            }\n            catch (error) {\n                this.store = storeBackup;\n                throw new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${error}`);\n            }\n        }\n        if (this._isVersionInRangeFormat(previousMigratedVersion) || !semver.eq(previousMigratedVersion, versionToMigrate)) {\n            this._set(MIGRATION_KEY, versionToMigrate);\n        }\n    }\n    _containsReservedKey(key) {\n        if (typeof key === 'object') {\n            const firsKey = Object.keys(key)[0];\n            if (firsKey === INTERNAL_KEY) {\n                return true;\n            }\n        }\n        if (typeof key !== 'string') {\n            return false;\n        }\n        if (__classPrivateFieldGet(this, _options).accessPropertiesByDotNotation) {\n            if (key.startsWith(`${INTERNAL_KEY}.`)) {\n                return true;\n            }\n            return false;\n        }\n        return false;\n    }\n    _isVersionInRangeFormat(version) {\n        return semver.clean(version) === null;\n    }\n    _shouldPerformMigration(candidateVersion, previousMigratedVersion, versionToMigrate) {\n        if (this._isVersionInRangeFormat(candidateVersion)) {\n            if (previousMigratedVersion !== '0.0.0' && semver.satisfies(previousMigratedVersion, candidateVersion)) {\n                return false;\n            }\n            return semver.satisfies(versionToMigrate, candidateVersion);\n        }\n        if (semver.lte(candidateVersion, previousMigratedVersion)) {\n            return false;\n        }\n        if (semver.gt(candidateVersion, versionToMigrate)) {\n            return false;\n        }\n        return true;\n    }\n    _get(key, defaultValue) {\n        return dotProp.get(this.store, key, defaultValue);\n    }\n    _set(key, value) {\n        const { store } = this;\n        dotProp.set(store, key, value);\n        this.store = store;\n    }\n}\nexports.default = Conf;\n// For CommonJS default export support\nmodule.exports = Conf;\nmodule.exports.default = Conf;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = void 0;\nconst core_1 = require(\"./core\");\nconst draft7_1 = require(\"./vocabularies/draft7\");\nconst discriminator_1 = require(\"./vocabularies/discriminator\");\nconst draft7MetaSchema = require(\"./refs/json-schema-draft-07.json\");\nconst META_SUPPORT_DATA = [\"/properties\"];\nconst META_SCHEMA_ID = \"http://json-schema.org/draft-07/schema\";\nclass Ajv extends core_1.default {\n    _addVocabularies() {\n        super._addVocabularies();\n        draft7_1.default.forEach((v) => this.addVocabulary(v));\n        if (this.opts.discriminator)\n            this.addKeyword(discriminator_1.default);\n    }\n    _addDefaultMetaSchema() {\n        super._addDefaultMetaSchema();\n        if (!this.opts.meta)\n            return;\n        const metaSchema = this.opts.$data\n            ? this.$dataMetaSchema(draft7MetaSchema, META_SUPPORT_DATA)\n            : draft7MetaSchema;\n        this.addMetaSchema(metaSchema, META_SCHEMA_ID, false);\n        this.refs[\"http://json-schema.org/schema\"] = META_SCHEMA_ID;\n    }\n    defaultMeta() {\n        return (this.opts.defaultMeta =\n            super.defaultMeta() || (this.getSchema(META_SCHEMA_ID) ? META_SCHEMA_ID : undefined));\n    }\n}\nmodule.exports = exports = Ajv;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Ajv;\nvar validate_1 = require(\"./compile/validate\");\nObject.defineProperty(exports, \"KeywordCxt\", { enumerable: true, get: function () { return validate_1.KeywordCxt; } });\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\n//# sourceMappingURL=ajv.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.regexpCode = exports.getProperty = exports.safeStringify = exports.stringify = exports.strConcat = exports.addCodeArg = exports.str = exports._ = exports.nil = exports._Code = exports.Name = exports.IDENTIFIER = exports._CodeOrName = void 0;\nclass _CodeOrName {\n}\nexports._CodeOrName = _CodeOrName;\nexports.IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nclass Name extends _CodeOrName {\n    constructor(s) {\n        super();\n        if (!exports.IDENTIFIER.test(s))\n            throw new Error(\"CodeGen: name must be a valid identifier\");\n        this.str = s;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        return false;\n    }\n    get names() {\n        return { [this.str]: 1 };\n    }\n}\nexports.Name = Name;\nclass _Code extends _CodeOrName {\n    constructor(code) {\n        super();\n        this._items = typeof code === \"string\" ? [code] : code;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        if (this._items.length > 1)\n            return false;\n        const item = this._items[0];\n        return item === \"\" || item === '\"\"';\n    }\n    get str() {\n        var _a;\n        return ((_a = this._str) !== null && _a !== void 0 ? _a : (this._str = this._items.reduce((s, c) => `${s}${c}`, \"\")));\n    }\n    get names() {\n        var _a;\n        return ((_a = this._names) !== null && _a !== void 0 ? _a : (this._names = this._items.reduce((names, c) => {\n            if (c instanceof Name)\n                names[c.str] = (names[c.str] || 0) + 1;\n            return names;\n        }, {})));\n    }\n}\nexports._Code = _Code;\nexports.nil = new _Code(\"\");\nfunction _(strs, ...args) {\n    const code = [strs[0]];\n    let i = 0;\n    while (i < args.length) {\n        addCodeArg(code, args[i]);\n        code.push(strs[++i]);\n    }\n    return new _Code(code);\n}\nexports._ = _;\nconst plus = new _Code(\"+\");\nfunction str(strs, ...args) {\n    const expr = [safeStringify(strs[0])];\n    let i = 0;\n    while (i < args.length) {\n        expr.push(plus);\n        addCodeArg(expr, args[i]);\n        expr.push(plus, safeStringify(strs[++i]));\n    }\n    optimize(expr);\n    return new _Code(expr);\n}\nexports.str = str;\nfunction addCodeArg(code, arg) {\n    if (arg instanceof _Code)\n        code.push(...arg._items);\n    else if (arg instanceof Name)\n        code.push(arg);\n    else\n        code.push(interpolate(arg));\n}\nexports.addCodeArg = addCodeArg;\nfunction optimize(expr) {\n    let i = 1;\n    while (i < expr.length - 1) {\n        if (expr[i] === plus) {\n            const res = mergeExprItems(expr[i - 1], expr[i + 1]);\n            if (res !== undefined) {\n                expr.splice(i - 1, 3, res);\n                continue;\n            }\n            expr[i++] = \"+\";\n        }\n        i++;\n    }\n}\nfunction mergeExprItems(a, b) {\n    if (b === '\"\"')\n        return a;\n    if (a === '\"\"')\n        return b;\n    if (typeof a == \"string\") {\n        if (b instanceof Name || a[a.length - 1] !== '\"')\n            return;\n        if (typeof b != \"string\")\n            return `${a.slice(0, -1)}${b}\"`;\n        if (b[0] === '\"')\n            return a.slice(0, -1) + b.slice(1);\n        return;\n    }\n    if (typeof b == \"string\" && b[0] === '\"' && !(a instanceof Name))\n        return `\"${a}${b.slice(1)}`;\n    return;\n}\nfunction strConcat(c1, c2) {\n    return c2.emptyStr() ? c1 : c1.emptyStr() ? c2 : str `${c1}${c2}`;\n}\nexports.strConcat = strConcat;\n// TODO do not allow arrays here\nfunction interpolate(x) {\n    return typeof x == \"number\" || typeof x == \"boolean\" || x === null\n        ? x\n        : safeStringify(Array.isArray(x) ? x.join(\",\") : x);\n}\nfunction stringify(x) {\n    return new _Code(safeStringify(x));\n}\nexports.stringify = stringify;\nfunction safeStringify(x) {\n    return JSON.stringify(x)\n        .replace(/\\u2028/g, \"\\\\u2028\")\n        .replace(/\\u2029/g, \"\\\\u2029\");\n}\nexports.safeStringify = safeStringify;\nfunction getProperty(key) {\n    return typeof key == \"string\" && exports.IDENTIFIER.test(key) ? new _Code(`.${key}`) : _ `[${key}]`;\n}\nexports.getProperty = getProperty;\nfunction regexpCode(rx) {\n    return new _Code(rx.toString());\n}\nexports.regexpCode = regexpCode;\n//# sourceMappingURL=code.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.or = exports.and = exports.not = exports.CodeGen = exports.operators = exports.varKinds = exports.ValueScopeName = exports.ValueScope = exports.Scope = exports.Name = exports.regexpCode = exports.stringify = exports.getProperty = exports.nil = exports.strConcat = exports.str = exports._ = void 0;\nconst code_1 = require(\"./code\");\nconst scope_1 = require(\"./scope\");\nvar code_2 = require(\"./code\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return code_2._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return code_2.str; } });\nObject.defineProperty(exports, \"strConcat\", { enumerable: true, get: function () { return code_2.strConcat; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return code_2.nil; } });\nObject.defineProperty(exports, \"getProperty\", { enumerable: true, get: function () { return code_2.getProperty; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return code_2.stringify; } });\nObject.defineProperty(exports, \"regexpCode\", { enumerable: true, get: function () { return code_2.regexpCode; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return code_2.Name; } });\nvar scope_2 = require(\"./scope\");\nObject.defineProperty(exports, \"Scope\", { enumerable: true, get: function () { return scope_2.Scope; } });\nObject.defineProperty(exports, \"ValueScope\", { enumerable: true, get: function () { return scope_2.ValueScope; } });\nObject.defineProperty(exports, \"ValueScopeName\", { enumerable: true, get: function () { return scope_2.ValueScopeName; } });\nObject.defineProperty(exports, \"varKinds\", { enumerable: true, get: function () { return scope_2.varKinds; } });\nexports.operators = {\n    GT: new code_1._Code(\">\"),\n    GTE: new code_1._Code(\">=\"),\n    LT: new code_1._Code(\"<\"),\n    LTE: new code_1._Code(\"<=\"),\n    EQ: new code_1._Code(\"===\"),\n    NEQ: new code_1._Code(\"!==\"),\n    NOT: new code_1._Code(\"!\"),\n    OR: new code_1._Code(\"||\"),\n    AND: new code_1._Code(\"&&\"),\n    ADD: new code_1._Code(\"+\"),\n};\nclass Node {\n    optimizeNodes() {\n        return this;\n    }\n    optimizeNames(_names, _constants) {\n        return this;\n    }\n}\nclass Def extends Node {\n    constructor(varKind, name, rhs) {\n        super();\n        this.varKind = varKind;\n        this.name = name;\n        this.rhs = rhs;\n    }\n    render({ es5, _n }) {\n        const varKind = es5 ? scope_1.varKinds.var : this.varKind;\n        const rhs = this.rhs === undefined ? \"\" : ` = ${this.rhs}`;\n        return `${varKind} ${this.name}${rhs};` + _n;\n    }\n    optimizeNames(names, constants) {\n        if (!names[this.name.str])\n            return;\n        if (this.rhs)\n            this.rhs = optimizeExpr(this.rhs, names, constants);\n        return this;\n    }\n    get names() {\n        return this.rhs instanceof code_1._CodeOrName ? this.rhs.names : {};\n    }\n}\nclass Assign extends Node {\n    constructor(lhs, rhs, sideEffects) {\n        super();\n        this.lhs = lhs;\n        this.rhs = rhs;\n        this.sideEffects = sideEffects;\n    }\n    render({ _n }) {\n        return `${this.lhs} = ${this.rhs};` + _n;\n    }\n    optimizeNames(names, constants) {\n        if (this.lhs instanceof code_1.Name && !names[this.lhs.str] && !this.sideEffects)\n            return;\n        this.rhs = optimizeExpr(this.rhs, names, constants);\n        return this;\n    }\n    get names() {\n        const names = this.lhs instanceof code_1.Name ? {} : { ...this.lhs.names };\n        return addExprNames(names, this.rhs);\n    }\n}\nclass AssignOp extends Assign {\n    constructor(lhs, op, rhs, sideEffects) {\n        super(lhs, rhs, sideEffects);\n        this.op = op;\n    }\n    render({ _n }) {\n        return `${this.lhs} ${this.op}= ${this.rhs};` + _n;\n    }\n}\nclass Label extends Node {\n    constructor(label) {\n        super();\n        this.label = label;\n        this.names = {};\n    }\n    render({ _n }) {\n        return `${this.label}:` + _n;\n    }\n}\nclass Break extends Node {\n    constructor(label) {\n        super();\n        this.label = label;\n        this.names = {};\n    }\n    render({ _n }) {\n        const label = this.label ? ` ${this.label}` : \"\";\n        return `break${label};` + _n;\n    }\n}\nclass Throw extends Node {\n    constructor(error) {\n        super();\n        this.error = error;\n    }\n    render({ _n }) {\n        return `throw ${this.error};` + _n;\n    }\n    get names() {\n        return this.error.names;\n    }\n}\nclass AnyCode extends Node {\n    constructor(code) {\n        super();\n        this.code = code;\n    }\n    render({ _n }) {\n        return `${this.code};` + _n;\n    }\n    optimizeNodes() {\n        return `${this.code}` ? this : undefined;\n    }\n    optimizeNames(names, constants) {\n        this.code = optimizeExpr(this.code, names, constants);\n        return this;\n    }\n    get names() {\n        return this.code instanceof code_1._CodeOrName ? this.code.names : {};\n    }\n}\nclass ParentNode extends Node {\n    constructor(nodes = []) {\n        super();\n        this.nodes = nodes;\n    }\n    render(opts) {\n        return this.nodes.reduce((code, n) => code + n.render(opts), \"\");\n    }\n    optimizeNodes() {\n        const { nodes } = this;\n        let i = nodes.length;\n        while (i--) {\n            const n = nodes[i].optimizeNodes();\n            if (Array.isArray(n))\n                nodes.splice(i, 1, ...n);\n            else if (n)\n                nodes[i] = n;\n            else\n                nodes.splice(i, 1);\n        }\n        return nodes.length > 0 ? this : undefined;\n    }\n    optimizeNames(names, constants) {\n        const { nodes } = this;\n        let i = nodes.length;\n        while (i--) {\n            // iterating backwards improves 1-pass optimization\n            const n = nodes[i];\n            if (n.optimizeNames(names, constants))\n                continue;\n            subtractNames(names, n.names);\n            nodes.splice(i, 1);\n        }\n        return nodes.length > 0 ? this : undefined;\n    }\n    get names() {\n        return this.nodes.reduce((names, n) => addNames(names, n.names), {});\n    }\n}\nclass BlockNode extends ParentNode {\n    render(opts) {\n        return \"{\" + opts._n + super.render(opts) + \"}\" + opts._n;\n    }\n}\nclass Root extends ParentNode {\n}\nclass Else extends BlockNode {\n}\nElse.kind = \"else\";\nclass If extends BlockNode {\n    constructor(condition, nodes) {\n        super(nodes);\n        this.condition = condition;\n    }\n    render(opts) {\n        let code = `if(${this.condition})` + super.render(opts);\n        if (this.else)\n            code += \"else \" + this.else.render(opts);\n        return code;\n    }\n    optimizeNodes() {\n        super.optimizeNodes();\n        const cond = this.condition;\n        if (cond === true)\n            return this.nodes; // else is ignored here\n        let e = this.else;\n        if (e) {\n            const ns = e.optimizeNodes();\n            e = this.else = Array.isArray(ns) ? new Else(ns) : ns;\n        }\n        if (e) {\n            if (cond === false)\n                return e instanceof If ? e : e.nodes;\n            if (this.nodes.length)\n                return this;\n            return new If(not(cond), e instanceof If ? [e] : e.nodes);\n        }\n        if (cond === false || !this.nodes.length)\n            return undefined;\n        return this;\n    }\n    optimizeNames(names, constants) {\n        var _a;\n        this.else = (_a = this.else) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);\n        if (!(super.optimizeNames(names, constants) || this.else))\n            return;\n        this.condition = optimizeExpr(this.condition, names, constants);\n        return this;\n    }\n    get names() {\n        const names = super.names;\n        addExprNames(names, this.condition);\n        if (this.else)\n            addNames(names, this.else.names);\n        return names;\n    }\n}\nIf.kind = \"if\";\nclass For extends BlockNode {\n}\nFor.kind = \"for\";\nclass ForLoop extends For {\n    constructor(iteration) {\n        super();\n        this.iteration = iteration;\n    }\n    render(opts) {\n        return `for(${this.iteration})` + super.render(opts);\n    }\n    optimizeNames(names, constants) {\n        if (!super.optimizeNames(names, constants))\n            return;\n        this.iteration = optimizeExpr(this.iteration, names, constants);\n        return this;\n    }\n    get names() {\n        return addNames(super.names, this.iteration.names);\n    }\n}\nclass ForRange extends For {\n    constructor(varKind, name, from, to) {\n        super();\n        this.varKind = varKind;\n        this.name = name;\n        this.from = from;\n        this.to = to;\n    }\n    render(opts) {\n        const varKind = opts.es5 ? scope_1.varKinds.var : this.varKind;\n        const { name, from, to } = this;\n        return `for(${varKind} ${name}=${from}; ${name}<${to}; ${name}++)` + super.render(opts);\n    }\n    get names() {\n        const names = addExprNames(super.names, this.from);\n        return addExprNames(names, this.to);\n    }\n}\nclass ForIter extends For {\n    constructor(loop, varKind, name, iterable) {\n        super();\n        this.loop = loop;\n        this.varKind = varKind;\n        this.name = name;\n        this.iterable = iterable;\n    }\n    render(opts) {\n        return `for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})` + super.render(opts);\n    }\n    optimizeNames(names, constants) {\n        if (!super.optimizeNames(names, constants))\n            return;\n        this.iterable = optimizeExpr(this.iterable, names, constants);\n        return this;\n    }\n    get names() {\n        return addNames(super.names, this.iterable.names);\n    }\n}\nclass Func extends BlockNode {\n    constructor(name, args, async) {\n        super();\n        this.name = name;\n        this.args = args;\n        this.async = async;\n    }\n    render(opts) {\n        const _async = this.async ? \"async \" : \"\";\n        return `${_async}function ${this.name}(${this.args})` + super.render(opts);\n    }\n}\nFunc.kind = \"func\";\nclass Return extends ParentNode {\n    render(opts) {\n        return \"return \" + super.render(opts);\n    }\n}\nReturn.kind = \"return\";\nclass Try extends BlockNode {\n    render(opts) {\n        let code = \"try\" + super.render(opts);\n        if (this.catch)\n            code += this.catch.render(opts);\n        if (this.finally)\n            code += this.finally.render(opts);\n        return code;\n    }\n    optimizeNodes() {\n        var _a, _b;\n        super.optimizeNodes();\n        (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNodes();\n        (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNodes();\n        return this;\n    }\n    optimizeNames(names, constants) {\n        var _a, _b;\n        super.optimizeNames(names, constants);\n        (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);\n        (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNames(names, constants);\n        return this;\n    }\n    get names() {\n        const names = super.names;\n        if (this.catch)\n            addNames(names, this.catch.names);\n        if (this.finally)\n            addNames(names, this.finally.names);\n        return names;\n    }\n}\nclass Catch extends BlockNode {\n    constructor(error) {\n        super();\n        this.error = error;\n    }\n    render(opts) {\n        return `catch(${this.error})` + super.render(opts);\n    }\n}\nCatch.kind = \"catch\";\nclass Finally extends BlockNode {\n    render(opts) {\n        return \"finally\" + super.render(opts);\n    }\n}\nFinally.kind = \"finally\";\nclass CodeGen {\n    constructor(extScope, opts = {}) {\n        this._values = {};\n        this._blockStarts = [];\n        this._constants = {};\n        this.opts = { ...opts, _n: opts.lines ? \"\\n\" : \"\" };\n        this._extScope = extScope;\n        this._scope = new scope_1.Scope({ parent: extScope });\n        this._nodes = [new Root()];\n    }\n    toString() {\n        return this._root.render(this.opts);\n    }\n    // returns unique name in the internal scope\n    name(prefix) {\n        return this._scope.name(prefix);\n    }\n    // reserves unique name in the external scope\n    scopeName(prefix) {\n        return this._extScope.name(prefix);\n    }\n    // reserves unique name in the external scope and assigns value to it\n    scopeValue(prefixOrName, value) {\n        const name = this._extScope.value(prefixOrName, value);\n        const vs = this._values[name.prefix] || (this._values[name.prefix] = new Set());\n        vs.add(name);\n        return name;\n    }\n    getScopeValue(prefix, keyOrRef) {\n        return this._extScope.getValue(prefix, keyOrRef);\n    }\n    // return code that assigns values in the external scope to the names that are used internally\n    // (same names that were returned by gen.scopeName or gen.scopeValue)\n    scopeRefs(scopeName) {\n        return this._extScope.scopeRefs(scopeName, this._values);\n    }\n    scopeCode() {\n        return this._extScope.scopeCode(this._values);\n    }\n    _def(varKind, nameOrPrefix, rhs, constant) {\n        const name = this._scope.toName(nameOrPrefix);\n        if (rhs !== undefined && constant)\n            this._constants[name.str] = rhs;\n        this._leafNode(new Def(varKind, name, rhs));\n        return name;\n    }\n    // `const` declaration (`var` in es5 mode)\n    const(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.const, nameOrPrefix, rhs, _constant);\n    }\n    // `let` declaration with optional assignment (`var` in es5 mode)\n    let(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.let, nameOrPrefix, rhs, _constant);\n    }\n    // `var` declaration with optional assignment\n    var(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.var, nameOrPrefix, rhs, _constant);\n    }\n    // assignment code\n    assign(lhs, rhs, sideEffects) {\n        return this._leafNode(new Assign(lhs, rhs, sideEffects));\n    }\n    // `+=` code\n    add(lhs, rhs) {\n        return this._leafNode(new AssignOp(lhs, exports.operators.ADD, rhs));\n    }\n    // appends passed SafeExpr to code or executes Block\n    code(c) {\n        if (typeof c == \"function\")\n            c();\n        else if (c !== code_1.nil)\n            this._leafNode(new AnyCode(c));\n        return this;\n    }\n    // returns code for object literal for the passed argument list of key-value pairs\n    object(...keyValues) {\n        const code = [\"{\"];\n        for (const [key, value] of keyValues) {\n            if (code.length > 1)\n                code.push(\",\");\n            code.push(key);\n            if (key !== value || this.opts.es5) {\n                code.push(\":\");\n                code_1.addCodeArg(code, value);\n            }\n        }\n        code.push(\"}\");\n        return new code_1._Code(code);\n    }\n    // `if` clause (or statement if `thenBody` and, optionally, `elseBody` are passed)\n    if(condition, thenBody, elseBody) {\n        this._blockNode(new If(condition));\n        if (thenBody && elseBody) {\n            this.code(thenBody).else().code(elseBody).endIf();\n        }\n        else if (thenBody) {\n            this.code(thenBody).endIf();\n        }\n        else if (elseBody) {\n            throw new Error('CodeGen: \"else\" body without \"then\" body');\n        }\n        return this;\n    }\n    // `else if` clause - invalid without `if` or after `else` clauses\n    elseIf(condition) {\n        return this._elseNode(new If(condition));\n    }\n    // `else` clause - only valid after `if` or `else if` clauses\n    else() {\n        return this._elseNode(new Else());\n    }\n    // end `if` statement (needed if gen.if was used only with condition)\n    endIf() {\n        return this._endBlockNode(If, Else);\n    }\n    _for(node, forBody) {\n        this._blockNode(node);\n        if (forBody)\n            this.code(forBody).endFor();\n        return this;\n    }\n    // a generic `for` clause (or statement if `forBody` is passed)\n    for(iteration, forBody) {\n        return this._for(new ForLoop(iteration), forBody);\n    }\n    // `for` statement for a range of values\n    forRange(nameOrPrefix, from, to, forBody, varKind = this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.let) {\n        const name = this._scope.toName(nameOrPrefix);\n        return this._for(new ForRange(varKind, name, from, to), () => forBody(name));\n    }\n    // `for-of` statement (in es5 mode replace with a normal for loop)\n    forOf(nameOrPrefix, iterable, forBody, varKind = scope_1.varKinds.const) {\n        const name = this._scope.toName(nameOrPrefix);\n        if (this.opts.es5) {\n            const arr = iterable instanceof code_1.Name ? iterable : this.var(\"_arr\", iterable);\n            return this.forRange(\"_i\", 0, code_1._ `${arr}.length`, (i) => {\n                this.var(name, code_1._ `${arr}[${i}]`);\n                forBody(name);\n            });\n        }\n        return this._for(new ForIter(\"of\", varKind, name, iterable), () => forBody(name));\n    }\n    // `for-in` statement.\n    // With option `ownProperties` replaced with a `for-of` loop for object keys\n    forIn(nameOrPrefix, obj, forBody, varKind = this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.const) {\n        if (this.opts.ownProperties) {\n            return this.forOf(nameOrPrefix, code_1._ `Object.keys(${obj})`, forBody);\n        }\n        const name = this._scope.toName(nameOrPrefix);\n        return this._for(new ForIter(\"in\", varKind, name, obj), () => forBody(name));\n    }\n    // end `for` loop\n    endFor() {\n        return this._endBlockNode(For);\n    }\n    // `label` statement\n    label(label) {\n        return this._leafNode(new Label(label));\n    }\n    // `break` statement\n    break(label) {\n        return this._leafNode(new Break(label));\n    }\n    // `return` statement\n    return(value) {\n        const node = new Return();\n        this._blockNode(node);\n        this.code(value);\n        if (node.nodes.length !== 1)\n            throw new Error('CodeGen: \"return\" should have one node');\n        return this._endBlockNode(Return);\n    }\n    // `try` statement\n    try(tryBody, catchCode, finallyCode) {\n        if (!catchCode && !finallyCode)\n            throw new Error('CodeGen: \"try\" without \"catch\" and \"finally\"');\n        const node = new Try();\n        this._blockNode(node);\n        this.code(tryBody);\n        if (catchCode) {\n            const error = this.name(\"e\");\n            this._currNode = node.catch = new Catch(error);\n            catchCode(error);\n        }\n        if (finallyCode) {\n            this._currNode = node.finally = new Finally();\n            this.code(finallyCode);\n        }\n        return this._endBlockNode(Catch, Finally);\n    }\n    // `throw` statement\n    throw(error) {\n        return this._leafNode(new Throw(error));\n    }\n    // start self-balancing block\n    block(body, nodeCount) {\n        this._blockStarts.push(this._nodes.length);\n        if (body)\n            this.code(body).endBlock(nodeCount);\n        return this;\n    }\n    // end the current self-balancing block\n    endBlock(nodeCount) {\n        const len = this._blockStarts.pop();\n        if (len === undefined)\n            throw new Error(\"CodeGen: not in self-balancing block\");\n        const toClose = this._nodes.length - len;\n        if (toClose < 0 || (nodeCount !== undefined && toClose !== nodeCount)) {\n            throw new Error(`CodeGen: wrong number of nodes: ${toClose} vs ${nodeCount} expected`);\n        }\n        this._nodes.length = len;\n        return this;\n    }\n    // `function` heading (or definition if funcBody is passed)\n    func(name, args = code_1.nil, async, funcBody) {\n        this._blockNode(new Func(name, args, async));\n        if (funcBody)\n            this.code(funcBody).endFunc();\n        return this;\n    }\n    // end function definition\n    endFunc() {\n        return this._endBlockNode(Func);\n    }\n    optimize(n = 1) {\n        while (n-- > 0) {\n            this._root.optimizeNodes();\n            this._root.optimizeNames(this._root.names, this._constants);\n        }\n    }\n    _leafNode(node) {\n        this._currNode.nodes.push(node);\n        return this;\n    }\n    _blockNode(node) {\n        this._currNode.nodes.push(node);\n        this._nodes.push(node);\n    }\n    _endBlockNode(N1, N2) {\n        const n = this._currNode;\n        if (n instanceof N1 || (N2 && n instanceof N2)) {\n            this._nodes.pop();\n            return this;\n        }\n        throw new Error(`CodeGen: not in block \"${N2 ? `${N1.kind}/${N2.kind}` : N1.kind}\"`);\n    }\n    _elseNode(node) {\n        const n = this._currNode;\n        if (!(n instanceof If)) {\n            throw new Error('CodeGen: \"else\" without \"if\"');\n        }\n        this._currNode = n.else = node;\n        return this;\n    }\n    get _root() {\n        return this._nodes[0];\n    }\n    get _currNode() {\n        const ns = this._nodes;\n        return ns[ns.length - 1];\n    }\n    set _currNode(node) {\n        const ns = this._nodes;\n        ns[ns.length - 1] = node;\n    }\n}\nexports.CodeGen = CodeGen;\nfunction addNames(names, from) {\n    for (const n in from)\n        names[n] = (names[n] || 0) + (from[n] || 0);\n    return names;\n}\nfunction addExprNames(names, from) {\n    return from instanceof code_1._CodeOrName ? addNames(names, from.names) : names;\n}\nfunction optimizeExpr(expr, names, constants) {\n    if (expr instanceof code_1.Name)\n        return replaceName(expr);\n    if (!canOptimize(expr))\n        return expr;\n    return new code_1._Code(expr._items.reduce((items, c) => {\n        if (c instanceof code_1.Name)\n            c = replaceName(c);\n        if (c instanceof code_1._Code)\n            items.push(...c._items);\n        else\n            items.push(c);\n        return items;\n    }, []));\n    function replaceName(n) {\n        const c = constants[n.str];\n        if (c === undefined || names[n.str] !== 1)\n            return n;\n        delete names[n.str];\n        return c;\n    }\n    function canOptimize(e) {\n        return (e instanceof code_1._Code &&\n            e._items.some((c) => c instanceof code_1.Name && names[c.str] === 1 && constants[c.str] !== undefined));\n    }\n}\nfunction subtractNames(names, from) {\n    for (const n in from)\n        names[n] = (names[n] || 0) - (from[n] || 0);\n}\nfunction not(x) {\n    return typeof x == \"boolean\" || typeof x == \"number\" || x === null ? !x : code_1._ `!${par(x)}`;\n}\nexports.not = not;\nconst andCode = mappend(exports.operators.AND);\n// boolean AND (&&) expression with the passed arguments\nfunction and(...args) {\n    return args.reduce(andCode);\n}\nexports.and = and;\nconst orCode = mappend(exports.operators.OR);\n// boolean OR (||) expression with the passed arguments\nfunction or(...args) {\n    return args.reduce(orCode);\n}\nexports.or = or;\nfunction mappend(op) {\n    return (x, y) => (x === code_1.nil ? y : y === code_1.nil ? x : code_1._ `${par(x)} ${op} ${par(y)}`);\n}\nfunction par(x) {\n    return x instanceof code_1.Name ? x : code_1._ `(${x})`;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ValueScope = exports.ValueScopeName = exports.Scope = exports.varKinds = exports.UsedValueState = void 0;\nconst code_1 = require(\"./code\");\nclass ValueError extends Error {\n    constructor(name) {\n        super(`CodeGen: \"code\" for ${name} not defined`);\n        this.value = name.value;\n    }\n}\nvar UsedValueState;\n(function (UsedValueState) {\n    UsedValueState[UsedValueState[\"Started\"] = 0] = \"Started\";\n    UsedValueState[UsedValueState[\"Completed\"] = 1] = \"Completed\";\n})(UsedValueState = exports.UsedValueState || (exports.UsedValueState = {}));\nexports.varKinds = {\n    const: new code_1.Name(\"const\"),\n    let: new code_1.Name(\"let\"),\n    var: new code_1.Name(\"var\"),\n};\nclass Scope {\n    constructor({ prefixes, parent } = {}) {\n        this._names = {};\n        this._prefixes = prefixes;\n        this._parent = parent;\n    }\n    toName(nameOrPrefix) {\n        return nameOrPrefix instanceof code_1.Name ? nameOrPrefix : this.name(nameOrPrefix);\n    }\n    name(prefix) {\n        return new code_1.Name(this._newName(prefix));\n    }\n    _newName(prefix) {\n        const ng = this._names[prefix] || this._nameGroup(prefix);\n        return `${prefix}${ng.index++}`;\n    }\n    _nameGroup(prefix) {\n        var _a, _b;\n        if (((_b = (_a = this._parent) === null || _a === void 0 ? void 0 : _a._prefixes) === null || _b === void 0 ? void 0 : _b.has(prefix)) || (this._prefixes && !this._prefixes.has(prefix))) {\n            throw new Error(`CodeGen: prefix \"${prefix}\" is not allowed in this scope`);\n        }\n        return (this._names[prefix] = { prefix, index: 0 });\n    }\n}\nexports.Scope = Scope;\nclass ValueScopeName extends code_1.Name {\n    constructor(prefix, nameStr) {\n        super(nameStr);\n        this.prefix = prefix;\n    }\n    setValue(value, { property, itemIndex }) {\n        this.value = value;\n        this.scopePath = code_1._ `.${new code_1.Name(property)}[${itemIndex}]`;\n    }\n}\nexports.ValueScopeName = ValueScopeName;\nconst line = code_1._ `\\n`;\nclass ValueScope extends Scope {\n    constructor(opts) {\n        super(opts);\n        this._values = {};\n        this._scope = opts.scope;\n        this.opts = { ...opts, _n: opts.lines ? line : code_1.nil };\n    }\n    get() {\n        return this._scope;\n    }\n    name(prefix) {\n        return new ValueScopeName(prefix, this._newName(prefix));\n    }\n    value(nameOrPrefix, value) {\n        var _a;\n        if (value.ref === undefined)\n            throw new Error(\"CodeGen: ref must be passed in value\");\n        const name = this.toName(nameOrPrefix);\n        const { prefix } = name;\n        const valueKey = (_a = value.key) !== null && _a !== void 0 ? _a : value.ref;\n        let vs = this._values[prefix];\n        if (vs) {\n            const _name = vs.get(valueKey);\n            if (_name)\n                return _name;\n        }\n        else {\n            vs = this._values[prefix] = new Map();\n        }\n        vs.set(valueKey, name);\n        const s = this._scope[prefix] || (this._scope[prefix] = []);\n        const itemIndex = s.length;\n        s[itemIndex] = value.ref;\n        name.setValue(value, { property: prefix, itemIndex });\n        return name;\n    }\n    getValue(prefix, keyOrRef) {\n        const vs = this._values[prefix];\n        if (!vs)\n            return;\n        return vs.get(keyOrRef);\n    }\n    scopeRefs(scopeName, values = this._values) {\n        return this._reduceValues(values, (name) => {\n            if (name.scopePath === undefined)\n                throw new Error(`CodeGen: name \"${name}\" has no value`);\n            return code_1._ `${scopeName}${name.scopePath}`;\n        });\n    }\n    scopeCode(values = this._values, usedValues, getCode) {\n        return this._reduceValues(values, (name) => {\n            if (name.value === undefined)\n                throw new Error(`CodeGen: name \"${name}\" has no value`);\n            return name.value.code;\n        }, usedValues, getCode);\n    }\n    _reduceValues(values, valueCode, usedValues = {}, getCode) {\n        let code = code_1.nil;\n        for (const prefix in values) {\n            const vs = values[prefix];\n            if (!vs)\n                continue;\n            const nameSet = (usedValues[prefix] = usedValues[prefix] || new Map());\n            vs.forEach((name) => {\n                if (nameSet.has(name))\n                    return;\n                nameSet.set(name, UsedValueState.Started);\n                let c = valueCode(name);\n                if (c) {\n                    const def = this.opts.es5 ? exports.varKinds.var : exports.varKinds.const;\n                    code = code_1._ `${code}${def} ${name} = ${c};${this.opts._n}`;\n                }\n                else if ((c = getCode === null || getCode === void 0 ? void 0 : getCode(name))) {\n                    code = code_1._ `${code}${c}${this.opts._n}`;\n                }\n                else {\n                    throw new ValueError(name);\n                }\n                nameSet.set(name, UsedValueState.Completed);\n            });\n        }\n        return code;\n    }\n}\nexports.ValueScope = ValueScope;\n//# sourceMappingURL=scope.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extendErrors = exports.resetErrorsCount = exports.reportExtraError = exports.reportError = exports.keyword$DataError = exports.keywordError = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst util_1 = require(\"./util\");\nconst names_1 = require(\"./names\");\nexports.keywordError = {\n    message: ({ keyword }) => codegen_1.str `must pass \"${keyword}\" keyword validation`,\n};\nexports.keyword$DataError = {\n    message: ({ keyword, schemaType }) => schemaType\n        ? codegen_1.str `\"${keyword}\" keyword must be ${schemaType} ($data)`\n        : codegen_1.str `\"${keyword}\" keyword is invalid ($data)`,\n};\nfunction reportError(cxt, error = exports.keywordError, errorPaths, overrideAllErrors) {\n    const { it } = cxt;\n    const { gen, compositeRule, allErrors } = it;\n    const errObj = errorObjectCode(cxt, error, errorPaths);\n    if (overrideAllErrors !== null && overrideAllErrors !== void 0 ? overrideAllErrors : (compositeRule || allErrors)) {\n        addError(gen, errObj);\n    }\n    else {\n        returnErrors(it, codegen_1._ `[${errObj}]`);\n    }\n}\nexports.reportError = reportError;\nfunction reportExtraError(cxt, error = exports.keywordError, errorPaths) {\n    const { it } = cxt;\n    const { gen, compositeRule, allErrors } = it;\n    const errObj = errorObjectCode(cxt, error, errorPaths);\n    addError(gen, errObj);\n    if (!(compositeRule || allErrors)) {\n        returnErrors(it, names_1.default.vErrors);\n    }\n}\nexports.reportExtraError = reportExtraError;\nfunction resetErrorsCount(gen, errsCount) {\n    gen.assign(names_1.default.errors, errsCount);\n    gen.if(codegen_1._ `${names_1.default.vErrors} !== null`, () => gen.if(errsCount, () => gen.assign(codegen_1._ `${names_1.default.vErrors}.length`, errsCount), () => gen.assign(names_1.default.vErrors, null)));\n}\nexports.resetErrorsCount = resetErrorsCount;\nfunction extendErrors({ gen, keyword, schemaValue, data, errsCount, it, }) {\n    /* istanbul ignore if */\n    if (errsCount === undefined)\n        throw new Error(\"ajv implementation error\");\n    const err = gen.name(\"err\");\n    gen.forRange(\"i\", errsCount, names_1.default.errors, (i) => {\n        gen.const(err, codegen_1._ `${names_1.default.vErrors}[${i}]`);\n        gen.if(codegen_1._ `${err}.instancePath === undefined`, () => gen.assign(codegen_1._ `${err}.instancePath`, codegen_1.strConcat(names_1.default.instancePath, it.errorPath)));\n        gen.assign(codegen_1._ `${err}.schemaPath`, codegen_1.str `${it.errSchemaPath}/${keyword}`);\n        if (it.opts.verbose) {\n            gen.assign(codegen_1._ `${err}.schema`, schemaValue);\n            gen.assign(codegen_1._ `${err}.data`, data);\n        }\n    });\n}\nexports.extendErrors = extendErrors;\nfunction addError(gen, errObj) {\n    const err = gen.const(\"err\", errObj);\n    gen.if(codegen_1._ `${names_1.default.vErrors} === null`, () => gen.assign(names_1.default.vErrors, codegen_1._ `[${err}]`), codegen_1._ `${names_1.default.vErrors}.push(${err})`);\n    gen.code(codegen_1._ `${names_1.default.errors}++`);\n}\nfunction returnErrors(it, errs) {\n    const { gen, validateName, schemaEnv } = it;\n    if (schemaEnv.$async) {\n        gen.throw(codegen_1._ `new ${it.ValidationError}(${errs})`);\n    }\n    else {\n        gen.assign(codegen_1._ `${validateName}.errors`, errs);\n        gen.return(false);\n    }\n}\nconst E = {\n    keyword: new codegen_1.Name(\"keyword\"),\n    schemaPath: new codegen_1.Name(\"schemaPath\"),\n    params: new codegen_1.Name(\"params\"),\n    propertyName: new codegen_1.Name(\"propertyName\"),\n    message: new codegen_1.Name(\"message\"),\n    schema: new codegen_1.Name(\"schema\"),\n    parentSchema: new codegen_1.Name(\"parentSchema\"),\n};\nfunction errorObjectCode(cxt, error, errorPaths) {\n    const { createErrors } = cxt.it;\n    if (createErrors === false)\n        return codegen_1._ `{}`;\n    return errorObject(cxt, error, errorPaths);\n}\nfunction errorObject(cxt, error, errorPaths = {}) {\n    const { gen, it } = cxt;\n    const keyValues = [\n        errorInstancePath(it, errorPaths),\n        errorSchemaPath(cxt, errorPaths),\n    ];\n    extraErrorProps(cxt, error, keyValues);\n    return gen.object(...keyValues);\n}\nfunction errorInstancePath({ errorPath }, { instancePath }) {\n    const instPath = instancePath\n        ? codegen_1.str `${errorPath}${util_1.getErrorPath(instancePath, util_1.Type.Str)}`\n        : errorPath;\n    return [names_1.default.instancePath, codegen_1.strConcat(names_1.default.instancePath, instPath)];\n}\nfunction errorSchemaPath({ keyword, it: { errSchemaPath } }, { schemaPath, parentSchema }) {\n    let schPath = parentSchema ? errSchemaPath : codegen_1.str `${errSchemaPath}/${keyword}`;\n    if (schemaPath) {\n        schPath = codegen_1.str `${schPath}${util_1.getErrorPath(schemaPath, util_1.Type.Str)}`;\n    }\n    return [E.schemaPath, schPath];\n}\nfunction extraErrorProps(cxt, { params, message }, keyValues) {\n    const { keyword, data, schemaValue, it } = cxt;\n    const { opts, propertyName, topSchemaRef, schemaPath } = it;\n    keyValues.push([E.keyword, keyword], [E.params, typeof params == \"function\" ? params(cxt) : params || codegen_1._ `{}`]);\n    if (opts.messages) {\n        keyValues.push([E.message, typeof message == \"function\" ? message(cxt) : message]);\n    }\n    if (opts.verbose) {\n        keyValues.push([E.schema, schemaValue], [E.parentSchema, codegen_1._ `${topSchemaRef}${schemaPath}`], [names_1.default.data, data]);\n    }\n    if (propertyName)\n        keyValues.push([E.propertyName, propertyName]);\n}\n//# sourceMappingURL=errors.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveSchema = exports.getCompilingSchema = exports.resolveRef = exports.compileSchema = exports.SchemaEnv = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst validation_error_1 = require(\"../runtime/validation_error\");\nconst names_1 = require(\"./names\");\nconst resolve_1 = require(\"./resolve\");\nconst util_1 = require(\"./util\");\nconst validate_1 = require(\"./validate\");\nconst URI = require(\"uri-js\");\nclass SchemaEnv {\n    constructor(env) {\n        var _a;\n        this.refs = {};\n        this.dynamicAnchors = {};\n        let schema;\n        if (typeof env.schema == \"object\")\n            schema = env.schema;\n        this.schema = env.schema;\n        this.schemaId = env.schemaId;\n        this.root = env.root || this;\n        this.baseId = (_a = env.baseId) !== null && _a !== void 0 ? _a : resolve_1.normalizeId(schema === null || schema === void 0 ? void 0 : schema[env.schemaId || \"$id\"]);\n        this.schemaPath = env.schemaPath;\n        this.localRefs = env.localRefs;\n        this.meta = env.meta;\n        this.$async = schema === null || schema === void 0 ? void 0 : schema.$async;\n        this.refs = {};\n    }\n}\nexports.SchemaEnv = SchemaEnv;\n// let codeSize = 0\n// let nodeCount = 0\n// Compiles schema in SchemaEnv\nfunction compileSchema(sch) {\n    // TODO refactor - remove compilations\n    const _sch = getCompilingSchema.call(this, sch);\n    if (_sch)\n        return _sch;\n    const rootId = resolve_1.getFullPath(sch.root.baseId); // TODO if getFullPath removed 1 tests fails\n    const { es5, lines } = this.opts.code;\n    const { ownProperties } = this.opts;\n    const gen = new codegen_1.CodeGen(this.scope, { es5, lines, ownProperties });\n    let _ValidationError;\n    if (sch.$async) {\n        _ValidationError = gen.scopeValue(\"Error\", {\n            ref: validation_error_1.default,\n            code: codegen_1._ `require(\"ajv/dist/runtime/validation_error\").default`,\n        });\n    }\n    const validateName = gen.scopeName(\"validate\");\n    sch.validateName = validateName;\n    const schemaCxt = {\n        gen,\n        allErrors: this.opts.allErrors,\n        data: names_1.default.data,\n        parentData: names_1.default.parentData,\n        parentDataProperty: names_1.default.parentDataProperty,\n        dataNames: [names_1.default.data],\n        dataPathArr: [codegen_1.nil],\n        dataLevel: 0,\n        dataTypes: [],\n        definedProperties: new Set(),\n        topSchemaRef: gen.scopeValue(\"schema\", this.opts.code.source === true\n            ? { ref: sch.schema, code: codegen_1.stringify(sch.schema) }\n            : { ref: sch.schema }),\n        validateName,\n        ValidationError: _ValidationError,\n        schema: sch.schema,\n        schemaEnv: sch,\n        rootId,\n        baseId: sch.baseId || rootId,\n        schemaPath: codegen_1.nil,\n        errSchemaPath: sch.schemaPath || (this.opts.jtd ? \"\" : \"#\"),\n        errorPath: codegen_1._ `\"\"`,\n        opts: this.opts,\n        self: this,\n    };\n    let sourceCode;\n    try {\n        this._compilations.add(sch);\n        validate_1.validateFunctionCode(schemaCxt);\n        gen.optimize(this.opts.code.optimize);\n        // gen.optimize(1)\n        const validateCode = gen.toString();\n        sourceCode = `${gen.scopeRefs(names_1.default.scope)}return ${validateCode}`;\n        // console.log((codeSize += sourceCode.length), (nodeCount += gen.nodeCount))\n        if (this.opts.code.process)\n            sourceCode = this.opts.code.process(sourceCode, sch);\n        // console.log(\"\\n\\n\\n *** \\n\", sourceCode)\n        const makeValidate = new Function(`${names_1.default.self}`, `${names_1.default.scope}`, sourceCode);\n        const validate = makeValidate(this, this.scope.get());\n        this.scope.value(validateName, { ref: validate });\n        validate.errors = null;\n        validate.schema = sch.schema;\n        validate.schemaEnv = sch;\n        if (sch.$async)\n            validate.$async = true;\n        if (this.opts.code.source === true) {\n            validate.source = { validateName, validateCode, scopeValues: gen._values };\n        }\n        if (this.opts.unevaluated) {\n            const { props, items } = schemaCxt;\n            validate.evaluated = {\n                props: props instanceof codegen_1.Name ? undefined : props,\n                items: items instanceof codegen_1.Name ? undefined : items,\n                dynamicProps: props instanceof codegen_1.Name,\n                dynamicItems: items instanceof codegen_1.Name,\n            };\n            if (validate.source)\n                validate.source.evaluated = codegen_1.stringify(validate.evaluated);\n        }\n        sch.validate = validate;\n        return sch;\n    }\n    catch (e) {\n        delete sch.validate;\n        delete sch.validateName;\n        if (sourceCode)\n            this.logger.error(\"Error compiling schema, function code:\", sourceCode);\n        // console.log(\"\\n\\n\\n *** \\n\", sourceCode, this.opts)\n        throw e;\n    }\n    finally {\n        this._compilations.delete(sch);\n    }\n}\nexports.compileSchema = compileSchema;\nfunction resolveRef(root, baseId, ref) {\n    var _a;\n    ref = resolve_1.resolveUrl(baseId, ref);\n    const schOrFunc = root.refs[ref];\n    if (schOrFunc)\n        return schOrFunc;\n    let _sch = resolve.call(this, root, ref);\n    if (_sch === undefined) {\n        const schema = (_a = root.localRefs) === null || _a === void 0 ? void 0 : _a[ref]; // TODO maybe localRefs should hold SchemaEnv\n        const { schemaId } = this.opts;\n        if (schema)\n            _sch = new SchemaEnv({ schema, schemaId, root, baseId });\n    }\n    if (_sch === undefined)\n        return;\n    return (root.refs[ref] = inlineOrCompile.call(this, _sch));\n}\nexports.resolveRef = resolveRef;\nfunction inlineOrCompile(sch) {\n    if (resolve_1.inlineRef(sch.schema, this.opts.inlineRefs))\n        return sch.schema;\n    return sch.validate ? sch : compileSchema.call(this, sch);\n}\n// Index of schema compilation in the currently compiled list\nfunction getCompilingSchema(schEnv) {\n    for (const sch of this._compilations) {\n        if (sameSchemaEnv(sch, schEnv))\n            return sch;\n    }\n}\nexports.getCompilingSchema = getCompilingSchema;\nfunction sameSchemaEnv(s1, s2) {\n    return s1.schema === s2.schema && s1.root === s2.root && s1.baseId === s2.baseId;\n}\n// resolve and compile the references ($ref)\n// TODO returns AnySchemaObject (if the schema can be inlined) or validation function\nfunction resolve(root, // information about the root schema for the current schema\nref // reference to resolve\n) {\n    let sch;\n    while (typeof (sch = this.refs[ref]) == \"string\")\n        ref = sch;\n    return sch || this.schemas[ref] || resolveSchema.call(this, root, ref);\n}\n// Resolve schema, its root and baseId\nfunction resolveSchema(root, // root object with properties schema, refs TODO below SchemaEnv is assigned to it\nref // reference to resolve\n) {\n    const p = URI.parse(ref);\n    const refPath = resolve_1._getFullPath(p);\n    let baseId = resolve_1.getFullPath(root.baseId);\n    // TODO `Object.keys(root.schema).length > 0` should not be needed - but removing breaks 2 tests\n    if (Object.keys(root.schema).length > 0 && refPath === baseId) {\n        return getJsonPointer.call(this, p, root);\n    }\n    const id = resolve_1.normalizeId(refPath);\n    const schOrRef = this.refs[id] || this.schemas[id];\n    if (typeof schOrRef == \"string\") {\n        const sch = resolveSchema.call(this, root, schOrRef);\n        if (typeof (sch === null || sch === void 0 ? void 0 : sch.schema) !== \"object\")\n            return;\n        return getJsonPointer.call(this, p, sch);\n    }\n    if (typeof (schOrRef === null || schOrRef === void 0 ? void 0 : schOrRef.schema) !== \"object\")\n        return;\n    if (!schOrRef.validate)\n        compileSchema.call(this, schOrRef);\n    if (id === resolve_1.normalizeId(ref)) {\n        const { schema } = schOrRef;\n        const { schemaId } = this.opts;\n        const schId = schema[schemaId];\n        if (schId)\n            baseId = resolve_1.resolveUrl(baseId, schId);\n        return new SchemaEnv({ schema, schemaId, root, baseId });\n    }\n    return getJsonPointer.call(this, p, schOrRef);\n}\nexports.resolveSchema = resolveSchema;\nconst PREVENT_SCOPE_CHANGE = new Set([\n    \"properties\",\n    \"patternProperties\",\n    \"enum\",\n    \"dependencies\",\n    \"definitions\",\n]);\nfunction getJsonPointer(parsedRef, { baseId, schema, root }) {\n    var _a;\n    if (((_a = parsedRef.fragment) === null || _a === void 0 ? void 0 : _a[0]) !== \"/\")\n        return;\n    for (const part of parsedRef.fragment.slice(1).split(\"/\")) {\n        if (typeof schema == \"boolean\")\n            return;\n        schema = schema[util_1.unescapeFragment(part)];\n        if (schema === undefined)\n            return;\n        // TODO PREVENT_SCOPE_CHANGE could be defined in keyword def?\n        const schId = typeof schema == \"object\" && schema[this.opts.schemaId];\n        if (!PREVENT_SCOPE_CHANGE.has(part) && schId) {\n            baseId = resolve_1.resolveUrl(baseId, schId);\n        }\n    }\n    let env;\n    if (typeof schema != \"boolean\" && schema.$ref && !util_1.schemaHasRulesButRef(schema, this.RULES)) {\n        const $ref = resolve_1.resolveUrl(baseId, schema.$ref);\n        env = resolveSchema.call(this, root, $ref);\n    }\n    // even though resolution failed we need to return SchemaEnv to throw exception\n    // so that compileAsync loads missing schema.\n    const { schemaId } = this.opts;\n    env = env || new SchemaEnv({ schema, schemaId, root, baseId });\n    if (env.schema !== env.root.schema)\n        return env;\n    return undefined;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"./codegen\");\nconst names = {\n    // validation function arguments\n    data: new codegen_1.Name(\"data\"),\n    // args passed from referencing schema\n    valCxt: new codegen_1.Name(\"valCxt\"),\n    instancePath: new codegen_1.Name(\"instancePath\"),\n    parentData: new codegen_1.Name(\"parentData\"),\n    parentDataProperty: new codegen_1.Name(\"parentDataProperty\"),\n    rootData: new codegen_1.Name(\"rootData\"),\n    dynamicAnchors: new codegen_1.Name(\"dynamicAnchors\"),\n    // function scoped variables\n    vErrors: new codegen_1.Name(\"vErrors\"),\n    errors: new codegen_1.Name(\"errors\"),\n    this: new codegen_1.Name(\"this\"),\n    // \"globals\"\n    self: new codegen_1.Name(\"self\"),\n    scope: new codegen_1.Name(\"scope\"),\n    // JTD serialize/parse name for JSON string and position\n    json: new codegen_1.Name(\"json\"),\n    jsonPos: new codegen_1.Name(\"jsonPos\"),\n    jsonLen: new codegen_1.Name(\"jsonLen\"),\n    jsonPart: new codegen_1.Name(\"jsonPart\"),\n};\nexports.default = names;\n//# sourceMappingURL=names.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst resolve_1 = require(\"./resolve\");\nclass MissingRefError extends Error {\n    constructor(baseId, ref, msg) {\n        super(msg || `can't resolve reference ${ref} from id ${baseId}`);\n        this.missingRef = resolve_1.resolveUrl(baseId, ref);\n        this.missingSchema = resolve_1.normalizeId(resolve_1.getFullPath(this.missingRef));\n    }\n}\nexports.default = MissingRefError;\n//# sourceMappingURL=ref_error.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getSchemaRefs = exports.resolveUrl = exports.normalizeId = exports._getFullPath = exports.getFullPath = exports.inlineRef = void 0;\nconst util_1 = require(\"./util\");\nconst equal = require(\"fast-deep-equal\");\nconst traverse = require(\"json-schema-traverse\");\nconst URI = require(\"uri-js\");\n// TODO refactor to use keyword definitions\nconst SIMPLE_INLINED = new Set([\n    \"type\",\n    \"format\",\n    \"pattern\",\n    \"maxLength\",\n    \"minLength\",\n    \"maxProperties\",\n    \"minProperties\",\n    \"maxItems\",\n    \"minItems\",\n    \"maximum\",\n    \"minimum\",\n    \"uniqueItems\",\n    \"multipleOf\",\n    \"required\",\n    \"enum\",\n    \"const\",\n]);\nfunction inlineRef(schema, limit = true) {\n    if (typeof schema == \"boolean\")\n        return true;\n    if (limit === true)\n        return !hasRef(schema);\n    if (!limit)\n        return false;\n    return countKeys(schema) <= limit;\n}\nexports.inlineRef = inlineRef;\nconst REF_KEYWORDS = new Set([\n    \"$ref\",\n    \"$recursiveRef\",\n    \"$recursiveAnchor\",\n    \"$dynamicRef\",\n    \"$dynamicAnchor\",\n]);\nfunction hasRef(schema) {\n    for (const key in schema) {\n        if (REF_KEYWORDS.has(key))\n            return true;\n        const sch = schema[key];\n        if (Array.isArray(sch) && sch.some(hasRef))\n            return true;\n        if (typeof sch == \"object\" && hasRef(sch))\n            return true;\n    }\n    return false;\n}\nfunction countKeys(schema) {\n    let count = 0;\n    for (const key in schema) {\n        if (key === \"$ref\")\n            return Infinity;\n        count++;\n        if (SIMPLE_INLINED.has(key))\n            continue;\n        if (typeof schema[key] == \"object\") {\n            util_1.eachItem(schema[key], (sch) => (count += countKeys(sch)));\n        }\n        if (count === Infinity)\n            return Infinity;\n    }\n    return count;\n}\nfunction getFullPath(id = \"\", normalize) {\n    if (normalize !== false)\n        id = normalizeId(id);\n    const p = URI.parse(id);\n    return _getFullPath(p);\n}\nexports.getFullPath = getFullPath;\nfunction _getFullPath(p) {\n    return URI.serialize(p).split(\"#\")[0] + \"#\";\n}\nexports._getFullPath = _getFullPath;\nconst TRAILING_SLASH_HASH = /#\\/?$/;\nfunction normalizeId(id) {\n    return id ? id.replace(TRAILING_SLASH_HASH, \"\") : \"\";\n}\nexports.normalizeId = normalizeId;\nfunction resolveUrl(baseId, id) {\n    id = normalizeId(id);\n    return URI.resolve(baseId, id);\n}\nexports.resolveUrl = resolveUrl;\nconst ANCHOR = /^[a-z_][-a-z0-9._]*$/i;\nfunction getSchemaRefs(schema) {\n    if (typeof schema == \"boolean\")\n        return {};\n    const { schemaId } = this.opts;\n    const schId = normalizeId(schema[schemaId]);\n    const baseIds = { \"\": schId };\n    const pathPrefix = getFullPath(schId, false);\n    const localRefs = {};\n    const schemaRefs = new Set();\n    traverse(schema, { allKeys: true }, (sch, jsonPtr, _, parentJsonPtr) => {\n        if (parentJsonPtr === undefined)\n            return;\n        const fullPath = pathPrefix + jsonPtr;\n        let baseId = baseIds[parentJsonPtr];\n        if (typeof sch[schemaId] == \"string\")\n            baseId = addRef.call(this, sch[schemaId]);\n        addAnchor.call(this, sch.$anchor);\n        addAnchor.call(this, sch.$dynamicAnchor);\n        baseIds[jsonPtr] = baseId;\n        function addRef(ref) {\n            ref = normalizeId(baseId ? URI.resolve(baseId, ref) : ref);\n            if (schemaRefs.has(ref))\n                throw ambiguos(ref);\n            schemaRefs.add(ref);\n            let schOrRef = this.refs[ref];\n            if (typeof schOrRef == \"string\")\n                schOrRef = this.refs[schOrRef];\n            if (typeof schOrRef == \"object\") {\n                checkAmbiguosRef(sch, schOrRef.schema, ref);\n            }\n            else if (ref !== normalizeId(fullPath)) {\n                if (ref[0] === \"#\") {\n                    checkAmbiguosRef(sch, localRefs[ref], ref);\n                    localRefs[ref] = sch;\n                }\n                else {\n                    this.refs[ref] = fullPath;\n                }\n            }\n            return ref;\n        }\n        function addAnchor(anchor) {\n            if (typeof anchor == \"string\") {\n                if (!ANCHOR.test(anchor))\n                    throw new Error(`invalid anchor \"${anchor}\"`);\n                addRef.call(this, `#${anchor}`);\n            }\n        }\n    });\n    return localRefs;\n    function checkAmbiguosRef(sch1, sch2, ref) {\n        if (sch2 !== undefined && !equal(sch1, sch2))\n            throw ambiguos(ref);\n    }\n    function ambiguos(ref) {\n        return new Error(`reference \"${ref}\" resolves to more than one schema`);\n    }\n}\nexports.getSchemaRefs = getSchemaRefs;\n//# sourceMappingURL=resolve.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRules = exports.isJSONType = void 0;\nconst _jsonTypes = [\"string\", \"number\", \"integer\", \"boolean\", \"null\", \"object\", \"array\"];\nconst jsonTypes = new Set(_jsonTypes);\nfunction isJSONType(x) {\n    return typeof x == \"string\" && jsonTypes.has(x);\n}\nexports.isJSONType = isJSONType;\nfunction getRules() {\n    const groups = {\n        number: { type: \"number\", rules: [] },\n        string: { type: \"string\", rules: [] },\n        array: { type: \"array\", rules: [] },\n        object: { type: \"object\", rules: [] },\n    };\n    return {\n        types: { ...groups, integer: true, boolean: true, null: true },\n        rules: [{ rules: [] }, groups.number, groups.string, groups.array, groups.object],\n        post: { rules: [] },\n        all: {},\n        keywords: {},\n    };\n}\nexports.getRules = getRules;\n//# sourceMappingURL=rules.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkStrictMode = exports.getErrorPath = exports.Type = exports.useFunc = exports.setEvaluated = exports.evaluatedPropsToName = exports.mergeEvaluated = exports.eachItem = exports.unescapeJsonPointer = exports.escapeJsonPointer = exports.escapeFragment = exports.unescapeFragment = exports.schemaRefOrVal = exports.schemaHasRulesButRef = exports.schemaHasRules = exports.checkUnknownRules = exports.alwaysValidSchema = exports.toHash = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst code_1 = require(\"./codegen/code\");\n// TODO refactor to use Set\nfunction toHash(arr) {\n    const hash = {};\n    for (const item of arr)\n        hash[item] = true;\n    return hash;\n}\nexports.toHash = toHash;\nfunction alwaysValidSchema(it, schema) {\n    if (typeof schema == \"boolean\")\n        return schema;\n    if (Object.keys(schema).length === 0)\n        return true;\n    checkUnknownRules(it, schema);\n    return !schemaHasRules(schema, it.self.RULES.all);\n}\nexports.alwaysValidSchema = alwaysValidSchema;\nfunction checkUnknownRules(it, schema = it.schema) {\n    const { opts, self } = it;\n    if (!opts.strictSchema)\n        return;\n    if (typeof schema === \"boolean\")\n        return;\n    const rules = self.RULES.keywords;\n    for (const key in schema) {\n        if (!rules[key])\n            checkStrictMode(it, `unknown keyword: \"${key}\"`);\n    }\n}\nexports.checkUnknownRules = checkUnknownRules;\nfunction schemaHasRules(schema, rules) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (rules[key])\n            return true;\n    return false;\n}\nexports.schemaHasRules = schemaHasRules;\nfunction schemaHasRulesButRef(schema, RULES) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (key !== \"$ref\" && RULES.all[key])\n            return true;\n    return false;\n}\nexports.schemaHasRulesButRef = schemaHasRulesButRef;\nfunction schemaRefOrVal({ topSchemaRef, schemaPath }, schema, keyword, $data) {\n    if (!$data) {\n        if (typeof schema == \"number\" || typeof schema == \"boolean\")\n            return schema;\n        if (typeof schema == \"string\")\n            return codegen_1._ `${schema}`;\n    }\n    return codegen_1._ `${topSchemaRef}${schemaPath}${codegen_1.getProperty(keyword)}`;\n}\nexports.schemaRefOrVal = schemaRefOrVal;\nfunction unescapeFragment(str) {\n    return unescapeJsonPointer(decodeURIComponent(str));\n}\nexports.unescapeFragment = unescapeFragment;\nfunction escapeFragment(str) {\n    return encodeURIComponent(escapeJsonPointer(str));\n}\nexports.escapeFragment = escapeFragment;\nfunction escapeJsonPointer(str) {\n    if (typeof str == \"number\")\n        return `${str}`;\n    return str.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\n}\nexports.escapeJsonPointer = escapeJsonPointer;\nfunction unescapeJsonPointer(str) {\n    return str.replace(/~1/g, \"/\").replace(/~0/g, \"~\");\n}\nexports.unescapeJsonPointer = unescapeJsonPointer;\nfunction eachItem(xs, f) {\n    if (Array.isArray(xs)) {\n        for (const x of xs)\n            f(x);\n    }\n    else {\n        f(xs);\n    }\n}\nexports.eachItem = eachItem;\nfunction makeMergeEvaluated({ mergeNames, mergeToName, mergeValues, resultToName, }) {\n    return (gen, from, to, toName) => {\n        const res = to === undefined\n            ? from\n            : to instanceof codegen_1.Name\n                ? (from instanceof codegen_1.Name ? mergeNames(gen, from, to) : mergeToName(gen, from, to), to)\n                : from instanceof codegen_1.Name\n                    ? (mergeToName(gen, to, from), from)\n                    : mergeValues(from, to);\n        return toName === codegen_1.Name && !(res instanceof codegen_1.Name) ? resultToName(gen, res) : res;\n    };\n}\nexports.mergeEvaluated = {\n    props: makeMergeEvaluated({\n        mergeNames: (gen, from, to) => gen.if(codegen_1._ `${to} !== true && ${from} !== undefined`, () => {\n            gen.if(codegen_1._ `${from} === true`, () => gen.assign(to, true), () => gen.assign(to, codegen_1._ `${to} || {}`).code(codegen_1._ `Object.assign(${to}, ${from})`));\n        }),\n        mergeToName: (gen, from, to) => gen.if(codegen_1._ `${to} !== true`, () => {\n            if (from === true) {\n                gen.assign(to, true);\n            }\n            else {\n                gen.assign(to, codegen_1._ `${to} || {}`);\n                setEvaluated(gen, to, from);\n            }\n        }),\n        mergeValues: (from, to) => (from === true ? true : { ...from, ...to }),\n        resultToName: evaluatedPropsToName,\n    }),\n    items: makeMergeEvaluated({\n        mergeNames: (gen, from, to) => gen.if(codegen_1._ `${to} !== true && ${from} !== undefined`, () => gen.assign(to, codegen_1._ `${from} === true ? true : ${to} > ${from} ? ${to} : ${from}`)),\n        mergeToName: (gen, from, to) => gen.if(codegen_1._ `${to} !== true`, () => gen.assign(to, from === true ? true : codegen_1._ `${to} > ${from} ? ${to} : ${from}`)),\n        mergeValues: (from, to) => (from === true ? true : Math.max(from, to)),\n        resultToName: (gen, items) => gen.var(\"items\", items),\n    }),\n};\nfunction evaluatedPropsToName(gen, ps) {\n    if (ps === true)\n        return gen.var(\"props\", true);\n    const props = gen.var(\"props\", codegen_1._ `{}`);\n    if (ps !== undefined)\n        setEvaluated(gen, props, ps);\n    return props;\n}\nexports.evaluatedPropsToName = evaluatedPropsToName;\nfunction setEvaluated(gen, props, ps) {\n    Object.keys(ps).forEach((p) => gen.assign(codegen_1._ `${props}${codegen_1.getProperty(p)}`, true));\n}\nexports.setEvaluated = setEvaluated;\nconst snippets = {};\nfunction useFunc(gen, f) {\n    return gen.scopeValue(\"func\", {\n        ref: f,\n        code: snippets[f.code] || (snippets[f.code] = new code_1._Code(f.code)),\n    });\n}\nexports.useFunc = useFunc;\nvar Type;\n(function (Type) {\n    Type[Type[\"Num\"] = 0] = \"Num\";\n    Type[Type[\"Str\"] = 1] = \"Str\";\n})(Type = exports.Type || (exports.Type = {}));\nfunction getErrorPath(dataProp, dataPropType, jsPropertySyntax) {\n    // let path\n    if (dataProp instanceof codegen_1.Name) {\n        const isNumber = dataPropType === Type.Num;\n        return jsPropertySyntax\n            ? isNumber\n                ? codegen_1._ `\"[\" + ${dataProp} + \"]\"`\n                : codegen_1._ `\"['\" + ${dataProp} + \"']\"`\n            : isNumber\n                ? codegen_1._ `\"/\" + ${dataProp}`\n                : codegen_1._ `\"/\" + ${dataProp}.replace(/~/g, \"~0\").replace(/\\\\//g, \"~1\")`; // TODO maybe use global escapePointer\n    }\n    return jsPropertySyntax ? codegen_1.getProperty(dataProp).toString() : \"/\" + escapeJsonPointer(dataProp);\n}\nexports.getErrorPath = getErrorPath;\nfunction checkStrictMode(it, msg, mode = it.opts.strictSchema) {\n    if (!mode)\n        return;\n    msg = `strict mode: ${msg}`;\n    if (mode === true)\n        throw new Error(msg);\n    it.self.logger.warn(msg);\n}\nexports.checkStrictMode = checkStrictMode;\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.shouldUseRule = exports.shouldUseGroup = exports.schemaHasRulesForType = void 0;\nfunction schemaHasRulesForType({ schema, self }, type) {\n    const group = self.RULES.types[type];\n    return group && group !== true && shouldUseGroup(schema, group);\n}\nexports.schemaHasRulesForType = schemaHasRulesForType;\nfunction shouldUseGroup(schema, group) {\n    return group.rules.some((rule) => shouldUseRule(schema, rule));\n}\nexports.shouldUseGroup = shouldUseGroup;\nfunction shouldUseRule(schema, rule) {\n    var _a;\n    return (schema[rule.keyword] !== undefined ||\n        ((_a = rule.definition.implements) === null || _a === void 0 ? void 0 : _a.some((kwd) => schema[kwd] !== undefined)));\n}\nexports.shouldUseRule = shouldUseRule;\n//# sourceMappingURL=applicability.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.boolOrEmptySchema = exports.topBoolOrEmptySchema = void 0;\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst boolError = {\n    message: \"boolean schema is false\",\n};\nfunction topBoolOrEmptySchema(it) {\n    const { gen, schema, validateName } = it;\n    if (schema === false) {\n        falseSchemaError(it, false);\n    }\n    else if (typeof schema == \"object\" && schema.$async === true) {\n        gen.return(names_1.default.data);\n    }\n    else {\n        gen.assign(codegen_1._ `${validateName}.errors`, null);\n        gen.return(true);\n    }\n}\nexports.topBoolOrEmptySchema = topBoolOrEmptySchema;\nfunction boolOrEmptySchema(it, valid) {\n    const { gen, schema } = it;\n    if (schema === false) {\n        gen.var(valid, false); // TODO var\n        falseSchemaError(it);\n    }\n    else {\n        gen.var(valid, true); // TODO var\n    }\n}\nexports.boolOrEmptySchema = boolOrEmptySchema;\nfunction falseSchemaError(it, overrideAllErrors) {\n    const { gen, data } = it;\n    // TODO maybe some other interface should be used for non-keyword validation errors...\n    const cxt = {\n        gen,\n        keyword: \"false schema\",\n        data,\n        schema: false,\n        schemaCode: false,\n        schemaValue: false,\n        params: {},\n        it,\n    };\n    errors_1.reportError(cxt, boolError, undefined, overrideAllErrors);\n}\n//# sourceMappingURL=boolSchema.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reportTypeError = exports.checkDataTypes = exports.checkDataType = exports.coerceAndCheckDataType = exports.getJSONTypes = exports.getSchemaTypes = exports.DataType = void 0;\nconst rules_1 = require(\"../rules\");\nconst applicability_1 = require(\"./applicability\");\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nvar DataType;\n(function (DataType) {\n    DataType[DataType[\"Correct\"] = 0] = \"Correct\";\n    DataType[DataType[\"Wrong\"] = 1] = \"Wrong\";\n})(DataType = exports.DataType || (exports.DataType = {}));\nfunction getSchemaTypes(schema) {\n    const types = getJSONTypes(schema.type);\n    const hasNull = types.includes(\"null\");\n    if (hasNull) {\n        if (schema.nullable === false)\n            throw new Error(\"type: null contradicts nullable: false\");\n    }\n    else {\n        if (!types.length && schema.nullable !== undefined) {\n            throw new Error('\"nullable\" cannot be used without \"type\"');\n        }\n        if (schema.nullable === true)\n            types.push(\"null\");\n    }\n    return types;\n}\nexports.getSchemaTypes = getSchemaTypes;\nfunction getJSONTypes(ts) {\n    const types = Array.isArray(ts) ? ts : ts ? [ts] : [];\n    if (types.every(rules_1.isJSONType))\n        return types;\n    throw new Error(\"type must be JSONType or JSONType[]: \" + types.join(\",\"));\n}\nexports.getJSONTypes = getJSONTypes;\nfunction coerceAndCheckDataType(it, types) {\n    const { gen, data, opts } = it;\n    const coerceTo = coerceToTypes(types, opts.coerceTypes);\n    const checkTypes = types.length > 0 &&\n        !(coerceTo.length === 0 && types.length === 1 && applicability_1.schemaHasRulesForType(it, types[0]));\n    if (checkTypes) {\n        const wrongType = checkDataTypes(types, data, opts.strictNumbers, DataType.Wrong);\n        gen.if(wrongType, () => {\n            if (coerceTo.length)\n                coerceData(it, types, coerceTo);\n            else\n                reportTypeError(it);\n        });\n    }\n    return checkTypes;\n}\nexports.coerceAndCheckDataType = coerceAndCheckDataType;\nconst COERCIBLE = new Set([\"string\", \"number\", \"integer\", \"boolean\", \"null\"]);\nfunction coerceToTypes(types, coerceTypes) {\n    return coerceTypes\n        ? types.filter((t) => COERCIBLE.has(t) || (coerceTypes === \"array\" && t === \"array\"))\n        : [];\n}\nfunction coerceData(it, types, coerceTo) {\n    const { gen, data, opts } = it;\n    const dataType = gen.let(\"dataType\", codegen_1._ `typeof ${data}`);\n    const coerced = gen.let(\"coerced\", codegen_1._ `undefined`);\n    if (opts.coerceTypes === \"array\") {\n        gen.if(codegen_1._ `${dataType} == 'object' && Array.isArray(${data}) && ${data}.length == 1`, () => gen\n            .assign(data, codegen_1._ `${data}[0]`)\n            .assign(dataType, codegen_1._ `typeof ${data}`)\n            .if(checkDataTypes(types, data, opts.strictNumbers), () => gen.assign(coerced, data)));\n    }\n    gen.if(codegen_1._ `${coerced} !== undefined`);\n    for (const t of coerceTo) {\n        if (COERCIBLE.has(t) || (t === \"array\" && opts.coerceTypes === \"array\")) {\n            coerceSpecificType(t);\n        }\n    }\n    gen.else();\n    reportTypeError(it);\n    gen.endIf();\n    gen.if(codegen_1._ `${coerced} !== undefined`, () => {\n        gen.assign(data, coerced);\n        assignParentData(it, coerced);\n    });\n    function coerceSpecificType(t) {\n        switch (t) {\n            case \"string\":\n                gen\n                    .elseIf(codegen_1._ `${dataType} == \"number\" || ${dataType} == \"boolean\"`)\n                    .assign(coerced, codegen_1._ `\"\" + ${data}`)\n                    .elseIf(codegen_1._ `${data} === null`)\n                    .assign(coerced, codegen_1._ `\"\"`);\n                return;\n            case \"number\":\n                gen\n                    .elseIf(codegen_1._ `${dataType} == \"boolean\" || ${data} === null\n              || (${dataType} == \"string\" && ${data} && ${data} == +${data})`)\n                    .assign(coerced, codegen_1._ `+${data}`);\n                return;\n            case \"integer\":\n                gen\n                    .elseIf(codegen_1._ `${dataType} === \"boolean\" || ${data} === null\n              || (${dataType} === \"string\" && ${data} && ${data} == +${data} && !(${data} % 1))`)\n                    .assign(coerced, codegen_1._ `+${data}`);\n                return;\n            case \"boolean\":\n                gen\n                    .elseIf(codegen_1._ `${data} === \"false\" || ${data} === 0 || ${data} === null`)\n                    .assign(coerced, false)\n                    .elseIf(codegen_1._ `${data} === \"true\" || ${data} === 1`)\n                    .assign(coerced, true);\n                return;\n            case \"null\":\n                gen.elseIf(codegen_1._ `${data} === \"\" || ${data} === 0 || ${data} === false`);\n                gen.assign(coerced, null);\n                return;\n            case \"array\":\n                gen\n                    .elseIf(codegen_1._ `${dataType} === \"string\" || ${dataType} === \"number\"\n              || ${dataType} === \"boolean\" || ${data} === null`)\n                    .assign(coerced, codegen_1._ `[${data}]`);\n        }\n    }\n}\nfunction assignParentData({ gen, parentData, parentDataProperty }, expr) {\n    // TODO use gen.property\n    gen.if(codegen_1._ `${parentData} !== undefined`, () => gen.assign(codegen_1._ `${parentData}[${parentDataProperty}]`, expr));\n}\nfunction checkDataType(dataType, data, strictNums, correct = DataType.Correct) {\n    const EQ = correct === DataType.Correct ? codegen_1.operators.EQ : codegen_1.operators.NEQ;\n    let cond;\n    switch (dataType) {\n        case \"null\":\n            return codegen_1._ `${data} ${EQ} null`;\n        case \"array\":\n            cond = codegen_1._ `Array.isArray(${data})`;\n            break;\n        case \"object\":\n            cond = codegen_1._ `${data} && typeof ${data} == \"object\" && !Array.isArray(${data})`;\n            break;\n        case \"integer\":\n            cond = numCond(codegen_1._ `!(${data} % 1) && !isNaN(${data})`);\n            break;\n        case \"number\":\n            cond = numCond();\n            break;\n        default:\n            return codegen_1._ `typeof ${data} ${EQ} ${dataType}`;\n    }\n    return correct === DataType.Correct ? cond : codegen_1.not(cond);\n    function numCond(_cond = codegen_1.nil) {\n        return codegen_1.and(codegen_1._ `typeof ${data} == \"number\"`, _cond, strictNums ? codegen_1._ `isFinite(${data})` : codegen_1.nil);\n    }\n}\nexports.checkDataType = checkDataType;\nfunction checkDataTypes(dataTypes, data, strictNums, correct) {\n    if (dataTypes.length === 1) {\n        return checkDataType(dataTypes[0], data, strictNums, correct);\n    }\n    let cond;\n    const types = util_1.toHash(dataTypes);\n    if (types.array && types.object) {\n        const notObj = codegen_1._ `typeof ${data} != \"object\"`;\n        cond = types.null ? notObj : codegen_1._ `!${data} || ${notObj}`;\n        delete types.null;\n        delete types.array;\n        delete types.object;\n    }\n    else {\n        cond = codegen_1.nil;\n    }\n    if (types.number)\n        delete types.integer;\n    for (const t in types)\n        cond = codegen_1.and(cond, checkDataType(t, data, strictNums, correct));\n    return cond;\n}\nexports.checkDataTypes = checkDataTypes;\nconst typeError = {\n    message: ({ schema }) => `must be ${schema}`,\n    params: ({ schema, schemaValue }) => typeof schema == \"string\" ? codegen_1._ `{type: ${schema}}` : codegen_1._ `{type: ${schemaValue}}`,\n};\nfunction reportTypeError(it) {\n    const cxt = getTypeErrorContext(it);\n    errors_1.reportError(cxt, typeError);\n}\nexports.reportTypeError = reportTypeError;\nfunction getTypeErrorContext(it) {\n    const { gen, data, schema } = it;\n    const schemaCode = util_1.schemaRefOrVal(it, schema, \"type\");\n    return {\n        gen,\n        keyword: \"type\",\n        data,\n        schema: schema.type,\n        schemaCode,\n        schemaValue: schemaCode,\n        parentSchema: schema,\n        params: {},\n        it,\n    };\n}\n//# sourceMappingURL=dataType.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.assignDefaults = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nfunction assignDefaults(it, ty) {\n    const { properties, items } = it.schema;\n    if (ty === \"object\" && properties) {\n        for (const key in properties) {\n            assignDefault(it, key, properties[key].default);\n        }\n    }\n    else if (ty === \"array\" && Array.isArray(items)) {\n        items.forEach((sch, i) => assignDefault(it, i, sch.default));\n    }\n}\nexports.assignDefaults = assignDefaults;\nfunction assignDefault(it, prop, defaultValue) {\n    const { gen, compositeRule, data, opts } = it;\n    if (defaultValue === undefined)\n        return;\n    const childData = codegen_1._ `${data}${codegen_1.getProperty(prop)}`;\n    if (compositeRule) {\n        util_1.checkStrictMode(it, `default is ignored for: ${childData}`);\n        return;\n    }\n    let condition = codegen_1._ `${childData} === undefined`;\n    if (opts.useDefaults === \"empty\") {\n        condition = codegen_1._ `${condition} || ${childData} === null || ${childData} === \"\"`;\n    }\n    // `${childData} === undefined` +\n    // (opts.useDefaults === \"empty\" ? ` || ${childData} === null || ${childData} === \"\"` : \"\")\n    gen.if(condition, codegen_1._ `${childData} = ${codegen_1.stringify(defaultValue)}`);\n}\n//# sourceMappingURL=defaults.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getData = exports.KeywordCxt = exports.validateFunctionCode = void 0;\nconst boolSchema_1 = require(\"./boolSchema\");\nconst dataType_1 = require(\"./dataType\");\nconst applicability_1 = require(\"./applicability\");\nconst dataType_2 = require(\"./dataType\");\nconst defaults_1 = require(\"./defaults\");\nconst keyword_1 = require(\"./keyword\");\nconst subschema_1 = require(\"./subschema\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst resolve_1 = require(\"../resolve\");\nconst util_1 = require(\"../util\");\nconst errors_1 = require(\"../errors\");\n// schema compilation - generates validation function, subschemaCode (below) is used for subschemas\nfunction validateFunctionCode(it) {\n    if (isSchemaObj(it)) {\n        checkKeywords(it);\n        if (schemaCxtHasRules(it)) {\n            topSchemaObjCode(it);\n            return;\n        }\n    }\n    validateFunction(it, () => boolSchema_1.topBoolOrEmptySchema(it));\n}\nexports.validateFunctionCode = validateFunctionCode;\nfunction validateFunction({ gen, validateName, schema, schemaEnv, opts }, body) {\n    if (opts.code.es5) {\n        gen.func(validateName, codegen_1._ `${names_1.default.data}, ${names_1.default.valCxt}`, schemaEnv.$async, () => {\n            gen.code(codegen_1._ `\"use strict\"; ${funcSourceUrl(schema, opts)}`);\n            destructureValCxtES5(gen, opts);\n            gen.code(body);\n        });\n    }\n    else {\n        gen.func(validateName, codegen_1._ `${names_1.default.data}, ${destructureValCxt(opts)}`, schemaEnv.$async, () => gen.code(funcSourceUrl(schema, opts)).code(body));\n    }\n}\nfunction destructureValCxt(opts) {\n    return codegen_1._ `{${names_1.default.instancePath}=\"\", ${names_1.default.parentData}, ${names_1.default.parentDataProperty}, ${names_1.default.rootData}=${names_1.default.data}${opts.dynamicRef ? codegen_1._ `, ${names_1.default.dynamicAnchors}={}` : codegen_1.nil}}={}`;\n}\nfunction destructureValCxtES5(gen, opts) {\n    gen.if(names_1.default.valCxt, () => {\n        gen.var(names_1.default.instancePath, codegen_1._ `${names_1.default.valCxt}.${names_1.default.instancePath}`);\n        gen.var(names_1.default.parentData, codegen_1._ `${names_1.default.valCxt}.${names_1.default.parentData}`);\n        gen.var(names_1.default.parentDataProperty, codegen_1._ `${names_1.default.valCxt}.${names_1.default.parentDataProperty}`);\n        gen.var(names_1.default.rootData, codegen_1._ `${names_1.default.valCxt}.${names_1.default.rootData}`);\n        if (opts.dynamicRef)\n            gen.var(names_1.default.dynamicAnchors, codegen_1._ `${names_1.default.valCxt}.${names_1.default.dynamicAnchors}`);\n    }, () => {\n        gen.var(names_1.default.instancePath, codegen_1._ `\"\"`);\n        gen.var(names_1.default.parentData, codegen_1._ `undefined`);\n        gen.var(names_1.default.parentDataProperty, codegen_1._ `undefined`);\n        gen.var(names_1.default.rootData, names_1.default.data);\n        if (opts.dynamicRef)\n            gen.var(names_1.default.dynamicAnchors, codegen_1._ `{}`);\n    });\n}\nfunction topSchemaObjCode(it) {\n    const { schema, opts, gen } = it;\n    validateFunction(it, () => {\n        if (opts.$comment && schema.$comment)\n            commentKeyword(it);\n        checkNoDefault(it);\n        gen.let(names_1.default.vErrors, null);\n        gen.let(names_1.default.errors, 0);\n        if (opts.unevaluated)\n            resetEvaluated(it);\n        typeAndKeywords(it);\n        returnResults(it);\n    });\n    return;\n}\nfunction resetEvaluated(it) {\n    // TODO maybe some hook to execute it in the end to check whether props/items are Name, as in assignEvaluated\n    const { gen, validateName } = it;\n    it.evaluated = gen.const(\"evaluated\", codegen_1._ `${validateName}.evaluated`);\n    gen.if(codegen_1._ `${it.evaluated}.dynamicProps`, () => gen.assign(codegen_1._ `${it.evaluated}.props`, codegen_1._ `undefined`));\n    gen.if(codegen_1._ `${it.evaluated}.dynamicItems`, () => gen.assign(codegen_1._ `${it.evaluated}.items`, codegen_1._ `undefined`));\n}\nfunction funcSourceUrl(schema, opts) {\n    const schId = typeof schema == \"object\" && schema[opts.schemaId];\n    return schId && (opts.code.source || opts.code.process) ? codegen_1._ `/*# sourceURL=${schId} */` : codegen_1.nil;\n}\n// schema compilation - this function is used recursively to generate code for sub-schemas\nfunction subschemaCode(it, valid) {\n    if (isSchemaObj(it)) {\n        checkKeywords(it);\n        if (schemaCxtHasRules(it)) {\n            subSchemaObjCode(it, valid);\n            return;\n        }\n    }\n    boolSchema_1.boolOrEmptySchema(it, valid);\n}\nfunction schemaCxtHasRules({ schema, self }) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (self.RULES.all[key])\n            return true;\n    return false;\n}\nfunction isSchemaObj(it) {\n    return typeof it.schema != \"boolean\";\n}\nfunction subSchemaObjCode(it, valid) {\n    const { schema, gen, opts } = it;\n    if (opts.$comment && schema.$comment)\n        commentKeyword(it);\n    updateContext(it);\n    checkAsyncSchema(it);\n    const errsCount = gen.const(\"_errs\", names_1.default.errors);\n    typeAndKeywords(it, errsCount);\n    // TODO var\n    gen.var(valid, codegen_1._ `${errsCount} === ${names_1.default.errors}`);\n}\nfunction checkKeywords(it) {\n    util_1.checkUnknownRules(it);\n    checkRefsAndKeywords(it);\n}\nfunction typeAndKeywords(it, errsCount) {\n    if (it.opts.jtd)\n        return schemaKeywords(it, [], false, errsCount);\n    const types = dataType_1.getSchemaTypes(it.schema);\n    const checkedTypes = dataType_1.coerceAndCheckDataType(it, types);\n    schemaKeywords(it, types, !checkedTypes, errsCount);\n}\nfunction checkRefsAndKeywords(it) {\n    const { schema, errSchemaPath, opts, self } = it;\n    if (schema.$ref && opts.ignoreKeywordsWithRef && util_1.schemaHasRulesButRef(schema, self.RULES)) {\n        self.logger.warn(`$ref: keywords ignored in schema at path \"${errSchemaPath}\"`);\n    }\n}\nfunction checkNoDefault(it) {\n    const { schema, opts } = it;\n    if (schema.default !== undefined && opts.useDefaults && opts.strictSchema) {\n        util_1.checkStrictMode(it, \"default is ignored in the schema root\");\n    }\n}\nfunction updateContext(it) {\n    const schId = it.schema[it.opts.schemaId];\n    if (schId)\n        it.baseId = resolve_1.resolveUrl(it.baseId, schId);\n}\nfunction checkAsyncSchema(it) {\n    if (it.schema.$async && !it.schemaEnv.$async)\n        throw new Error(\"async schema in sync schema\");\n}\nfunction commentKeyword({ gen, schemaEnv, schema, errSchemaPath, opts }) {\n    const msg = schema.$comment;\n    if (opts.$comment === true) {\n        gen.code(codegen_1._ `${names_1.default.self}.logger.log(${msg})`);\n    }\n    else if (typeof opts.$comment == \"function\") {\n        const schemaPath = codegen_1.str `${errSchemaPath}/$comment`;\n        const rootName = gen.scopeValue(\"root\", { ref: schemaEnv.root });\n        gen.code(codegen_1._ `${names_1.default.self}.opts.$comment(${msg}, ${schemaPath}, ${rootName}.schema)`);\n    }\n}\nfunction returnResults(it) {\n    const { gen, schemaEnv, validateName, ValidationError, opts } = it;\n    if (schemaEnv.$async) {\n        // TODO assign unevaluated\n        gen.if(codegen_1._ `${names_1.default.errors} === 0`, () => gen.return(names_1.default.data), () => gen.throw(codegen_1._ `new ${ValidationError}(${names_1.default.vErrors})`));\n    }\n    else {\n        gen.assign(codegen_1._ `${validateName}.errors`, names_1.default.vErrors);\n        if (opts.unevaluated)\n            assignEvaluated(it);\n        gen.return(codegen_1._ `${names_1.default.errors} === 0`);\n    }\n}\nfunction assignEvaluated({ gen, evaluated, props, items }) {\n    if (props instanceof codegen_1.Name)\n        gen.assign(codegen_1._ `${evaluated}.props`, props);\n    if (items instanceof codegen_1.Name)\n        gen.assign(codegen_1._ `${evaluated}.items`, items);\n}\nfunction schemaKeywords(it, types, typeErrors, errsCount) {\n    const { gen, schema, data, allErrors, opts, self } = it;\n    const { RULES } = self;\n    if (schema.$ref && (opts.ignoreKeywordsWithRef || !util_1.schemaHasRulesButRef(schema, RULES))) {\n        gen.block(() => keywordCode(it, \"$ref\", RULES.all.$ref.definition)); // TODO typecast\n        return;\n    }\n    if (!opts.jtd)\n        checkStrictTypes(it, types);\n    gen.block(() => {\n        for (const group of RULES.rules)\n            groupKeywords(group);\n        groupKeywords(RULES.post);\n    });\n    function groupKeywords(group) {\n        if (!applicability_1.shouldUseGroup(schema, group))\n            return;\n        if (group.type) {\n            gen.if(dataType_2.checkDataType(group.type, data, opts.strictNumbers));\n            iterateKeywords(it, group);\n            if (types.length === 1 && types[0] === group.type && typeErrors) {\n                gen.else();\n                dataType_2.reportTypeError(it);\n            }\n            gen.endIf();\n        }\n        else {\n            iterateKeywords(it, group);\n        }\n        // TODO make it \"ok\" call?\n        if (!allErrors)\n            gen.if(codegen_1._ `${names_1.default.errors} === ${errsCount || 0}`);\n    }\n}\nfunction iterateKeywords(it, group) {\n    const { gen, schema, opts: { useDefaults }, } = it;\n    if (useDefaults)\n        defaults_1.assignDefaults(it, group.type);\n    gen.block(() => {\n        for (const rule of group.rules) {\n            if (applicability_1.shouldUseRule(schema, rule)) {\n                keywordCode(it, rule.keyword, rule.definition, group.type);\n            }\n        }\n    });\n}\nfunction checkStrictTypes(it, types) {\n    if (it.schemaEnv.meta || !it.opts.strictTypes)\n        return;\n    checkContextTypes(it, types);\n    if (!it.opts.allowUnionTypes)\n        checkMultipleTypes(it, types);\n    checkKeywordTypes(it, it.dataTypes);\n}\nfunction checkContextTypes(it, types) {\n    if (!types.length)\n        return;\n    if (!it.dataTypes.length) {\n        it.dataTypes = types;\n        return;\n    }\n    types.forEach((t) => {\n        if (!includesType(it.dataTypes, t)) {\n            strictTypesError(it, `type \"${t}\" not allowed by context \"${it.dataTypes.join(\",\")}\"`);\n        }\n    });\n    it.dataTypes = it.dataTypes.filter((t) => includesType(types, t));\n}\nfunction checkMultipleTypes(it, ts) {\n    if (ts.length > 1 && !(ts.length === 2 && ts.includes(\"null\"))) {\n        strictTypesError(it, \"use allowUnionTypes to allow union type keyword\");\n    }\n}\nfunction checkKeywordTypes(it, ts) {\n    const rules = it.self.RULES.all;\n    for (const keyword in rules) {\n        const rule = rules[keyword];\n        if (typeof rule == \"object\" && applicability_1.shouldUseRule(it.schema, rule)) {\n            const { type } = rule.definition;\n            if (type.length && !type.some((t) => hasApplicableType(ts, t))) {\n                strictTypesError(it, `missing type \"${type.join(\",\")}\" for keyword \"${keyword}\"`);\n            }\n        }\n    }\n}\nfunction hasApplicableType(schTs, kwdT) {\n    return schTs.includes(kwdT) || (kwdT === \"number\" && schTs.includes(\"integer\"));\n}\nfunction includesType(ts, t) {\n    return ts.includes(t) || (t === \"integer\" && ts.includes(\"number\"));\n}\nfunction strictTypesError(it, msg) {\n    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n    msg += ` at \"${schemaPath}\" (strictTypes)`;\n    util_1.checkStrictMode(it, msg, it.opts.strictTypes);\n}\nclass KeywordCxt {\n    constructor(it, def, keyword) {\n        keyword_1.validateKeywordUsage(it, def, keyword);\n        this.gen = it.gen;\n        this.allErrors = it.allErrors;\n        this.keyword = keyword;\n        this.data = it.data;\n        this.schema = it.schema[keyword];\n        this.$data = def.$data && it.opts.$data && this.schema && this.schema.$data;\n        this.schemaValue = util_1.schemaRefOrVal(it, this.schema, keyword, this.$data);\n        this.schemaType = def.schemaType;\n        this.parentSchema = it.schema;\n        this.params = {};\n        this.it = it;\n        this.def = def;\n        if (this.$data) {\n            this.schemaCode = it.gen.const(\"vSchema\", getData(this.$data, it));\n        }\n        else {\n            this.schemaCode = this.schemaValue;\n            if (!keyword_1.validSchemaType(this.schema, def.schemaType, def.allowUndefined)) {\n                throw new Error(`${keyword} value must be ${JSON.stringify(def.schemaType)}`);\n            }\n        }\n        if (\"code\" in def ? def.trackErrors : def.errors !== false) {\n            this.errsCount = it.gen.const(\"_errs\", names_1.default.errors);\n        }\n    }\n    result(condition, successAction, failAction) {\n        this.failResult(codegen_1.not(condition), successAction, failAction);\n    }\n    failResult(condition, successAction, failAction) {\n        this.gen.if(condition);\n        if (failAction)\n            failAction();\n        else\n            this.error();\n        if (successAction) {\n            this.gen.else();\n            successAction();\n            if (this.allErrors)\n                this.gen.endIf();\n        }\n        else {\n            if (this.allErrors)\n                this.gen.endIf();\n            else\n                this.gen.else();\n        }\n    }\n    pass(condition, failAction) {\n        this.failResult(codegen_1.not(condition), undefined, failAction);\n    }\n    fail(condition) {\n        if (condition === undefined) {\n            this.error();\n            if (!this.allErrors)\n                this.gen.if(false); // this branch will be removed by gen.optimize\n            return;\n        }\n        this.gen.if(condition);\n        this.error();\n        if (this.allErrors)\n            this.gen.endIf();\n        else\n            this.gen.else();\n    }\n    fail$data(condition) {\n        if (!this.$data)\n            return this.fail(condition);\n        const { schemaCode } = this;\n        this.fail(codegen_1._ `${schemaCode} !== undefined && (${codegen_1.or(this.invalid$data(), condition)})`);\n    }\n    error(append, errorParams, errorPaths) {\n        if (errorParams) {\n            this.setParams(errorParams);\n            this._error(append, errorPaths);\n            this.setParams({});\n            return;\n        }\n        this._error(append, errorPaths);\n    }\n    _error(append, errorPaths) {\n        ;\n        (append ? errors_1.reportExtraError : errors_1.reportError)(this, this.def.error, errorPaths);\n    }\n    $dataError() {\n        errors_1.reportError(this, this.def.$dataError || errors_1.keyword$DataError);\n    }\n    reset() {\n        if (this.errsCount === undefined)\n            throw new Error('add \"trackErrors\" to keyword definition');\n        errors_1.resetErrorsCount(this.gen, this.errsCount);\n    }\n    ok(cond) {\n        if (!this.allErrors)\n            this.gen.if(cond);\n    }\n    setParams(obj, assign) {\n        if (assign)\n            Object.assign(this.params, obj);\n        else\n            this.params = obj;\n    }\n    block$data(valid, codeBlock, $dataValid = codegen_1.nil) {\n        this.gen.block(() => {\n            this.check$data(valid, $dataValid);\n            codeBlock();\n        });\n    }\n    check$data(valid = codegen_1.nil, $dataValid = codegen_1.nil) {\n        if (!this.$data)\n            return;\n        const { gen, schemaCode, schemaType, def } = this;\n        gen.if(codegen_1.or(codegen_1._ `${schemaCode} === undefined`, $dataValid));\n        if (valid !== codegen_1.nil)\n            gen.assign(valid, true);\n        if (schemaType.length || def.validateSchema) {\n            gen.elseIf(this.invalid$data());\n            this.$dataError();\n            if (valid !== codegen_1.nil)\n                gen.assign(valid, false);\n        }\n        gen.else();\n    }\n    invalid$data() {\n        const { gen, schemaCode, schemaType, def, it } = this;\n        return codegen_1.or(wrong$DataType(), invalid$DataSchema());\n        function wrong$DataType() {\n            if (schemaType.length) {\n                /* istanbul ignore if */\n                if (!(schemaCode instanceof codegen_1.Name))\n                    throw new Error(\"ajv implementation error\");\n                const st = Array.isArray(schemaType) ? schemaType : [schemaType];\n                return codegen_1._ `${dataType_2.checkDataTypes(st, schemaCode, it.opts.strictNumbers, dataType_2.DataType.Wrong)}`;\n            }\n            return codegen_1.nil;\n        }\n        function invalid$DataSchema() {\n            if (def.validateSchema) {\n                const validateSchemaRef = gen.scopeValue(\"validate$data\", { ref: def.validateSchema }); // TODO value.code for standalone\n                return codegen_1._ `!${validateSchemaRef}(${schemaCode})`;\n            }\n            return codegen_1.nil;\n        }\n    }\n    subschema(appl, valid) {\n        const subschema = subschema_1.getSubschema(this.it, appl);\n        subschema_1.extendSubschemaData(subschema, this.it, appl);\n        subschema_1.extendSubschemaMode(subschema, appl);\n        const nextContext = { ...this.it, ...subschema, items: undefined, props: undefined };\n        subschemaCode(nextContext, valid);\n        return nextContext;\n    }\n    mergeEvaluated(schemaCxt, toName) {\n        const { it, gen } = this;\n        if (!it.opts.unevaluated)\n            return;\n        if (it.props !== true && schemaCxt.props !== undefined) {\n            it.props = util_1.mergeEvaluated.props(gen, schemaCxt.props, it.props, toName);\n        }\n        if (it.items !== true && schemaCxt.items !== undefined) {\n            it.items = util_1.mergeEvaluated.items(gen, schemaCxt.items, it.items, toName);\n        }\n    }\n    mergeValidEvaluated(schemaCxt, valid) {\n        const { it, gen } = this;\n        if (it.opts.unevaluated && (it.props !== true || it.items !== true)) {\n            gen.if(valid, () => this.mergeEvaluated(schemaCxt, codegen_1.Name));\n            return true;\n        }\n    }\n}\nexports.KeywordCxt = KeywordCxt;\nfunction keywordCode(it, keyword, def, ruleType) {\n    const cxt = new KeywordCxt(it, def, keyword);\n    if (\"code\" in def) {\n        def.code(cxt, ruleType);\n    }\n    else if (cxt.$data && def.validate) {\n        keyword_1.funcKeywordCode(cxt, def);\n    }\n    else if (\"macro\" in def) {\n        keyword_1.macroKeywordCode(cxt, def);\n    }\n    else if (def.compile || def.validate) {\n        keyword_1.funcKeywordCode(cxt, def);\n    }\n}\nconst JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/;\nconst RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;\nfunction getData($data, { dataLevel, dataNames, dataPathArr }) {\n    let jsonPointer;\n    let data;\n    if ($data === \"\")\n        return names_1.default.rootData;\n    if ($data[0] === \"/\") {\n        if (!JSON_POINTER.test($data))\n            throw new Error(`Invalid JSON-pointer: ${$data}`);\n        jsonPointer = $data;\n        data = names_1.default.rootData;\n    }\n    else {\n        const matches = RELATIVE_JSON_POINTER.exec($data);\n        if (!matches)\n            throw new Error(`Invalid JSON-pointer: ${$data}`);\n        const up = +matches[1];\n        jsonPointer = matches[2];\n        if (jsonPointer === \"#\") {\n            if (up >= dataLevel)\n                throw new Error(errorMsg(\"property/index\", up));\n            return dataPathArr[dataLevel - up];\n        }\n        if (up > dataLevel)\n            throw new Error(errorMsg(\"data\", up));\n        data = dataNames[dataLevel - up];\n        if (!jsonPointer)\n            return data;\n    }\n    let expr = data;\n    const segments = jsonPointer.split(\"/\");\n    for (const segment of segments) {\n        if (segment) {\n            data = codegen_1._ `${data}${codegen_1.getProperty(util_1.unescapeJsonPointer(segment))}`;\n            expr = codegen_1._ `${expr} && ${data}`;\n        }\n    }\n    return expr;\n    function errorMsg(pointerType, up) {\n        return `Cannot access ${pointerType} ${up} levels up, current level is ${dataLevel}`;\n    }\n}\nexports.getData = getData;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateKeywordUsage = exports.validSchemaType = exports.funcKeywordCode = exports.macroKeywordCode = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst code_1 = require(\"../../vocabularies/code\");\nconst errors_1 = require(\"../errors\");\nfunction macroKeywordCode(cxt, def) {\n    const { gen, keyword, schema, parentSchema, it } = cxt;\n    const macroSchema = def.macro.call(it.self, schema, parentSchema, it);\n    const schemaRef = useKeyword(gen, keyword, macroSchema);\n    if (it.opts.validateSchema !== false)\n        it.self.validateSchema(macroSchema, true);\n    const valid = gen.name(\"valid\");\n    cxt.subschema({\n        schema: macroSchema,\n        schemaPath: codegen_1.nil,\n        errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n        topSchemaRef: schemaRef,\n        compositeRule: true,\n    }, valid);\n    cxt.pass(valid, () => cxt.error(true));\n}\nexports.macroKeywordCode = macroKeywordCode;\nfunction funcKeywordCode(cxt, def) {\n    var _a;\n    const { gen, keyword, schema, parentSchema, $data, it } = cxt;\n    checkAsyncKeyword(it, def);\n    const validate = !$data && def.compile ? def.compile.call(it.self, schema, parentSchema, it) : def.validate;\n    const validateRef = useKeyword(gen, keyword, validate);\n    const valid = gen.let(\"valid\");\n    cxt.block$data(valid, validateKeyword);\n    cxt.ok((_a = def.valid) !== null && _a !== void 0 ? _a : valid);\n    function validateKeyword() {\n        if (def.errors === false) {\n            assignValid();\n            if (def.modifying)\n                modifyData(cxt);\n            reportErrs(() => cxt.error());\n        }\n        else {\n            const ruleErrs = def.async ? validateAsync() : validateSync();\n            if (def.modifying)\n                modifyData(cxt);\n            reportErrs(() => addErrs(cxt, ruleErrs));\n        }\n    }\n    function validateAsync() {\n        const ruleErrs = gen.let(\"ruleErrs\", null);\n        gen.try(() => assignValid(codegen_1._ `await `), (e) => gen.assign(valid, false).if(codegen_1._ `${e} instanceof ${it.ValidationError}`, () => gen.assign(ruleErrs, codegen_1._ `${e}.errors`), () => gen.throw(e)));\n        return ruleErrs;\n    }\n    function validateSync() {\n        const validateErrs = codegen_1._ `${validateRef}.errors`;\n        gen.assign(validateErrs, null);\n        assignValid(codegen_1.nil);\n        return validateErrs;\n    }\n    function assignValid(_await = def.async ? codegen_1._ `await ` : codegen_1.nil) {\n        const passCxt = it.opts.passContext ? names_1.default.this : names_1.default.self;\n        const passSchema = !((\"compile\" in def && !$data) || def.schema === false);\n        gen.assign(valid, codegen_1._ `${_await}${code_1.callValidateCode(cxt, validateRef, passCxt, passSchema)}`, def.modifying);\n    }\n    function reportErrs(errors) {\n        var _a;\n        gen.if(codegen_1.not((_a = def.valid) !== null && _a !== void 0 ? _a : valid), errors);\n    }\n}\nexports.funcKeywordCode = funcKeywordCode;\nfunction modifyData(cxt) {\n    const { gen, data, it } = cxt;\n    gen.if(it.parentData, () => gen.assign(data, codegen_1._ `${it.parentData}[${it.parentDataProperty}]`));\n}\nfunction addErrs(cxt, errs) {\n    const { gen } = cxt;\n    gen.if(codegen_1._ `Array.isArray(${errs})`, () => {\n        gen\n            .assign(names_1.default.vErrors, codegen_1._ `${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`)\n            .assign(names_1.default.errors, codegen_1._ `${names_1.default.vErrors}.length`);\n        errors_1.extendErrors(cxt);\n    }, () => cxt.error());\n}\nfunction checkAsyncKeyword({ schemaEnv }, def) {\n    if (def.async && !schemaEnv.$async)\n        throw new Error(\"async keyword in sync schema\");\n}\nfunction useKeyword(gen, keyword, result) {\n    if (result === undefined)\n        throw new Error(`keyword \"${keyword}\" failed to compile`);\n    return gen.scopeValue(\"keyword\", typeof result == \"function\" ? { ref: result } : { ref: result, code: codegen_1.stringify(result) });\n}\nfunction validSchemaType(schema, schemaType, allowUndefined = false) {\n    // TODO add tests\n    return (!schemaType.length ||\n        schemaType.some((st) => st === \"array\"\n            ? Array.isArray(schema)\n            : st === \"object\"\n                ? schema && typeof schema == \"object\" && !Array.isArray(schema)\n                : typeof schema == st || (allowUndefined && typeof schema == \"undefined\")));\n}\nexports.validSchemaType = validSchemaType;\nfunction validateKeywordUsage({ schema, opts, self, errSchemaPath }, def, keyword) {\n    /* istanbul ignore if */\n    if (Array.isArray(def.keyword) ? !def.keyword.includes(keyword) : def.keyword !== keyword) {\n        throw new Error(\"ajv implementation error\");\n    }\n    const deps = def.dependencies;\n    if (deps === null || deps === void 0 ? void 0 : deps.some((kwd) => !Object.prototype.hasOwnProperty.call(schema, kwd))) {\n        throw new Error(`parent schema must have dependencies of ${keyword}: ${deps.join(\",\")}`);\n    }\n    if (def.validateSchema) {\n        const valid = def.validateSchema(schema[keyword]);\n        if (!valid) {\n            const msg = `keyword \"${keyword}\" value is invalid at path \"${errSchemaPath}\": ` +\n                self.errorsText(def.validateSchema.errors);\n            if (opts.validateSchema === \"log\")\n                self.logger.error(msg);\n            else\n                throw new Error(msg);\n        }\n    }\n}\nexports.validateKeywordUsage = validateKeywordUsage;\n//# sourceMappingURL=keyword.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extendSubschemaMode = exports.extendSubschemaData = exports.getSubschema = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nfunction getSubschema(it, { keyword, schemaProp, schema, schemaPath, errSchemaPath, topSchemaRef }) {\n    if (keyword !== undefined && schema !== undefined) {\n        throw new Error('both \"keyword\" and \"schema\" passed, only one allowed');\n    }\n    if (keyword !== undefined) {\n        const sch = it.schema[keyword];\n        return schemaProp === undefined\n            ? {\n                schema: sch,\n                schemaPath: codegen_1._ `${it.schemaPath}${codegen_1.getProperty(keyword)}`,\n                errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n            }\n            : {\n                schema: sch[schemaProp],\n                schemaPath: codegen_1._ `${it.schemaPath}${codegen_1.getProperty(keyword)}${codegen_1.getProperty(schemaProp)}`,\n                errSchemaPath: `${it.errSchemaPath}/${keyword}/${util_1.escapeFragment(schemaProp)}`,\n            };\n    }\n    if (schema !== undefined) {\n        if (schemaPath === undefined || errSchemaPath === undefined || topSchemaRef === undefined) {\n            throw new Error('\"schemaPath\", \"errSchemaPath\" and \"topSchemaRef\" are required with \"schema\"');\n        }\n        return {\n            schema,\n            schemaPath,\n            topSchemaRef,\n            errSchemaPath,\n        };\n    }\n    throw new Error('either \"keyword\" or \"schema\" must be passed');\n}\nexports.getSubschema = getSubschema;\nfunction extendSubschemaData(subschema, it, { dataProp, dataPropType: dpType, data, dataTypes, propertyName }) {\n    if (data !== undefined && dataProp !== undefined) {\n        throw new Error('both \"data\" and \"dataProp\" passed, only one allowed');\n    }\n    const { gen } = it;\n    if (dataProp !== undefined) {\n        const { errorPath, dataPathArr, opts } = it;\n        const nextData = gen.let(\"data\", codegen_1._ `${it.data}${codegen_1.getProperty(dataProp)}`, true);\n        dataContextProps(nextData);\n        subschema.errorPath = codegen_1.str `${errorPath}${util_1.getErrorPath(dataProp, dpType, opts.jsPropertySyntax)}`;\n        subschema.parentDataProperty = codegen_1._ `${dataProp}`;\n        subschema.dataPathArr = [...dataPathArr, subschema.parentDataProperty];\n    }\n    if (data !== undefined) {\n        const nextData = data instanceof codegen_1.Name ? data : gen.let(\"data\", data, true); // replaceable if used once?\n        dataContextProps(nextData);\n        if (propertyName !== undefined)\n            subschema.propertyName = propertyName;\n        // TODO something is possibly wrong here with not changing parentDataProperty and not appending dataPathArr\n    }\n    if (dataTypes)\n        subschema.dataTypes = dataTypes;\n    function dataContextProps(_nextData) {\n        subschema.data = _nextData;\n        subschema.dataLevel = it.dataLevel + 1;\n        subschema.dataTypes = [];\n        it.definedProperties = new Set();\n        subschema.parentData = it.data;\n        subschema.dataNames = [...it.dataNames, _nextData];\n    }\n}\nexports.extendSubschemaData = extendSubschemaData;\nfunction extendSubschemaMode(subschema, { jtdDiscriminator, jtdMetadata, compositeRule, createErrors, allErrors }) {\n    if (compositeRule !== undefined)\n        subschema.compositeRule = compositeRule;\n    if (createErrors !== undefined)\n        subschema.createErrors = createErrors;\n    if (allErrors !== undefined)\n        subschema.allErrors = allErrors;\n    subschema.jtdDiscriminator = jtdDiscriminator; // not inherited\n    subschema.jtdMetadata = jtdMetadata; // not inherited\n}\nexports.extendSubschemaMode = extendSubschemaMode;\n//# sourceMappingURL=subschema.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = void 0;\nvar validate_1 = require(\"./compile/validate\");\nObject.defineProperty(exports, \"KeywordCxt\", { enumerable: true, get: function () { return validate_1.KeywordCxt; } });\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\nconst validation_error_1 = require(\"./runtime/validation_error\");\nconst ref_error_1 = require(\"./compile/ref_error\");\nconst rules_1 = require(\"./compile/rules\");\nconst compile_1 = require(\"./compile\");\nconst codegen_2 = require(\"./compile/codegen\");\nconst resolve_1 = require(\"./compile/resolve\");\nconst dataType_1 = require(\"./compile/validate/dataType\");\nconst util_1 = require(\"./compile/util\");\nconst $dataRefSchema = require(\"./refs/data.json\");\nconst META_IGNORE_OPTIONS = [\"removeAdditional\", \"useDefaults\", \"coerceTypes\"];\nconst EXT_SCOPE_NAMES = new Set([\n    \"validate\",\n    \"serialize\",\n    \"parse\",\n    \"wrapper\",\n    \"root\",\n    \"schema\",\n    \"keyword\",\n    \"pattern\",\n    \"formats\",\n    \"validate$data\",\n    \"func\",\n    \"obj\",\n    \"Error\",\n]);\nconst removedOptions = {\n    errorDataPath: \"\",\n    format: \"`validateFormats: false` can be used instead.\",\n    nullable: '\"nullable\" keyword is supported by default.',\n    jsonPointers: \"Deprecated jsPropertySyntax can be used instead.\",\n    extendRefs: \"Deprecated ignoreKeywordsWithRef can be used instead.\",\n    missingRefs: \"Pass empty schema with $id that should be ignored to ajv.addSchema.\",\n    processCode: \"Use option `code: {process: (code, schemaEnv: object) => string}`\",\n    sourceCode: \"Use option `code: {source: true}`\",\n    strictDefaults: \"It is default now, see option `strict`.\",\n    strictKeywords: \"It is default now, see option `strict`.\",\n    uniqueItems: '\"uniqueItems\" keyword is always validated.',\n    unknownFormats: \"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).\",\n    cache: \"Map is used as cache, schema object as key.\",\n    serialize: \"Map is used as cache, schema object as key.\",\n    ajvErrors: \"It is default now.\",\n};\nconst deprecatedOptions = {\n    ignoreKeywordsWithRef: \"\",\n    jsPropertySyntax: \"\",\n    unicode: '\"minLength\"/\"maxLength\" account for unicode characters by default.',\n};\nconst MAX_EXPRESSION = 200;\n// eslint-disable-next-line complexity\nfunction requiredOptions(o) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x;\n    const s = o.strict;\n    const _optz = (_a = o.code) === null || _a === void 0 ? void 0 : _a.optimize;\n    const optimize = _optz === true || _optz === undefined ? 1 : _optz || 0;\n    return {\n        strictSchema: (_c = (_b = o.strictSchema) !== null && _b !== void 0 ? _b : s) !== null && _c !== void 0 ? _c : true,\n        strictNumbers: (_e = (_d = o.strictNumbers) !== null && _d !== void 0 ? _d : s) !== null && _e !== void 0 ? _e : true,\n        strictTypes: (_g = (_f = o.strictTypes) !== null && _f !== void 0 ? _f : s) !== null && _g !== void 0 ? _g : \"log\",\n        strictTuples: (_j = (_h = o.strictTuples) !== null && _h !== void 0 ? _h : s) !== null && _j !== void 0 ? _j : \"log\",\n        strictRequired: (_l = (_k = o.strictRequired) !== null && _k !== void 0 ? _k : s) !== null && _l !== void 0 ? _l : false,\n        code: o.code ? { ...o.code, optimize } : { optimize },\n        loopRequired: (_m = o.loopRequired) !== null && _m !== void 0 ? _m : MAX_EXPRESSION,\n        loopEnum: (_o = o.loopEnum) !== null && _o !== void 0 ? _o : MAX_EXPRESSION,\n        meta: (_p = o.meta) !== null && _p !== void 0 ? _p : true,\n        messages: (_q = o.messages) !== null && _q !== void 0 ? _q : true,\n        inlineRefs: (_r = o.inlineRefs) !== null && _r !== void 0 ? _r : true,\n        schemaId: (_s = o.schemaId) !== null && _s !== void 0 ? _s : \"$id\",\n        addUsedSchema: (_t = o.addUsedSchema) !== null && _t !== void 0 ? _t : true,\n        validateSchema: (_u = o.validateSchema) !== null && _u !== void 0 ? _u : true,\n        validateFormats: (_v = o.validateFormats) !== null && _v !== void 0 ? _v : true,\n        unicodeRegExp: (_w = o.unicodeRegExp) !== null && _w !== void 0 ? _w : true,\n        int32range: (_x = o.int32range) !== null && _x !== void 0 ? _x : true,\n    };\n}\nclass Ajv {\n    constructor(opts = {}) {\n        this.schemas = {};\n        this.refs = {};\n        this.formats = {};\n        this._compilations = new Set();\n        this._loading = {};\n        this._cache = new Map();\n        opts = this.opts = { ...opts, ...requiredOptions(opts) };\n        const { es5, lines } = this.opts.code;\n        this.scope = new codegen_2.ValueScope({ scope: {}, prefixes: EXT_SCOPE_NAMES, es5, lines });\n        this.logger = getLogger(opts.logger);\n        const formatOpt = opts.validateFormats;\n        opts.validateFormats = false;\n        this.RULES = rules_1.getRules();\n        checkOptions.call(this, removedOptions, opts, \"NOT SUPPORTED\");\n        checkOptions.call(this, deprecatedOptions, opts, \"DEPRECATED\", \"warn\");\n        this._metaOpts = getMetaSchemaOptions.call(this);\n        if (opts.formats)\n            addInitialFormats.call(this);\n        this._addVocabularies();\n        this._addDefaultMetaSchema();\n        if (opts.keywords)\n            addInitialKeywords.call(this, opts.keywords);\n        if (typeof opts.meta == \"object\")\n            this.addMetaSchema(opts.meta);\n        addInitialSchemas.call(this);\n        opts.validateFormats = formatOpt;\n    }\n    _addVocabularies() {\n        this.addKeyword(\"$async\");\n    }\n    _addDefaultMetaSchema() {\n        const { $data, meta, schemaId } = this.opts;\n        let _dataRefSchema = $dataRefSchema;\n        if (schemaId === \"id\") {\n            _dataRefSchema = { ...$dataRefSchema };\n            _dataRefSchema.id = _dataRefSchema.$id;\n            delete _dataRefSchema.$id;\n        }\n        if (meta && $data)\n            this.addMetaSchema(_dataRefSchema, _dataRefSchema[schemaId], false);\n    }\n    defaultMeta() {\n        const { meta, schemaId } = this.opts;\n        return (this.opts.defaultMeta = typeof meta == \"object\" ? meta[schemaId] || meta : undefined);\n    }\n    validate(schemaKeyRef, // key, ref or schema object\n    data // to be validated\n    ) {\n        let v;\n        if (typeof schemaKeyRef == \"string\") {\n            v = this.getSchema(schemaKeyRef);\n            if (!v)\n                throw new Error(`no schema with key or ref \"${schemaKeyRef}\"`);\n        }\n        else {\n            v = this.compile(schemaKeyRef);\n        }\n        const valid = v(data);\n        if (!(\"$async\" in v))\n            this.errors = v.errors;\n        return valid;\n    }\n    compile(schema, _meta) {\n        const sch = this._addSchema(schema, _meta);\n        return (sch.validate || this._compileSchemaEnv(sch));\n    }\n    compileAsync(schema, meta) {\n        if (typeof this.opts.loadSchema != \"function\") {\n            throw new Error(\"options.loadSchema should be a function\");\n        }\n        const { loadSchema } = this.opts;\n        return runCompileAsync.call(this, schema, meta);\n        async function runCompileAsync(_schema, _meta) {\n            await loadMetaSchema.call(this, _schema.$schema);\n            const sch = this._addSchema(_schema, _meta);\n            return sch.validate || _compileAsync.call(this, sch);\n        }\n        async function loadMetaSchema($ref) {\n            if ($ref && !this.getSchema($ref)) {\n                await runCompileAsync.call(this, { $ref }, true);\n            }\n        }\n        async function _compileAsync(sch) {\n            try {\n                return this._compileSchemaEnv(sch);\n            }\n            catch (e) {\n                if (!(e instanceof ref_error_1.default))\n                    throw e;\n                checkLoaded.call(this, e);\n                await loadMissingSchema.call(this, e.missingSchema);\n                return _compileAsync.call(this, sch);\n            }\n        }\n        function checkLoaded({ missingSchema: ref, missingRef }) {\n            if (this.refs[ref]) {\n                throw new Error(`AnySchema ${ref} is loaded but ${missingRef} cannot be resolved`);\n            }\n        }\n        async function loadMissingSchema(ref) {\n            const _schema = await _loadSchema.call(this, ref);\n            if (!this.refs[ref])\n                await loadMetaSchema.call(this, _schema.$schema);\n            if (!this.refs[ref])\n                this.addSchema(_schema, ref, meta);\n        }\n        async function _loadSchema(ref) {\n            const p = this._loading[ref];\n            if (p)\n                return p;\n            try {\n                return await (this._loading[ref] = loadSchema(ref));\n            }\n            finally {\n                delete this._loading[ref];\n            }\n        }\n    }\n    // Adds schema to the instance\n    addSchema(schema, // If array is passed, `key` will be ignored\n    key, // Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n    _meta, // true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n    _validateSchema = this.opts.validateSchema // false to skip schema validation. Used internally, option validateSchema should be used instead.\n    ) {\n        if (Array.isArray(schema)) {\n            for (const sch of schema)\n                this.addSchema(sch, undefined, _meta, _validateSchema);\n            return this;\n        }\n        let id;\n        if (typeof schema === \"object\") {\n            const { schemaId } = this.opts;\n            id = schema[schemaId];\n            if (id !== undefined && typeof id != \"string\") {\n                throw new Error(`schema ${schemaId} must be string`);\n            }\n        }\n        key = resolve_1.normalizeId(key || id);\n        this._checkUnique(key);\n        this.schemas[key] = this._addSchema(schema, _meta, key, _validateSchema, true);\n        return this;\n    }\n    // Add schema that will be used to validate other schemas\n    // options in META_IGNORE_OPTIONS are alway set to false\n    addMetaSchema(schema, key, // schema key\n    _validateSchema = this.opts.validateSchema // false to skip schema validation, can be used to override validateSchema option for meta-schema\n    ) {\n        this.addSchema(schema, key, true, _validateSchema);\n        return this;\n    }\n    //  Validate schema against its meta-schema\n    validateSchema(schema, throwOrLogError) {\n        if (typeof schema == \"boolean\")\n            return true;\n        let $schema;\n        $schema = schema.$schema;\n        if ($schema !== undefined && typeof $schema != \"string\") {\n            throw new Error(\"$schema must be a string\");\n        }\n        $schema = $schema || this.opts.defaultMeta || this.defaultMeta();\n        if (!$schema) {\n            this.logger.warn(\"meta-schema not available\");\n            this.errors = null;\n            return true;\n        }\n        const valid = this.validate($schema, schema);\n        if (!valid && throwOrLogError) {\n            const message = \"schema is invalid: \" + this.errorsText();\n            if (this.opts.validateSchema === \"log\")\n                this.logger.error(message);\n            else\n                throw new Error(message);\n        }\n        return valid;\n    }\n    // Get compiled schema by `key` or `ref`.\n    // (`key` that was passed to `addSchema` or full schema reference - `schema.$id` or resolved id)\n    getSchema(keyRef) {\n        let sch;\n        while (typeof (sch = getSchEnv.call(this, keyRef)) == \"string\")\n            keyRef = sch;\n        if (sch === undefined) {\n            const { schemaId } = this.opts;\n            const root = new compile_1.SchemaEnv({ schema: {}, schemaId });\n            sch = compile_1.resolveSchema.call(this, root, keyRef);\n            if (!sch)\n                return;\n            this.refs[keyRef] = sch;\n        }\n        return (sch.validate || this._compileSchemaEnv(sch));\n    }\n    // Remove cached schema(s).\n    // If no parameter is passed all schemas but meta-schemas are removed.\n    // If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n    // Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n    removeSchema(schemaKeyRef) {\n        if (schemaKeyRef instanceof RegExp) {\n            this._removeAllSchemas(this.schemas, schemaKeyRef);\n            this._removeAllSchemas(this.refs, schemaKeyRef);\n            return this;\n        }\n        switch (typeof schemaKeyRef) {\n            case \"undefined\":\n                this._removeAllSchemas(this.schemas);\n                this._removeAllSchemas(this.refs);\n                this._cache.clear();\n                return this;\n            case \"string\": {\n                const sch = getSchEnv.call(this, schemaKeyRef);\n                if (typeof sch == \"object\")\n                    this._cache.delete(sch.schema);\n                delete this.schemas[schemaKeyRef];\n                delete this.refs[schemaKeyRef];\n                return this;\n            }\n            case \"object\": {\n                const cacheKey = schemaKeyRef;\n                this._cache.delete(cacheKey);\n                let id = schemaKeyRef[this.opts.schemaId];\n                if (id) {\n                    id = resolve_1.normalizeId(id);\n                    delete this.schemas[id];\n                    delete this.refs[id];\n                }\n                return this;\n            }\n            default:\n                throw new Error(\"ajv.removeSchema: invalid parameter\");\n        }\n    }\n    // add \"vocabulary\" - a collection of keywords\n    addVocabulary(definitions) {\n        for (const def of definitions)\n            this.addKeyword(def);\n        return this;\n    }\n    addKeyword(kwdOrDef, def // deprecated\n    ) {\n        let keyword;\n        if (typeof kwdOrDef == \"string\") {\n            keyword = kwdOrDef;\n            if (typeof def == \"object\") {\n                this.logger.warn(\"these parameters are deprecated, see docs for addKeyword\");\n                def.keyword = keyword;\n            }\n        }\n        else if (typeof kwdOrDef == \"object\" && def === undefined) {\n            def = kwdOrDef;\n            keyword = def.keyword;\n            if (Array.isArray(keyword) && !keyword.length) {\n                throw new Error(\"addKeywords: keyword must be string or non-empty array\");\n            }\n        }\n        else {\n            throw new Error(\"invalid addKeywords parameters\");\n        }\n        checkKeyword.call(this, keyword, def);\n        if (!def) {\n            util_1.eachItem(keyword, (kwd) => addRule.call(this, kwd));\n            return this;\n        }\n        keywordMetaschema.call(this, def);\n        const definition = {\n            ...def,\n            type: dataType_1.getJSONTypes(def.type),\n            schemaType: dataType_1.getJSONTypes(def.schemaType),\n        };\n        util_1.eachItem(keyword, definition.type.length === 0\n            ? (k) => addRule.call(this, k, definition)\n            : (k) => definition.type.forEach((t) => addRule.call(this, k, definition, t)));\n        return this;\n    }\n    getKeyword(keyword) {\n        const rule = this.RULES.all[keyword];\n        return typeof rule == \"object\" ? rule.definition : !!rule;\n    }\n    // Remove keyword\n    removeKeyword(keyword) {\n        // TODO return type should be Ajv\n        const { RULES } = this;\n        delete RULES.keywords[keyword];\n        delete RULES.all[keyword];\n        for (const group of RULES.rules) {\n            const i = group.rules.findIndex((rule) => rule.keyword === keyword);\n            if (i >= 0)\n                group.rules.splice(i, 1);\n        }\n        return this;\n    }\n    // Add format\n    addFormat(name, format) {\n        if (typeof format == \"string\")\n            format = new RegExp(format);\n        this.formats[name] = format;\n        return this;\n    }\n    errorsText(errors = this.errors, // optional array of validation errors\n    { separator = \", \", dataVar = \"data\" } = {} // optional options with properties `separator` and `dataVar`\n    ) {\n        if (!errors || errors.length === 0)\n            return \"No errors\";\n        return errors\n            .map((e) => `${dataVar}${e.instancePath} ${e.message}`)\n            .reduce((text, msg) => text + separator + msg);\n    }\n    $dataMetaSchema(metaSchema, keywordsJsonPointers) {\n        const rules = this.RULES.all;\n        metaSchema = JSON.parse(JSON.stringify(metaSchema));\n        for (const jsonPointer of keywordsJsonPointers) {\n            const segments = jsonPointer.split(\"/\").slice(1); // first segment is an empty string\n            let keywords = metaSchema;\n            for (const seg of segments)\n                keywords = keywords[seg];\n            for (const key in rules) {\n                const rule = rules[key];\n                if (typeof rule != \"object\")\n                    continue;\n                const { $data } = rule.definition;\n                const schema = keywords[key];\n                if ($data && schema)\n                    keywords[key] = schemaOrData(schema);\n            }\n        }\n        return metaSchema;\n    }\n    _removeAllSchemas(schemas, regex) {\n        for (const keyRef in schemas) {\n            const sch = schemas[keyRef];\n            if (!regex || regex.test(keyRef)) {\n                if (typeof sch == \"string\") {\n                    delete schemas[keyRef];\n                }\n                else if (sch && !sch.meta) {\n                    this._cache.delete(sch.schema);\n                    delete schemas[keyRef];\n                }\n            }\n        }\n    }\n    _addSchema(schema, meta, baseId, validateSchema = this.opts.validateSchema, addSchema = this.opts.addUsedSchema) {\n        let id;\n        const { schemaId } = this.opts;\n        if (typeof schema == \"object\") {\n            id = schema[schemaId];\n        }\n        else {\n            if (this.opts.jtd)\n                throw new Error(\"schema must be object\");\n            else if (typeof schema != \"boolean\")\n                throw new Error(\"schema must be object or boolean\");\n        }\n        let sch = this._cache.get(schema);\n        if (sch !== undefined)\n            return sch;\n        const localRefs = resolve_1.getSchemaRefs.call(this, schema);\n        baseId = resolve_1.normalizeId(id || baseId);\n        sch = new compile_1.SchemaEnv({ schema, schemaId, meta, baseId, localRefs });\n        this._cache.set(sch.schema, sch);\n        if (addSchema && !baseId.startsWith(\"#\")) {\n            // TODO atm it is allowed to overwrite schemas without id (instead of not adding them)\n            if (baseId)\n                this._checkUnique(baseId);\n            this.refs[baseId] = sch;\n        }\n        if (validateSchema)\n            this.validateSchema(schema, true);\n        return sch;\n    }\n    _checkUnique(id) {\n        if (this.schemas[id] || this.refs[id]) {\n            throw new Error(`schema with key or id \"${id}\" already exists`);\n        }\n    }\n    _compileSchemaEnv(sch) {\n        if (sch.meta)\n            this._compileMetaSchema(sch);\n        else\n            compile_1.compileSchema.call(this, sch);\n        /* istanbul ignore if */\n        if (!sch.validate)\n            throw new Error(\"ajv implementation error\");\n        return sch.validate;\n    }\n    _compileMetaSchema(sch) {\n        const currentOpts = this.opts;\n        this.opts = this._metaOpts;\n        try {\n            compile_1.compileSchema.call(this, sch);\n        }\n        finally {\n            this.opts = currentOpts;\n        }\n    }\n}\nexports.default = Ajv;\nAjv.ValidationError = validation_error_1.default;\nAjv.MissingRefError = ref_error_1.default;\nfunction checkOptions(checkOpts, options, msg, log = \"error\") {\n    for (const key in checkOpts) {\n        const opt = key;\n        if (opt in options)\n            this.logger[log](`${msg}: option ${key}. ${checkOpts[opt]}`);\n    }\n}\nfunction getSchEnv(keyRef) {\n    keyRef = resolve_1.normalizeId(keyRef); // TODO tests fail without this line\n    return this.schemas[keyRef] || this.refs[keyRef];\n}\nfunction addInitialSchemas() {\n    const optsSchemas = this.opts.schemas;\n    if (!optsSchemas)\n        return;\n    if (Array.isArray(optsSchemas))\n        this.addSchema(optsSchemas);\n    else\n        for (const key in optsSchemas)\n            this.addSchema(optsSchemas[key], key);\n}\nfunction addInitialFormats() {\n    for (const name in this.opts.formats) {\n        const format = this.opts.formats[name];\n        if (format)\n            this.addFormat(name, format);\n    }\n}\nfunction addInitialKeywords(defs) {\n    if (Array.isArray(defs)) {\n        this.addVocabulary(defs);\n        return;\n    }\n    this.logger.warn(\"keywords option as map is deprecated, pass array\");\n    for (const keyword in defs) {\n        const def = defs[keyword];\n        if (!def.keyword)\n            def.keyword = keyword;\n        this.addKeyword(def);\n    }\n}\nfunction getMetaSchemaOptions() {\n    const metaOpts = { ...this.opts };\n    for (const opt of META_IGNORE_OPTIONS)\n        delete metaOpts[opt];\n    return metaOpts;\n}\nconst noLogs = { log() { }, warn() { }, error() { } };\nfunction getLogger(logger) {\n    if (logger === false)\n        return noLogs;\n    if (logger === undefined)\n        return console;\n    if (logger.log && logger.warn && logger.error)\n        return logger;\n    throw new Error(\"logger must implement log, warn and error methods\");\n}\nconst KEYWORD_NAME = /^[a-z_$][a-z0-9_$:-]*$/i;\nfunction checkKeyword(keyword, def) {\n    const { RULES } = this;\n    util_1.eachItem(keyword, (kwd) => {\n        if (RULES.keywords[kwd])\n            throw new Error(`Keyword ${kwd} is already defined`);\n        if (!KEYWORD_NAME.test(kwd))\n            throw new Error(`Keyword ${kwd} has invalid name`);\n    });\n    if (!def)\n        return;\n    if (def.$data && !(\"code\" in def || \"validate\" in def)) {\n        throw new Error('$data keyword must have \"code\" or \"validate\" function');\n    }\n}\nfunction addRule(keyword, definition, dataType) {\n    var _a;\n    const post = definition === null || definition === void 0 ? void 0 : definition.post;\n    if (dataType && post)\n        throw new Error('keyword with \"post\" flag cannot have \"type\"');\n    const { RULES } = this;\n    let ruleGroup = post ? RULES.post : RULES.rules.find(({ type: t }) => t === dataType);\n    if (!ruleGroup) {\n        ruleGroup = { type: dataType, rules: [] };\n        RULES.rules.push(ruleGroup);\n    }\n    RULES.keywords[keyword] = true;\n    if (!definition)\n        return;\n    const rule = {\n        keyword,\n        definition: {\n            ...definition,\n            type: dataType_1.getJSONTypes(definition.type),\n            schemaType: dataType_1.getJSONTypes(definition.schemaType),\n        },\n    };\n    if (definition.before)\n        addBeforeRule.call(this, ruleGroup, rule, definition.before);\n    else\n        ruleGroup.rules.push(rule);\n    RULES.all[keyword] = rule;\n    (_a = definition.implements) === null || _a === void 0 ? void 0 : _a.forEach((kwd) => this.addKeyword(kwd));\n}\nfunction addBeforeRule(ruleGroup, rule, before) {\n    const i = ruleGroup.rules.findIndex((_rule) => _rule.keyword === before);\n    if (i >= 0) {\n        ruleGroup.rules.splice(i, 0, rule);\n    }\n    else {\n        ruleGroup.rules.push(rule);\n        this.logger.warn(`rule ${before} is not defined`);\n    }\n}\nfunction keywordMetaschema(def) {\n    let { metaSchema } = def;\n    if (metaSchema === undefined)\n        return;\n    if (def.$data && this.opts.$data)\n        metaSchema = schemaOrData(metaSchema);\n    def.validateSchema = this.compile(metaSchema, true);\n}\nconst $dataRef = {\n    $ref: \"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#\",\n};\nfunction schemaOrData(schema) {\n    return { anyOf: [schema, $dataRef] };\n}\n//# sourceMappingURL=core.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://github.com/ajv-validator/ajv/issues/889\nconst equal = require(\"fast-deep-equal\");\nequal.code = 'require(\"ajv/dist/runtime/equal\").default';\nexports.default = equal;\n//# sourceMappingURL=equal.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nfunction ucs2length(str) {\n    const len = str.length;\n    let length = 0;\n    let pos = 0;\n    let value;\n    while (pos < len) {\n        length++;\n        value = str.charCodeAt(pos++);\n        if (value >= 0xd800 && value <= 0xdbff && pos < len) {\n            // high surrogate, and there is a next character\n            value = str.charCodeAt(pos);\n            if ((value & 0xfc00) === 0xdc00)\n                pos++; // low surrogate\n        }\n    }\n    return length;\n}\nexports.default = ucs2length;\nucs2length.code = 'require(\"ajv/dist/runtime/ucs2length\").default';\n//# sourceMappingURL=ucs2length.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass ValidationError extends Error {\n    constructor(errors) {\n        super(\"validation failed\");\n        this.errors = errors;\n        this.ajv = this.validation = true;\n    }\n}\nexports.default = ValidationError;\n//# sourceMappingURL=validation_error.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateAdditionalItems = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { len } }) => codegen_1.str `must NOT have more than ${len} items`,\n    params: ({ params: { len } }) => codegen_1._ `{limit: ${len}}`,\n};\nconst def = {\n    keyword: \"additionalItems\",\n    type: \"array\",\n    schemaType: [\"boolean\", \"object\"],\n    before: \"uniqueItems\",\n    error,\n    code(cxt) {\n        const { parentSchema, it } = cxt;\n        const { items } = parentSchema;\n        if (!Array.isArray(items)) {\n            util_1.checkStrictMode(it, '\"additionalItems\" is ignored when \"items\" is not an array of schemas');\n            return;\n        }\n        validateAdditionalItems(cxt, items);\n    },\n};\nfunction validateAdditionalItems(cxt, items) {\n    const { gen, schema, data, keyword, it } = cxt;\n    it.items = true;\n    const len = gen.const(\"len\", codegen_1._ `${data}.length`);\n    if (schema === false) {\n        cxt.setParams({ len: items.length });\n        cxt.pass(codegen_1._ `${len} <= ${items.length}`);\n    }\n    else if (typeof schema == \"object\" && !util_1.alwaysValidSchema(it, schema)) {\n        const valid = gen.var(\"valid\", codegen_1._ `${len} <= ${items.length}`); // TODO var\n        gen.if(codegen_1.not(valid), () => validateItems(valid));\n        cxt.ok(valid);\n    }\n    function validateItems(valid) {\n        gen.forRange(\"i\", items.length, len, (i) => {\n            cxt.subschema({ keyword, dataProp: i, dataPropType: util_1.Type.Num }, valid);\n            if (!it.allErrors)\n                gen.if(codegen_1.not(valid), () => gen.break());\n        });\n    }\n}\nexports.validateAdditionalItems = validateAdditionalItems;\nexports.default = def;\n//# sourceMappingURL=additionalItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"must NOT have additional properties\",\n    params: ({ params }) => codegen_1._ `{additionalProperty: ${params.additionalProperty}}`,\n};\nconst def = {\n    keyword: \"additionalProperties\",\n    type: [\"object\"],\n    schemaType: [\"boolean\", \"object\"],\n    allowUndefined: true,\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, errsCount, it } = cxt;\n        /* istanbul ignore if */\n        if (!errsCount)\n            throw new Error(\"ajv implementation error\");\n        const { allErrors, opts } = it;\n        it.props = true;\n        if (opts.removeAdditional !== \"all\" && util_1.alwaysValidSchema(it, schema))\n            return;\n        const props = code_1.allSchemaProperties(parentSchema.properties);\n        const patProps = code_1.allSchemaProperties(parentSchema.patternProperties);\n        checkAdditionalProperties();\n        cxt.ok(codegen_1._ `${errsCount} === ${names_1.default.errors}`);\n        function checkAdditionalProperties() {\n            gen.forIn(\"key\", data, (key) => {\n                if (!props.length && !patProps.length)\n                    additionalPropertyCode(key);\n                else\n                    gen.if(isAdditional(key), () => additionalPropertyCode(key));\n            });\n        }\n        function isAdditional(key) {\n            let definedProp;\n            if (props.length > 8) {\n                // TODO maybe an option instead of hard-coded 8?\n                const propsSchema = util_1.schemaRefOrVal(it, parentSchema.properties, \"properties\");\n                definedProp = code_1.isOwnProperty(gen, propsSchema, key);\n            }\n            else if (props.length) {\n                definedProp = codegen_1.or(...props.map((p) => codegen_1._ `${key} === ${p}`));\n            }\n            else {\n                definedProp = codegen_1.nil;\n            }\n            if (patProps.length) {\n                definedProp = codegen_1.or(definedProp, ...patProps.map((p) => codegen_1._ `${code_1.usePattern(cxt, p)}.test(${key})`));\n            }\n            return codegen_1.not(definedProp);\n        }\n        function deleteAdditional(key) {\n            gen.code(codegen_1._ `delete ${data}[${key}]`);\n        }\n        function additionalPropertyCode(key) {\n            if (opts.removeAdditional === \"all\" || (opts.removeAdditional && schema === false)) {\n                deleteAdditional(key);\n                return;\n            }\n            if (schema === false) {\n                cxt.setParams({ additionalProperty: key });\n                cxt.error();\n                if (!allErrors)\n                    gen.break();\n                return;\n            }\n            if (typeof schema == \"object\" && !util_1.alwaysValidSchema(it, schema)) {\n                const valid = gen.name(\"valid\");\n                if (opts.removeAdditional === \"failing\") {\n                    applyAdditionalSchema(key, valid, false);\n                    gen.if(codegen_1.not(valid), () => {\n                        cxt.reset();\n                        deleteAdditional(key);\n                    });\n                }\n                else {\n                    applyAdditionalSchema(key, valid);\n                    if (!allErrors)\n                        gen.if(codegen_1.not(valid), () => gen.break());\n                }\n            }\n        }\n        function applyAdditionalSchema(key, valid, errors) {\n            const subschema = {\n                keyword: \"additionalProperties\",\n                dataProp: key,\n                dataPropType: util_1.Type.Str,\n            };\n            if (errors === false) {\n                Object.assign(subschema, {\n                    compositeRule: true,\n                    createErrors: false,\n                    allErrors: false,\n                });\n            }\n            cxt.subschema(subschema, valid);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=additionalProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"allOf\",\n    schemaType: \"array\",\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        /* istanbul ignore if */\n        if (!Array.isArray(schema))\n            throw new Error(\"ajv implementation error\");\n        const valid = gen.name(\"valid\");\n        schema.forEach((sch, i) => {\n            if (util_1.alwaysValidSchema(it, sch))\n                return;\n            const schCxt = cxt.subschema({ keyword: \"allOf\", schemaProp: i }, valid);\n            cxt.ok(valid);\n            cxt.mergeEvaluated(schCxt);\n        });\n    },\n};\nexports.default = def;\n//# sourceMappingURL=allOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst def = {\n    keyword: \"anyOf\",\n    schemaType: \"array\",\n    trackErrors: true,\n    code: code_1.validateUnion,\n    error: { message: \"must match a schema in anyOf\" },\n};\nexports.default = def;\n//# sourceMappingURL=anyOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { min, max } }) => max === undefined\n        ? codegen_1.str `must contain at least ${min} valid item(s)`\n        : codegen_1.str `must contain at least ${min} and no more than ${max} valid item(s)`,\n    params: ({ params: { min, max } }) => max === undefined ? codegen_1._ `{minContains: ${min}}` : codegen_1._ `{minContains: ${min}, maxContains: ${max}}`,\n};\nconst def = {\n    keyword: \"contains\",\n    type: \"array\",\n    schemaType: [\"object\", \"boolean\"],\n    before: \"uniqueItems\",\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        let min;\n        let max;\n        const { minContains, maxContains } = parentSchema;\n        if (it.opts.next) {\n            min = minContains === undefined ? 1 : minContains;\n            max = maxContains;\n        }\n        else {\n            min = 1;\n        }\n        const len = gen.const(\"len\", codegen_1._ `${data}.length`);\n        cxt.setParams({ min, max });\n        if (max === undefined && min === 0) {\n            util_1.checkStrictMode(it, `\"minContains\" == 0 without \"maxContains\": \"contains\" keyword ignored`);\n            return;\n        }\n        if (max !== undefined && min > max) {\n            util_1.checkStrictMode(it, `\"minContains\" > \"maxContains\" is always invalid`);\n            cxt.fail();\n            return;\n        }\n        if (util_1.alwaysValidSchema(it, schema)) {\n            let cond = codegen_1._ `${len} >= ${min}`;\n            if (max !== undefined)\n                cond = codegen_1._ `${cond} && ${len} <= ${max}`;\n            cxt.pass(cond);\n            return;\n        }\n        it.items = true;\n        const valid = gen.name(\"valid\");\n        if (max === undefined && min === 1) {\n            validateItems(valid, () => gen.if(valid, () => gen.break()));\n        }\n        else {\n            gen.let(valid, false);\n            const schValid = gen.name(\"_valid\");\n            const count = gen.let(\"count\", 0);\n            validateItems(schValid, () => gen.if(schValid, () => checkLimits(count)));\n        }\n        cxt.result(valid, () => cxt.reset());\n        function validateItems(_valid, block) {\n            gen.forRange(\"i\", 0, len, (i) => {\n                cxt.subschema({\n                    keyword: \"contains\",\n                    dataProp: i,\n                    dataPropType: util_1.Type.Num,\n                    compositeRule: true,\n                }, _valid);\n                block();\n            });\n        }\n        function checkLimits(count) {\n            gen.code(codegen_1._ `${count}++`);\n            if (max === undefined) {\n                gen.if(codegen_1._ `${count} >= ${min}`, () => gen.assign(valid, true).break());\n            }\n            else {\n                gen.if(codegen_1._ `${count} > ${max}`, () => gen.assign(valid, false).break());\n                if (min === 1)\n                    gen.assign(valid, true);\n                else\n                    gen.if(codegen_1._ `${count} >= ${min}`, () => gen.assign(valid, true));\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=contains.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateSchemaDeps = exports.validatePropertyDeps = exports.error = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nexports.error = {\n    message: ({ params: { property, depsCount, deps } }) => {\n        const property_ies = depsCount === 1 ? \"property\" : \"properties\";\n        return codegen_1.str `must have ${property_ies} ${deps} when property ${property} is present`;\n    },\n    params: ({ params: { property, depsCount, deps, missingProperty } }) => codegen_1._ `{property: ${property},\n    missingProperty: ${missingProperty},\n    depsCount: ${depsCount},\n    deps: ${deps}}`, // TODO change to reference\n};\nconst def = {\n    keyword: \"dependencies\",\n    type: \"object\",\n    schemaType: \"object\",\n    error: exports.error,\n    code(cxt) {\n        const [propDeps, schDeps] = splitDependencies(cxt);\n        validatePropertyDeps(cxt, propDeps);\n        validateSchemaDeps(cxt, schDeps);\n    },\n};\nfunction splitDependencies({ schema }) {\n    const propertyDeps = {};\n    const schemaDeps = {};\n    for (const key in schema) {\n        if (key === \"__proto__\")\n            continue;\n        const deps = Array.isArray(schema[key]) ? propertyDeps : schemaDeps;\n        deps[key] = schema[key];\n    }\n    return [propertyDeps, schemaDeps];\n}\nfunction validatePropertyDeps(cxt, propertyDeps = cxt.schema) {\n    const { gen, data, it } = cxt;\n    if (Object.keys(propertyDeps).length === 0)\n        return;\n    const missing = gen.let(\"missing\");\n    for (const prop in propertyDeps) {\n        const deps = propertyDeps[prop];\n        if (deps.length === 0)\n            continue;\n        const hasProperty = code_1.propertyInData(gen, data, prop, it.opts.ownProperties);\n        cxt.setParams({\n            property: prop,\n            depsCount: deps.length,\n            deps: deps.join(\", \"),\n        });\n        if (it.allErrors) {\n            gen.if(hasProperty, () => {\n                for (const depProp of deps) {\n                    code_1.checkReportMissingProp(cxt, depProp);\n                }\n            });\n        }\n        else {\n            gen.if(codegen_1._ `${hasProperty} && (${code_1.checkMissingProp(cxt, deps, missing)})`);\n            code_1.reportMissingProp(cxt, missing);\n            gen.else();\n        }\n    }\n}\nexports.validatePropertyDeps = validatePropertyDeps;\nfunction validateSchemaDeps(cxt, schemaDeps = cxt.schema) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    for (const prop in schemaDeps) {\n        if (util_1.alwaysValidSchema(it, schemaDeps[prop]))\n            continue;\n        gen.if(code_1.propertyInData(gen, data, prop, it.opts.ownProperties), () => {\n            const schCxt = cxt.subschema({ keyword, schemaProp: prop }, valid);\n            cxt.mergeValidEvaluated(schCxt, valid);\n        }, () => gen.var(valid, true) // TODO var\n        );\n        cxt.ok(valid);\n    }\n}\nexports.validateSchemaDeps = validateSchemaDeps;\nexports.default = def;\n//# sourceMappingURL=dependencies.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params }) => codegen_1.str `must match \"${params.ifClause}\" schema`,\n    params: ({ params }) => codegen_1._ `{failingKeyword: ${params.ifClause}}`,\n};\nconst def = {\n    keyword: \"if\",\n    schemaType: [\"object\", \"boolean\"],\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, parentSchema, it } = cxt;\n        if (parentSchema.then === undefined && parentSchema.else === undefined) {\n            util_1.checkStrictMode(it, '\"if\" without \"then\" and \"else\" is ignored');\n        }\n        const hasThen = hasSchema(it, \"then\");\n        const hasElse = hasSchema(it, \"else\");\n        if (!hasThen && !hasElse)\n            return;\n        const valid = gen.let(\"valid\", true);\n        const schValid = gen.name(\"_valid\");\n        validateIf();\n        cxt.reset();\n        if (hasThen && hasElse) {\n            const ifClause = gen.let(\"ifClause\");\n            cxt.setParams({ ifClause });\n            gen.if(schValid, validateClause(\"then\", ifClause), validateClause(\"else\", ifClause));\n        }\n        else if (hasThen) {\n            gen.if(schValid, validateClause(\"then\"));\n        }\n        else {\n            gen.if(codegen_1.not(schValid), validateClause(\"else\"));\n        }\n        cxt.pass(valid, () => cxt.error(true));\n        function validateIf() {\n            const schCxt = cxt.subschema({\n                keyword: \"if\",\n                compositeRule: true,\n                createErrors: false,\n                allErrors: false,\n            }, schValid);\n            cxt.mergeEvaluated(schCxt);\n        }\n        function validateClause(keyword, ifClause) {\n            return () => {\n                const schCxt = cxt.subschema({ keyword }, schValid);\n                gen.assign(valid, schValid);\n                cxt.mergeValidEvaluated(schCxt, valid);\n                if (ifClause)\n                    gen.assign(ifClause, codegen_1._ `${keyword}`);\n                else\n                    cxt.setParams({ ifClause: keyword });\n            };\n        }\n    },\n};\nfunction hasSchema(it, keyword) {\n    const schema = it.schema[keyword];\n    return schema !== undefined && !util_1.alwaysValidSchema(it, schema);\n}\nexports.default = def;\n//# sourceMappingURL=if.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst additionalItems_1 = require(\"./additionalItems\");\nconst prefixItems_1 = require(\"./prefixItems\");\nconst items_1 = require(\"./items\");\nconst items2020_1 = require(\"./items2020\");\nconst contains_1 = require(\"./contains\");\nconst dependencies_1 = require(\"./dependencies\");\nconst propertyNames_1 = require(\"./propertyNames\");\nconst additionalProperties_1 = require(\"./additionalProperties\");\nconst properties_1 = require(\"./properties\");\nconst patternProperties_1 = require(\"./patternProperties\");\nconst not_1 = require(\"./not\");\nconst anyOf_1 = require(\"./anyOf\");\nconst oneOf_1 = require(\"./oneOf\");\nconst allOf_1 = require(\"./allOf\");\nconst if_1 = require(\"./if\");\nconst thenElse_1 = require(\"./thenElse\");\nfunction getApplicator(draft2020 = false) {\n    const applicator = [\n        // any\n        not_1.default,\n        anyOf_1.default,\n        oneOf_1.default,\n        allOf_1.default,\n        if_1.default,\n        thenElse_1.default,\n        // object\n        propertyNames_1.default,\n        additionalProperties_1.default,\n        dependencies_1.default,\n        properties_1.default,\n        patternProperties_1.default,\n    ];\n    // array\n    if (draft2020)\n        applicator.push(prefixItems_1.default, items2020_1.default);\n    else\n        applicator.push(additionalItems_1.default, items_1.default);\n    applicator.push(contains_1.default);\n    return applicator;\n}\nexports.default = getApplicator;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateTuple = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nconst def = {\n    keyword: \"items\",\n    type: \"array\",\n    schemaType: [\"object\", \"array\", \"boolean\"],\n    before: \"uniqueItems\",\n    code(cxt) {\n        const { schema, it } = cxt;\n        if (Array.isArray(schema))\n            return validateTuple(cxt, \"additionalItems\", schema);\n        it.items = true;\n        if (util_1.alwaysValidSchema(it, schema))\n            return;\n        cxt.ok(code_1.validateArray(cxt));\n    },\n};\nfunction validateTuple(cxt, extraItems, schArr = cxt.schema) {\n    const { gen, parentSchema, data, keyword, it } = cxt;\n    checkStrictTuple(parentSchema);\n    if (it.opts.unevaluated && schArr.length && it.items !== true) {\n        it.items = util_1.mergeEvaluated.items(gen, schArr.length, it.items);\n    }\n    const valid = gen.name(\"valid\");\n    const len = gen.const(\"len\", codegen_1._ `${data}.length`);\n    schArr.forEach((sch, i) => {\n        if (util_1.alwaysValidSchema(it, sch))\n            return;\n        gen.if(codegen_1._ `${len} > ${i}`, () => cxt.subschema({\n            keyword,\n            schemaProp: i,\n            dataProp: i,\n        }, valid));\n        cxt.ok(valid);\n    });\n    function checkStrictTuple(sch) {\n        const { opts, errSchemaPath } = it;\n        const l = schArr.length;\n        const fullTuple = l === sch.minItems && (l === sch.maxItems || sch[extraItems] === false);\n        if (opts.strictTuples && !fullTuple) {\n            const msg = `\"${keyword}\" is ${l}-tuple, but minItems or maxItems/${extraItems} are not specified or different at path \"${errSchemaPath}\"`;\n            util_1.checkStrictMode(it, msg, opts.strictTuples);\n        }\n    }\n}\nexports.validateTuple = validateTuple;\nexports.default = def;\n//# sourceMappingURL=items.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nconst additionalItems_1 = require(\"./additionalItems\");\nconst error = {\n    message: ({ params: { len } }) => codegen_1.str `must NOT have more than ${len} items`,\n    params: ({ params: { len } }) => codegen_1._ `{limit: ${len}}`,\n};\nconst def = {\n    keyword: \"items\",\n    type: \"array\",\n    schemaType: [\"object\", \"boolean\"],\n    before: \"uniqueItems\",\n    error,\n    code(cxt) {\n        const { schema, parentSchema, it } = cxt;\n        const { prefixItems } = parentSchema;\n        it.items = true;\n        if (util_1.alwaysValidSchema(it, schema))\n            return;\n        if (prefixItems)\n            additionalItems_1.validateAdditionalItems(cxt, prefixItems);\n        else\n            cxt.ok(code_1.validateArray(cxt));\n    },\n};\nexports.default = def;\n//# sourceMappingURL=items2020.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"not\",\n    schemaType: [\"object\", \"boolean\"],\n    trackErrors: true,\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        if (util_1.alwaysValidSchema(it, schema)) {\n            cxt.fail();\n            return;\n        }\n        const valid = gen.name(\"valid\");\n        cxt.subschema({\n            keyword: \"not\",\n            compositeRule: true,\n            createErrors: false,\n            allErrors: false,\n        }, valid);\n        cxt.failResult(valid, () => cxt.reset(), () => cxt.error());\n    },\n    error: { message: \"must NOT be valid\" },\n};\nexports.default = def;\n//# sourceMappingURL=not.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"must match exactly one schema in oneOf\",\n    params: ({ params }) => codegen_1._ `{passingSchemas: ${params.passing}}`,\n};\nconst def = {\n    keyword: \"oneOf\",\n    schemaType: \"array\",\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, it } = cxt;\n        /* istanbul ignore if */\n        if (!Array.isArray(schema))\n            throw new Error(\"ajv implementation error\");\n        if (it.opts.discriminator && parentSchema.discriminator)\n            return;\n        const schArr = schema;\n        const valid = gen.let(\"valid\", false);\n        const passing = gen.let(\"passing\", null);\n        const schValid = gen.name(\"_valid\");\n        cxt.setParams({ passing });\n        // TODO possibly fail straight away (with warning or exception) if there are two empty always valid schemas\n        gen.block(validateOneOf);\n        cxt.result(valid, () => cxt.reset(), () => cxt.error(true));\n        function validateOneOf() {\n            schArr.forEach((sch, i) => {\n                let schCxt;\n                if (util_1.alwaysValidSchema(it, sch)) {\n                    gen.var(schValid, true);\n                }\n                else {\n                    schCxt = cxt.subschema({\n                        keyword: \"oneOf\",\n                        schemaProp: i,\n                        compositeRule: true,\n                    }, schValid);\n                }\n                if (i > 0) {\n                    gen\n                        .if(codegen_1._ `${schValid} && ${valid}`)\n                        .assign(valid, false)\n                        .assign(passing, codegen_1._ `[${passing}, ${i}]`)\n                        .else();\n                }\n                gen.if(schValid, () => {\n                    gen.assign(valid, true);\n                    gen.assign(passing, i);\n                    if (schCxt)\n                        cxt.mergeEvaluated(schCxt, codegen_1.Name);\n                });\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=oneOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst util_2 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"patternProperties\",\n    type: \"object\",\n    schemaType: \"object\",\n    code(cxt) {\n        const { gen, schema, data, parentSchema, it } = cxt;\n        const { opts } = it;\n        const patterns = code_1.allSchemaProperties(schema);\n        const alwaysValidPatterns = patterns.filter((p) => util_1.alwaysValidSchema(it, schema[p]));\n        if (patterns.length === 0 ||\n            (alwaysValidPatterns.length === patterns.length &&\n                (!it.opts.unevaluated || it.props === true))) {\n            return;\n        }\n        const checkProperties = opts.strictSchema && !opts.allowMatchingProperties && parentSchema.properties;\n        const valid = gen.name(\"valid\");\n        if (it.props !== true && !(it.props instanceof codegen_1.Name)) {\n            it.props = util_2.evaluatedPropsToName(gen, it.props);\n        }\n        const { props } = it;\n        validatePatternProperties();\n        function validatePatternProperties() {\n            for (const pat of patterns) {\n                if (checkProperties)\n                    checkMatchingProperties(pat);\n                if (it.allErrors) {\n                    validateProperties(pat);\n                }\n                else {\n                    gen.var(valid, true); // TODO var\n                    validateProperties(pat);\n                    gen.if(valid);\n                }\n            }\n        }\n        function checkMatchingProperties(pat) {\n            for (const prop in checkProperties) {\n                if (new RegExp(pat).test(prop)) {\n                    util_1.checkStrictMode(it, `property ${prop} matches pattern ${pat} (use allowMatchingProperties)`);\n                }\n            }\n        }\n        function validateProperties(pat) {\n            gen.forIn(\"key\", data, (key) => {\n                gen.if(codegen_1._ `${code_1.usePattern(cxt, pat)}.test(${key})`, () => {\n                    const alwaysValid = alwaysValidPatterns.includes(pat);\n                    if (!alwaysValid) {\n                        cxt.subschema({\n                            keyword: \"patternProperties\",\n                            schemaProp: pat,\n                            dataProp: key,\n                            dataPropType: util_2.Type.Str,\n                        }, valid);\n                    }\n                    if (it.opts.unevaluated && props !== true) {\n                        gen.assign(codegen_1._ `${props}[${key}]`, true);\n                    }\n                    else if (!alwaysValid && !it.allErrors) {\n                        // can short-circuit if `unevaluatedProperties` is not supported (opts.next === false)\n                        // or if all properties were evaluated (props === true)\n                        gen.if(codegen_1.not(valid), () => gen.break());\n                    }\n                });\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=patternProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst items_1 = require(\"./items\");\nconst def = {\n    keyword: \"prefixItems\",\n    type: \"array\",\n    schemaType: [\"array\"],\n    before: \"uniqueItems\",\n    code: (cxt) => items_1.validateTuple(cxt, \"items\"),\n};\nexports.default = def;\n//# sourceMappingURL=prefixItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst validate_1 = require(\"../../compile/validate\");\nconst code_1 = require(\"../code\");\nconst util_1 = require(\"../../compile/util\");\nconst additionalProperties_1 = require(\"./additionalProperties\");\nconst def = {\n    keyword: \"properties\",\n    type: \"object\",\n    schemaType: \"object\",\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        if (it.opts.removeAdditional === \"all\" && parentSchema.additionalProperties === undefined) {\n            additionalProperties_1.default.code(new validate_1.KeywordCxt(it, additionalProperties_1.default, \"additionalProperties\"));\n        }\n        const allProps = code_1.allSchemaProperties(schema);\n        for (const prop of allProps) {\n            it.definedProperties.add(prop);\n        }\n        if (it.opts.unevaluated && allProps.length && it.props !== true) {\n            it.props = util_1.mergeEvaluated.props(gen, util_1.toHash(allProps), it.props);\n        }\n        const properties = allProps.filter((p) => !util_1.alwaysValidSchema(it, schema[p]));\n        if (properties.length === 0)\n            return;\n        const valid = gen.name(\"valid\");\n        for (const prop of properties) {\n            if (hasDefault(prop)) {\n                applyPropertySchema(prop);\n            }\n            else {\n                gen.if(code_1.propertyInData(gen, data, prop, it.opts.ownProperties));\n                applyPropertySchema(prop);\n                if (!it.allErrors)\n                    gen.else().var(valid, true);\n                gen.endIf();\n            }\n            cxt.it.definedProperties.add(prop);\n            cxt.ok(valid);\n        }\n        function hasDefault(prop) {\n            return it.opts.useDefaults && !it.compositeRule && schema[prop].default !== undefined;\n        }\n        function applyPropertySchema(prop) {\n            cxt.subschema({\n                keyword: \"properties\",\n                schemaProp: prop,\n                dataProp: prop,\n            }, valid);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=properties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"property name must be valid\",\n    params: ({ params }) => codegen_1._ `{propertyName: ${params.propertyName}}`,\n};\nconst def = {\n    keyword: \"propertyNames\",\n    type: \"object\",\n    schemaType: [\"object\", \"boolean\"],\n    error,\n    code(cxt) {\n        const { gen, schema, data, it } = cxt;\n        if (util_1.alwaysValidSchema(it, schema))\n            return;\n        const valid = gen.name(\"valid\");\n        gen.forIn(\"key\", data, (key) => {\n            cxt.setParams({ propertyName: key });\n            cxt.subschema({\n                keyword: \"propertyNames\",\n                data: key,\n                dataTypes: [\"string\"],\n                propertyName: key,\n                compositeRule: true,\n            }, valid);\n            gen.if(codegen_1.not(valid), () => {\n                cxt.error(true);\n                if (!it.allErrors)\n                    gen.break();\n            });\n        });\n        cxt.ok(valid);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=propertyNames.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: [\"then\", \"else\"],\n    schemaType: [\"object\", \"boolean\"],\n    code({ keyword, parentSchema, it }) {\n        if (parentSchema.if === undefined)\n            util_1.checkStrictMode(it, `\"${keyword}\" without \"if\" is ignored`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=thenElse.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateUnion = exports.validateArray = exports.usePattern = exports.callValidateCode = exports.schemaProperties = exports.allSchemaProperties = exports.noPropertyInData = exports.propertyInData = exports.isOwnProperty = exports.hasPropFunc = exports.reportMissingProp = exports.checkMissingProp = exports.checkReportMissingProp = void 0;\nconst codegen_1 = require(\"../compile/codegen\");\nconst util_1 = require(\"../compile/util\");\nconst names_1 = require(\"../compile/names\");\nfunction checkReportMissingProp(cxt, prop) {\n    const { gen, data, it } = cxt;\n    gen.if(noPropertyInData(gen, data, prop, it.opts.ownProperties), () => {\n        cxt.setParams({ missingProperty: codegen_1._ `${prop}` }, true);\n        cxt.error();\n    });\n}\nexports.checkReportMissingProp = checkReportMissingProp;\nfunction checkMissingProp({ gen, data, it: { opts } }, properties, missing) {\n    return codegen_1.or(...properties.map((prop) => codegen_1.and(noPropertyInData(gen, data, prop, opts.ownProperties), codegen_1._ `${missing} = ${prop}`)));\n}\nexports.checkMissingProp = checkMissingProp;\nfunction reportMissingProp(cxt, missing) {\n    cxt.setParams({ missingProperty: missing }, true);\n    cxt.error();\n}\nexports.reportMissingProp = reportMissingProp;\nfunction hasPropFunc(gen) {\n    return gen.scopeValue(\"func\", {\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        ref: Object.prototype.hasOwnProperty,\n        code: codegen_1._ `Object.prototype.hasOwnProperty`,\n    });\n}\nexports.hasPropFunc = hasPropFunc;\nfunction isOwnProperty(gen, data, property) {\n    return codegen_1._ `${hasPropFunc(gen)}.call(${data}, ${property})`;\n}\nexports.isOwnProperty = isOwnProperty;\nfunction propertyInData(gen, data, property, ownProperties) {\n    const cond = codegen_1._ `${data}${codegen_1.getProperty(property)} !== undefined`;\n    return ownProperties ? codegen_1._ `${cond} && ${isOwnProperty(gen, data, property)}` : cond;\n}\nexports.propertyInData = propertyInData;\nfunction noPropertyInData(gen, data, property, ownProperties) {\n    const cond = codegen_1._ `${data}${codegen_1.getProperty(property)} === undefined`;\n    return ownProperties ? codegen_1.or(cond, codegen_1.not(isOwnProperty(gen, data, property))) : cond;\n}\nexports.noPropertyInData = noPropertyInData;\nfunction allSchemaProperties(schemaMap) {\n    return schemaMap ? Object.keys(schemaMap).filter((p) => p !== \"__proto__\") : [];\n}\nexports.allSchemaProperties = allSchemaProperties;\nfunction schemaProperties(it, schemaMap) {\n    return allSchemaProperties(schemaMap).filter((p) => !util_1.alwaysValidSchema(it, schemaMap[p]));\n}\nexports.schemaProperties = schemaProperties;\nfunction callValidateCode({ schemaCode, data, it: { gen, topSchemaRef, schemaPath, errorPath }, it }, func, context, passSchema) {\n    const dataAndSchema = passSchema ? codegen_1._ `${schemaCode}, ${data}, ${topSchemaRef}${schemaPath}` : data;\n    const valCxt = [\n        [names_1.default.instancePath, codegen_1.strConcat(names_1.default.instancePath, errorPath)],\n        [names_1.default.parentData, it.parentData],\n        [names_1.default.parentDataProperty, it.parentDataProperty],\n        [names_1.default.rootData, names_1.default.rootData],\n    ];\n    if (it.opts.dynamicRef)\n        valCxt.push([names_1.default.dynamicAnchors, names_1.default.dynamicAnchors]);\n    const args = codegen_1._ `${dataAndSchema}, ${gen.object(...valCxt)}`;\n    return context !== codegen_1.nil ? codegen_1._ `${func}.call(${context}, ${args})` : codegen_1._ `${func}(${args})`;\n}\nexports.callValidateCode = callValidateCode;\nfunction usePattern({ gen, it: { opts } }, pattern) {\n    const u = opts.unicodeRegExp ? \"u\" : \"\";\n    return gen.scopeValue(\"pattern\", {\n        key: pattern,\n        ref: new RegExp(pattern, u),\n        code: codegen_1._ `new RegExp(${pattern}, ${u})`,\n    });\n}\nexports.usePattern = usePattern;\nfunction validateArray(cxt) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    if (it.allErrors) {\n        const validArr = gen.let(\"valid\", true);\n        validateItems(() => gen.assign(validArr, false));\n        return validArr;\n    }\n    gen.var(valid, true);\n    validateItems(() => gen.break());\n    return valid;\n    function validateItems(notValid) {\n        const len = gen.const(\"len\", codegen_1._ `${data}.length`);\n        gen.forRange(\"i\", 0, len, (i) => {\n            cxt.subschema({\n                keyword,\n                dataProp: i,\n                dataPropType: util_1.Type.Num,\n            }, valid);\n            gen.if(codegen_1.not(valid), notValid);\n        });\n    }\n}\nexports.validateArray = validateArray;\nfunction validateUnion(cxt) {\n    const { gen, schema, keyword, it } = cxt;\n    /* istanbul ignore if */\n    if (!Array.isArray(schema))\n        throw new Error(\"ajv implementation error\");\n    const alwaysValid = schema.some((sch) => util_1.alwaysValidSchema(it, sch));\n    if (alwaysValid && !it.opts.unevaluated)\n        return;\n    const valid = gen.let(\"valid\", false);\n    const schValid = gen.name(\"_valid\");\n    gen.block(() => schema.forEach((_sch, i) => {\n        const schCxt = cxt.subschema({\n            keyword,\n            schemaProp: i,\n            compositeRule: true,\n        }, schValid);\n        gen.assign(valid, codegen_1._ `${valid} || ${schValid}`);\n        const merged = cxt.mergeValidEvaluated(schCxt, schValid);\n        // can short-circuit if `unevaluatedProperties/Items` not supported (opts.unevaluated !== true)\n        // or if all properties and items were evaluated (it.props === true && it.items === true)\n        if (!merged)\n            gen.if(codegen_1.not(valid));\n    }));\n    cxt.result(valid, () => cxt.reset(), () => cxt.error(true));\n}\nexports.validateUnion = validateUnion;\n//# sourceMappingURL=code.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst def = {\n    keyword: \"id\",\n    code() {\n        throw new Error('NOT SUPPORTED: keyword \"id\", use \"$id\" for schema ID');\n    },\n};\nexports.default = def;\n//# sourceMappingURL=id.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst id_1 = require(\"./id\");\nconst ref_1 = require(\"./ref\");\nconst core = [\n    \"$schema\",\n    \"$id\",\n    \"$defs\",\n    \"$vocabulary\",\n    { keyword: \"$comment\" },\n    \"definitions\",\n    id_1.default,\n    ref_1.default,\n];\nexports.default = core;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.callRef = exports.getValidate = void 0;\nconst ref_error_1 = require(\"../../compile/ref_error\");\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst compile_1 = require(\"../../compile\");\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"$ref\",\n    schemaType: \"string\",\n    code(cxt) {\n        const { gen, schema: $ref, it } = cxt;\n        const { baseId, schemaEnv: env, validateName, opts, self } = it;\n        const { root } = env;\n        if (($ref === \"#\" || $ref === \"#/\") && baseId === root.baseId)\n            return callRootRef();\n        const schOrEnv = compile_1.resolveRef.call(self, root, baseId, $ref);\n        if (schOrEnv === undefined)\n            throw new ref_error_1.default(baseId, $ref);\n        if (schOrEnv instanceof compile_1.SchemaEnv)\n            return callValidate(schOrEnv);\n        return inlineRefSchema(schOrEnv);\n        function callRootRef() {\n            if (env === root)\n                return callRef(cxt, validateName, env, env.$async);\n            const rootName = gen.scopeValue(\"root\", { ref: root });\n            return callRef(cxt, codegen_1._ `${rootName}.validate`, root, root.$async);\n        }\n        function callValidate(sch) {\n            const v = getValidate(cxt, sch);\n            callRef(cxt, v, sch, sch.$async);\n        }\n        function inlineRefSchema(sch) {\n            const schName = gen.scopeValue(\"schema\", opts.code.source === true ? { ref: sch, code: codegen_1.stringify(sch) } : { ref: sch });\n            const valid = gen.name(\"valid\");\n            const schCxt = cxt.subschema({\n                schema: sch,\n                dataTypes: [],\n                schemaPath: codegen_1.nil,\n                topSchemaRef: schName,\n                errSchemaPath: $ref,\n            }, valid);\n            cxt.mergeEvaluated(schCxt);\n            cxt.ok(valid);\n        }\n    },\n};\nfunction getValidate(cxt, sch) {\n    const { gen } = cxt;\n    return sch.validate\n        ? gen.scopeValue(\"validate\", { ref: sch.validate })\n        : codegen_1._ `${gen.scopeValue(\"wrapper\", { ref: sch })}.validate`;\n}\nexports.getValidate = getValidate;\nfunction callRef(cxt, v, sch, $async) {\n    const { gen, it } = cxt;\n    const { allErrors, schemaEnv: env, opts } = it;\n    const passCxt = opts.passContext ? names_1.default.this : codegen_1.nil;\n    if ($async)\n        callAsyncRef();\n    else\n        callSyncRef();\n    function callAsyncRef() {\n        if (!env.$async)\n            throw new Error(\"async schema referenced by sync schema\");\n        const valid = gen.let(\"valid\");\n        gen.try(() => {\n            gen.code(codegen_1._ `await ${code_1.callValidateCode(cxt, v, passCxt)}`);\n            addEvaluatedFrom(v); // TODO will not work with async, it has to be returned with the result\n            if (!allErrors)\n                gen.assign(valid, true);\n        }, (e) => {\n            gen.if(codegen_1._ `!(${e} instanceof ${it.ValidationError})`, () => gen.throw(e));\n            addErrorsFrom(e);\n            if (!allErrors)\n                gen.assign(valid, false);\n        });\n        cxt.ok(valid);\n    }\n    function callSyncRef() {\n        cxt.result(code_1.callValidateCode(cxt, v, passCxt), () => addEvaluatedFrom(v), () => addErrorsFrom(v));\n    }\n    function addErrorsFrom(source) {\n        const errs = codegen_1._ `${source}.errors`;\n        gen.assign(names_1.default.vErrors, codegen_1._ `${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`); // TODO tagged\n        gen.assign(names_1.default.errors, codegen_1._ `${names_1.default.vErrors}.length`);\n    }\n    function addEvaluatedFrom(source) {\n        var _a;\n        if (!it.opts.unevaluated)\n            return;\n        const schEvaluated = (_a = sch === null || sch === void 0 ? void 0 : sch.validate) === null || _a === void 0 ? void 0 : _a.evaluated;\n        // TODO refactor\n        if (it.props !== true) {\n            if (schEvaluated && !schEvaluated.dynamicProps) {\n                if (schEvaluated.props !== undefined) {\n                    it.props = util_1.mergeEvaluated.props(gen, schEvaluated.props, it.props);\n                }\n            }\n            else {\n                const props = gen.var(\"props\", codegen_1._ `${source}.evaluated.props`);\n                it.props = util_1.mergeEvaluated.props(gen, props, it.props, codegen_1.Name);\n            }\n        }\n        if (it.items !== true) {\n            if (schEvaluated && !schEvaluated.dynamicItems) {\n                if (schEvaluated.items !== undefined) {\n                    it.items = util_1.mergeEvaluated.items(gen, schEvaluated.items, it.items);\n                }\n            }\n            else {\n                const items = gen.var(\"items\", codegen_1._ `${source}.evaluated.items`);\n                it.items = util_1.mergeEvaluated.items(gen, items, it.items, codegen_1.Name);\n            }\n        }\n    }\n}\nexports.callRef = callRef;\nexports.default = def;\n//# sourceMappingURL=ref.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst types_1 = require(\"../discriminator/types\");\nconst error = {\n    message: ({ params: { discrError, tagName } }) => discrError === types_1.DiscrError.Tag\n        ? `tag \"${tagName}\" must be string`\n        : `value of tag \"${tagName}\" must be in oneOf`,\n    params: ({ params: { discrError, tag, tagName } }) => codegen_1._ `{error: ${discrError}, tag: ${tagName}, tagValue: ${tag}}`,\n};\nconst def = {\n    keyword: \"discriminator\",\n    type: \"object\",\n    schemaType: \"object\",\n    error,\n    code(cxt) {\n        const { gen, data, schema, parentSchema, it } = cxt;\n        const { oneOf } = parentSchema;\n        if (!it.opts.discriminator) {\n            throw new Error(\"discriminator: requires discriminator option\");\n        }\n        const tagName = schema.propertyName;\n        if (typeof tagName != \"string\")\n            throw new Error(\"discriminator: requires propertyName\");\n        if (schema.mapping)\n            throw new Error(\"discriminator: mapping is not supported\");\n        if (!oneOf)\n            throw new Error(\"discriminator: requires oneOf keyword\");\n        const valid = gen.let(\"valid\", false);\n        const tag = gen.const(\"tag\", codegen_1._ `${data}${codegen_1.getProperty(tagName)}`);\n        gen.if(codegen_1._ `typeof ${tag} == \"string\"`, () => validateMapping(), () => cxt.error(false, { discrError: types_1.DiscrError.Tag, tag, tagName }));\n        cxt.ok(valid);\n        function validateMapping() {\n            const mapping = getMapping();\n            gen.if(false);\n            for (const tagValue in mapping) {\n                gen.elseIf(codegen_1._ `${tag} === ${tagValue}`);\n                gen.assign(valid, applyTagSchema(mapping[tagValue]));\n            }\n            gen.else();\n            cxt.error(false, { discrError: types_1.DiscrError.Mapping, tag, tagName });\n            gen.endIf();\n        }\n        function applyTagSchema(schemaProp) {\n            const _valid = gen.name(\"valid\");\n            const schCxt = cxt.subschema({ keyword: \"oneOf\", schemaProp }, _valid);\n            cxt.mergeEvaluated(schCxt, codegen_1.Name);\n            return _valid;\n        }\n        function getMapping() {\n            var _a;\n            const oneOfMapping = {};\n            const topRequired = hasRequired(parentSchema);\n            let tagRequired = true;\n            for (let i = 0; i < oneOf.length; i++) {\n                const sch = oneOf[i];\n                const propSch = (_a = sch.properties) === null || _a === void 0 ? void 0 : _a[tagName];\n                if (typeof propSch != \"object\") {\n                    throw new Error(`discriminator: oneOf schemas must have \"properties/${tagName}\"`);\n                }\n                tagRequired = tagRequired && (topRequired || hasRequired(sch));\n                addMappings(propSch, i);\n            }\n            if (!tagRequired)\n                throw new Error(`discriminator: \"${tagName}\" must be required`);\n            return oneOfMapping;\n            function hasRequired({ required }) {\n                return Array.isArray(required) && required.includes(tagName);\n            }\n            function addMappings(sch, i) {\n                if (sch.const) {\n                    addMapping(sch.const, i);\n                }\n                else if (sch.enum) {\n                    for (const tagValue of sch.enum) {\n                        addMapping(tagValue, i);\n                    }\n                }\n                else {\n                    throw new Error(`discriminator: \"properties/${tagName}\" must have \"const\" or \"enum\"`);\n                }\n            }\n            function addMapping(tagValue, i) {\n                if (typeof tagValue != \"string\" || tagValue in oneOfMapping) {\n                    throw new Error(`discriminator: \"${tagName}\" values must be unique strings`);\n                }\n                oneOfMapping[tagValue] = i;\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiscrError = void 0;\nvar DiscrError;\n(function (DiscrError) {\n    DiscrError[\"Tag\"] = \"tag\";\n    DiscrError[\"Mapping\"] = \"mapping\";\n})(DiscrError = exports.DiscrError || (exports.DiscrError = {}));\n//# sourceMappingURL=types.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst core_1 = require(\"./core\");\nconst validation_1 = require(\"./validation\");\nconst applicator_1 = require(\"./applicator\");\nconst format_1 = require(\"./format\");\nconst metadata_1 = require(\"./metadata\");\nconst draft7Vocabularies = [\n    core_1.default,\n    validation_1.default,\n    applicator_1.default(),\n    format_1.default,\n    metadata_1.metadataVocabulary,\n    metadata_1.contentVocabulary,\n];\nexports.default = draft7Vocabularies;\n//# sourceMappingURL=draft7.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => codegen_1.str `must match format \"${schemaCode}\"`,\n    params: ({ schemaCode }) => codegen_1._ `{format: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"format\",\n    type: [\"number\", \"string\"],\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt, ruleType) {\n        const { gen, data, $data, schema, schemaCode, it } = cxt;\n        const { opts, errSchemaPath, schemaEnv, self } = it;\n        if (!opts.validateFormats)\n            return;\n        if ($data)\n            validate$DataFormat();\n        else\n            validateFormat();\n        function validate$DataFormat() {\n            const fmts = gen.scopeValue(\"formats\", {\n                ref: self.formats,\n                code: opts.code.formats,\n            });\n            const fDef = gen.const(\"fDef\", codegen_1._ `${fmts}[${schemaCode}]`);\n            const fType = gen.let(\"fType\");\n            const format = gen.let(\"format\");\n            // TODO simplify\n            gen.if(codegen_1._ `typeof ${fDef} == \"object\" && !(${fDef} instanceof RegExp)`, () => gen.assign(fType, codegen_1._ `${fDef}.type || \"string\"`).assign(format, codegen_1._ `${fDef}.validate`), () => gen.assign(fType, codegen_1._ `\"string\"`).assign(format, fDef));\n            cxt.fail$data(codegen_1.or(unknownFmt(), invalidFmt()));\n            function unknownFmt() {\n                if (opts.strictSchema === false)\n                    return codegen_1.nil;\n                return codegen_1._ `${schemaCode} && !${format}`;\n            }\n            function invalidFmt() {\n                const callFormat = schemaEnv.$async\n                    ? codegen_1._ `(${fDef}.async ? await ${format}(${data}) : ${format}(${data}))`\n                    : codegen_1._ `${format}(${data})`;\n                const validData = codegen_1._ `(typeof ${format} == \"function\" ? ${callFormat} : ${format}.test(${data}))`;\n                return codegen_1._ `${format} && ${format} !== true && ${fType} === ${ruleType} && !${validData}`;\n            }\n        }\n        function validateFormat() {\n            const formatDef = self.formats[schema];\n            if (!formatDef) {\n                unknownFormat();\n                return;\n            }\n            if (formatDef === true)\n                return;\n            const [fmtType, format, fmtRef] = getFormat(formatDef);\n            if (fmtType === ruleType)\n                cxt.pass(validCondition());\n            function unknownFormat() {\n                if (opts.strictSchema === false) {\n                    self.logger.warn(unknownMsg());\n                    return;\n                }\n                throw new Error(unknownMsg());\n                function unknownMsg() {\n                    return `unknown format \"${schema}\" ignored in schema at path \"${errSchemaPath}\"`;\n                }\n            }\n            function getFormat(fmtDef) {\n                const code = fmtDef instanceof RegExp\n                    ? codegen_1.regexpCode(fmtDef)\n                    : opts.code.formats\n                        ? codegen_1._ `${opts.code.formats}${codegen_1.getProperty(schema)}`\n                        : undefined;\n                const fmt = gen.scopeValue(\"formats\", { key: schema, ref: fmtDef, code });\n                if (typeof fmtDef == \"object\" && !(fmtDef instanceof RegExp)) {\n                    return [fmtDef.type || \"string\", fmtDef.validate, codegen_1._ `${fmt}.validate`];\n                }\n                return [\"string\", fmtDef, fmt];\n            }\n            function validCondition() {\n                if (typeof formatDef == \"object\" && !(formatDef instanceof RegExp) && formatDef.async) {\n                    if (!schemaEnv.$async)\n                        throw new Error(\"async format in sync schema\");\n                    return codegen_1._ `await ${fmtRef}(${data})`;\n                }\n                return typeof format == \"function\" ? codegen_1._ `${fmtRef}(${data})` : codegen_1._ `${fmtRef}.test(${data})`;\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=format.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst format_1 = require(\"./format\");\nconst format = [format_1.default];\nexports.default = format;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.contentVocabulary = exports.metadataVocabulary = void 0;\nexports.metadataVocabulary = [\n    \"title\",\n    \"description\",\n    \"default\",\n    \"deprecated\",\n    \"readOnly\",\n    \"writeOnly\",\n    \"examples\",\n];\nexports.contentVocabulary = [\n    \"contentMediaType\",\n    \"contentEncoding\",\n    \"contentSchema\",\n];\n//# sourceMappingURL=metadata.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: \"must be equal to constant\",\n    params: ({ schemaCode }) => codegen_1._ `{allowedValue: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"const\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schemaCode, schema } = cxt;\n        if ($data || (schema && typeof schema == \"object\")) {\n            cxt.fail$data(codegen_1._ `!${util_1.useFunc(gen, equal_1.default)}(${data}, ${schemaCode})`);\n        }\n        else {\n            cxt.fail(codegen_1._ `${schema} !== ${data}`);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=const.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: \"must be equal to one of the allowed values\",\n    params: ({ schemaCode }) => codegen_1._ `{allowedValues: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"enum\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, schemaCode, it } = cxt;\n        if (!$data && schema.length === 0)\n            throw new Error(\"enum must have non-empty array\");\n        const useLoop = schema.length >= it.opts.loopEnum;\n        const eql = util_1.useFunc(gen, equal_1.default);\n        let valid;\n        if (useLoop || $data) {\n            valid = gen.let(\"valid\");\n            cxt.block$data(valid, loopEnum);\n        }\n        else {\n            /* istanbul ignore if */\n            if (!Array.isArray(schema))\n                throw new Error(\"ajv implementation error\");\n            const vSchema = gen.const(\"vSchema\", schemaCode);\n            valid = codegen_1.or(...schema.map((_x, i) => equalCode(vSchema, i)));\n        }\n        cxt.pass(valid);\n        function loopEnum() {\n            gen.assign(valid, false);\n            gen.forOf(\"v\", schemaCode, (v) => gen.if(codegen_1._ `${eql}(${data}, ${v})`, () => gen.assign(valid, true).break()));\n        }\n        function equalCode(vSchema, i) {\n            const sch = schema[i];\n            return typeof sch === \"object\" && sch !== null\n                ? codegen_1._ `${eql}(${data}, ${vSchema}[${i}])`\n                : codegen_1._ `${data} === ${sch}`;\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=enum.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst limitNumber_1 = require(\"./limitNumber\");\nconst multipleOf_1 = require(\"./multipleOf\");\nconst limitLength_1 = require(\"./limitLength\");\nconst pattern_1 = require(\"./pattern\");\nconst limitProperties_1 = require(\"./limitProperties\");\nconst required_1 = require(\"./required\");\nconst limitItems_1 = require(\"./limitItems\");\nconst uniqueItems_1 = require(\"./uniqueItems\");\nconst const_1 = require(\"./const\");\nconst enum_1 = require(\"./enum\");\nconst validation = [\n    // number\n    limitNumber_1.default,\n    multipleOf_1.default,\n    // string\n    limitLength_1.default,\n    pattern_1.default,\n    // object\n    limitProperties_1.default,\n    required_1.default,\n    // array\n    limitItems_1.default,\n    uniqueItems_1.default,\n    // any\n    { keyword: \"type\", schemaType: [\"string\", \"array\"] },\n    { keyword: \"nullable\", schemaType: \"boolean\" },\n    const_1.default,\n    enum_1.default,\n];\nexports.default = validation;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxItems\" ? \"more\" : \"fewer\";\n        return codegen_1.str `must NOT have ${comp} than ${schemaCode} items`;\n    },\n    params: ({ schemaCode }) => codegen_1._ `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxItems\", \"minItems\"],\n    type: \"array\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        const op = keyword === \"maxItems\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        cxt.fail$data(codegen_1._ `${data}.length ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst ucs2length_1 = require(\"../../runtime/ucs2length\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxLength\" ? \"more\" : \"fewer\";\n        return codegen_1.str `must NOT have ${comp} than ${schemaCode} characters`;\n    },\n    params: ({ schemaCode }) => codegen_1._ `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxLength\", \"minLength\"],\n    type: \"string\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode, it } = cxt;\n        const op = keyword === \"maxLength\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        const len = it.opts.unicode === false ? codegen_1._ `${data}.length` : codegen_1._ `${util_1.useFunc(cxt.gen, ucs2length_1.default)}(${data})`;\n        cxt.fail$data(codegen_1._ `${len} ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitLength.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst ops = codegen_1.operators;\nconst KWDs = {\n    maximum: { okStr: \"<=\", ok: ops.LTE, fail: ops.GT },\n    minimum: { okStr: \">=\", ok: ops.GTE, fail: ops.LT },\n    exclusiveMaximum: { okStr: \"<\", ok: ops.LT, fail: ops.GTE },\n    exclusiveMinimum: { okStr: \">\", ok: ops.GT, fail: ops.LTE },\n};\nconst error = {\n    message: ({ keyword, schemaCode }) => codegen_1.str `must be ${KWDs[keyword].okStr} ${schemaCode}`,\n    params: ({ keyword, schemaCode }) => codegen_1._ `{comparison: ${KWDs[keyword].okStr}, limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: Object.keys(KWDs),\n    type: \"number\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        cxt.fail$data(codegen_1._ `${data} ${KWDs[keyword].fail} ${schemaCode} || isNaN(${data})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitNumber.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxProperties\" ? \"more\" : \"fewer\";\n        return codegen_1.str `must NOT have ${comp} than ${schemaCode} items`;\n    },\n    params: ({ schemaCode }) => codegen_1._ `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxProperties\", \"minProperties\"],\n    type: \"object\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        const op = keyword === \"maxProperties\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        cxt.fail$data(codegen_1._ `Object.keys(${data}).length ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => codegen_1.str `must be multiple of ${schemaCode}`,\n    params: ({ schemaCode }) => codegen_1._ `{multipleOf: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"multipleOf\",\n    type: \"number\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, schemaCode, it } = cxt;\n        // const bdt = bad$DataType(schemaCode, <string>def.schemaType, $data)\n        const prec = it.opts.multipleOfPrecision;\n        const res = gen.let(\"res\");\n        const invalid = prec\n            ? codegen_1._ `Math.abs(Math.round(${res}) - ${res}) > 1e-${prec}`\n            : codegen_1._ `${res} !== parseInt(${res})`;\n        cxt.fail$data(codegen_1._ `(${schemaCode} === 0 || (${res} = ${data}/${schemaCode}, ${invalid}))`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=multipleOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => codegen_1.str `must match pattern \"${schemaCode}\"`,\n    params: ({ schemaCode }) => codegen_1._ `{pattern: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"pattern\",\n    type: \"string\",\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { data, $data, schema, schemaCode, it } = cxt;\n        // TODO regexp should be wrapped in try/catchs\n        const u = it.opts.unicodeRegExp ? \"u\" : \"\";\n        const regExp = $data ? codegen_1._ `(new RegExp(${schemaCode}, ${u}))` : code_1.usePattern(cxt, schema);\n        cxt.fail$data(codegen_1._ `!${regExp}.test(${data})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=pattern.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { missingProperty } }) => codegen_1.str `must have required property '${missingProperty}'`,\n    params: ({ params: { missingProperty } }) => codegen_1._ `{missingProperty: ${missingProperty}}`,\n};\nconst def = {\n    keyword: \"required\",\n    type: \"object\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, schema, schemaCode, data, $data, it } = cxt;\n        const { opts } = it;\n        if (!$data && schema.length === 0)\n            return;\n        const useLoop = schema.length >= opts.loopRequired;\n        if (it.allErrors)\n            allErrorsMode();\n        else\n            exitOnErrorMode();\n        if (opts.strictRequired) {\n            const props = cxt.parentSchema.properties;\n            const { definedProperties } = cxt.it;\n            for (const requiredKey of schema) {\n                if ((props === null || props === void 0 ? void 0 : props[requiredKey]) === undefined && !definedProperties.has(requiredKey)) {\n                    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n                    const msg = `required property \"${requiredKey}\" is not defined at \"${schemaPath}\" (strictRequired)`;\n                    util_1.checkStrictMode(it, msg, it.opts.strictRequired);\n                }\n            }\n        }\n        function allErrorsMode() {\n            if (useLoop || $data) {\n                cxt.block$data(codegen_1.nil, loopAllRequired);\n            }\n            else {\n                for (const prop of schema) {\n                    code_1.checkReportMissingProp(cxt, prop);\n                }\n            }\n        }\n        function exitOnErrorMode() {\n            const missing = gen.let(\"missing\");\n            if (useLoop || $data) {\n                const valid = gen.let(\"valid\", true);\n                cxt.block$data(valid, () => loopUntilMissing(missing, valid));\n                cxt.ok(valid);\n            }\n            else {\n                gen.if(code_1.checkMissingProp(cxt, schema, missing));\n                code_1.reportMissingProp(cxt, missing);\n                gen.else();\n            }\n        }\n        function loopAllRequired() {\n            gen.forOf(\"prop\", schemaCode, (prop) => {\n                cxt.setParams({ missingProperty: prop });\n                gen.if(code_1.noPropertyInData(gen, data, prop, opts.ownProperties), () => cxt.error());\n            });\n        }\n        function loopUntilMissing(missing, valid) {\n            cxt.setParams({ missingProperty: missing });\n            gen.forOf(missing, schemaCode, () => {\n                gen.assign(valid, code_1.propertyInData(gen, data, missing, opts.ownProperties));\n                gen.if(codegen_1.not(valid), () => {\n                    cxt.error();\n                    gen.break();\n                });\n            }, codegen_1.nil);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=required.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst dataType_1 = require(\"../../compile/validate/dataType\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: ({ params: { i, j } }) => codegen_1.str `must NOT have duplicate items (items ## ${j} and ${i} are identical)`,\n    params: ({ params: { i, j } }) => codegen_1._ `{i: ${i}, j: ${j}}`,\n};\nconst def = {\n    keyword: \"uniqueItems\",\n    type: \"array\",\n    schemaType: \"boolean\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, parentSchema, schemaCode, it } = cxt;\n        if (!$data && !schema)\n            return;\n        const valid = gen.let(\"valid\");\n        const itemTypes = parentSchema.items ? dataType_1.getSchemaTypes(parentSchema.items) : [];\n        cxt.block$data(valid, validateUniqueItems, codegen_1._ `${schemaCode} === false`);\n        cxt.ok(valid);\n        function validateUniqueItems() {\n            const i = gen.let(\"i\", codegen_1._ `${data}.length`);\n            const j = gen.let(\"j\");\n            cxt.setParams({ i, j });\n            gen.assign(valid, true);\n            gen.if(codegen_1._ `${i} > 1`, () => (canOptimize() ? loopN : loopN2)(i, j));\n        }\n        function canOptimize() {\n            return itemTypes.length > 0 && !itemTypes.some((t) => t === \"object\" || t === \"array\");\n        }\n        function loopN(i, j) {\n            const item = gen.name(\"item\");\n            const wrongType = dataType_1.checkDataTypes(itemTypes, item, it.opts.strictNumbers, dataType_1.DataType.Wrong);\n            const indices = gen.const(\"indices\", codegen_1._ `{}`);\n            gen.for(codegen_1._ `;${i}--;`, () => {\n                gen.let(item, codegen_1._ `${data}[${i}]`);\n                gen.if(wrongType, codegen_1._ `continue`);\n                if (itemTypes.length > 1)\n                    gen.if(codegen_1._ `typeof ${item} == \"string\"`, codegen_1._ `${item} += \"_\"`);\n                gen\n                    .if(codegen_1._ `typeof ${indices}[${item}] == \"number\"`, () => {\n                    gen.assign(j, codegen_1._ `${indices}[${item}]`);\n                    cxt.error();\n                    gen.assign(valid, false).break();\n                })\n                    .code(codegen_1._ `${indices}[${item}] = ${i}`);\n            });\n        }\n        function loopN2(i, j) {\n            const eql = util_1.useFunc(gen, equal_1.default);\n            const outer = gen.name(\"outer\");\n            gen.label(outer).for(codegen_1._ `;${i}--;`, () => gen.for(codegen_1._ `${j} = ${i}; ${j}--;`, () => gen.if(codegen_1._ `${eql}(${data}[${i}], ${data}[${j}])`, () => {\n                cxt.error();\n                gen.assign(valid, false).break(outer);\n            })));\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=uniqueItems.js.map","'use strict';\nconst isObj = require('is-obj');\n\nconst disallowedKeys = new Set([\n\t'__proto__',\n\t'prototype',\n\t'constructor'\n]);\n\nconst isValidPath = pathSegments => !pathSegments.some(segment => disallowedKeys.has(segment));\n\nfunction getPathSegments(path) {\n\tconst pathArray = path.split('.');\n\tconst parts = [];\n\n\tfor (let i = 0; i < pathArray.length; i++) {\n\t\tlet p = pathArray[i];\n\n\t\twhile (p[p.length - 1] === '\\\\' && pathArray[i + 1] !== undefined) {\n\t\t\tp = p.slice(0, -1) + '.';\n\t\t\tp += pathArray[++i];\n\t\t}\n\n\t\tparts.push(p);\n\t}\n\n\tif (!isValidPath(parts)) {\n\t\treturn [];\n\t}\n\n\treturn parts;\n}\n\nmodule.exports = {\n\tget(object, path, value) {\n\t\tif (!isObj(object) || typeof path !== 'string') {\n\t\t\treturn value === undefined ? object : value;\n\t\t}\n\n\t\tconst pathArray = getPathSegments(path);\n\t\tif (pathArray.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tfor (let i = 0; i < pathArray.length; i++) {\n\t\t\tobject = object[pathArray[i]];\n\n\t\t\tif (object === undefined || object === null) {\n\t\t\t\t// `object` is either `undefined` or `null` so we want to stop the loop, and\n\t\t\t\t// if this is not the last bit of the path, and\n\t\t\t\t// if it did't return `undefined`\n\t\t\t\t// it would return `null` if `object` is `null`\n\t\t\t\t// but we want `get({foo: null}, 'foo.bar')` to equal `undefined`, or the supplied value, not `null`\n\t\t\t\tif (i !== pathArray.length - 1) {\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn object === undefined ? value : object;\n\t},\n\n\tset(object, path, value) {\n\t\tif (!isObj(object) || typeof path !== 'string') {\n\t\t\treturn object;\n\t\t}\n\n\t\tconst root = object;\n\t\tconst pathArray = getPathSegments(path);\n\n\t\tfor (let i = 0; i < pathArray.length; i++) {\n\t\t\tconst p = pathArray[i];\n\n\t\t\tif (!isObj(object[p])) {\n\t\t\t\tobject[p] = {};\n\t\t\t}\n\n\t\t\tif (i === pathArray.length - 1) {\n\t\t\t\tobject[p] = value;\n\t\t\t}\n\n\t\t\tobject = object[p];\n\t\t}\n\n\t\treturn root;\n\t},\n\n\tdelete(object, path) {\n\t\tif (!isObj(object) || typeof path !== 'string') {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst pathArray = getPathSegments(path);\n\n\t\tfor (let i = 0; i < pathArray.length; i++) {\n\t\t\tconst p = pathArray[i];\n\n\t\t\tif (i === pathArray.length - 1) {\n\t\t\t\tdelete object[p];\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tobject = object[p];\n\n\t\t\tif (!isObj(object)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\n\thas(object, path) {\n\t\tif (!isObj(object) || typeof path !== 'string') {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst pathArray = getPathSegments(path);\n\t\tif (pathArray.length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// eslint-disable-next-line unicorn/no-for-loop\n\t\tfor (let i = 0; i < pathArray.length; i++) {\n\t\t\tif (isObj(object)) {\n\t\t\t\tif (!(pathArray[i] in object)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tobject = object[pathArray[i]];\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n};\n","'use strict';\n\nvar traverse = module.exports = function (schema, opts, cb) {\n  // Legacy support for v0.3.1 and earlier.\n  if (typeof opts == 'function') {\n    cb = opts;\n    opts = {};\n  }\n\n  cb = opts.cb || cb;\n  var pre = (typeof cb == 'function') ? cb : cb.pre || function() {};\n  var post = cb.post || function() {};\n\n  _traverse(opts, pre, post, schema, '', schema);\n};\n\n\ntraverse.keywords = {\n  additionalItems: true,\n  items: true,\n  contains: true,\n  additionalProperties: true,\n  propertyNames: true,\n  not: true,\n  if: true,\n  then: true,\n  else: true\n};\n\ntraverse.arrayKeywords = {\n  items: true,\n  allOf: true,\n  anyOf: true,\n  oneOf: true\n};\n\ntraverse.propsKeywords = {\n  $defs: true,\n  definitions: true,\n  properties: true,\n  patternProperties: true,\n  dependencies: true\n};\n\ntraverse.skipKeywords = {\n  default: true,\n  enum: true,\n  const: true,\n  required: true,\n  maximum: true,\n  minimum: true,\n  exclusiveMaximum: true,\n  exclusiveMinimum: true,\n  multipleOf: true,\n  maxLength: true,\n  minLength: true,\n  pattern: true,\n  format: true,\n  maxItems: true,\n  minItems: true,\n  uniqueItems: true,\n  maxProperties: true,\n  minProperties: true\n};\n\n\nfunction _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n  if (schema && typeof schema == 'object' && !Array.isArray(schema)) {\n    pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n    for (var key in schema) {\n      var sch = schema[key];\n      if (Array.isArray(sch)) {\n        if (key in traverse.arrayKeywords) {\n          for (var i=0; i<sch.length; i++)\n            _traverse(opts, pre, post, sch[i], jsonPtr + '/' + key + '/' + i, rootSchema, jsonPtr, key, schema, i);\n        }\n      } else if (key in traverse.propsKeywords) {\n        if (sch && typeof sch == 'object') {\n          for (var prop in sch)\n            _traverse(opts, pre, post, sch[prop], jsonPtr + '/' + key + '/' + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);\n        }\n      } else if (key in traverse.keywords || (opts.allKeys && !(key in traverse.skipKeywords))) {\n        _traverse(opts, pre, post, sch, jsonPtr + '/' + key, rootSchema, jsonPtr, key, schema);\n      }\n    }\n    post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n  }\n}\n\n\nfunction escapeJsonPtr(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n","const ANY = Symbol('SemVer ANY')\n// hoisted class for cyclic dependency\nclass Comparator {\n  static get ANY () {\n    return ANY\n  }\n  constructor (comp, options) {\n    options = parseOptions(options)\n\n    if (comp instanceof Comparator) {\n      if (comp.loose === !!options.loose) {\n        return comp\n      } else {\n        comp = comp.value\n      }\n    }\n\n    debug('comparator', comp, options)\n    this.options = options\n    this.loose = !!options.loose\n    this.parse(comp)\n\n    if (this.semver === ANY) {\n      this.value = ''\n    } else {\n      this.value = this.operator + this.semver.version\n    }\n\n    debug('comp', this)\n  }\n\n  parse (comp) {\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const m = comp.match(r)\n\n    if (!m) {\n      throw new TypeError(`Invalid comparator: ${comp}`)\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : ''\n    if (this.operator === '=') {\n      this.operator = ''\n    }\n\n    // if it literally is just '>' or '' then allow anything.\n    if (!m[2]) {\n      this.semver = ANY\n    } else {\n      this.semver = new SemVer(m[2], this.options.loose)\n    }\n  }\n\n  toString () {\n    return this.value\n  }\n\n  test (version) {\n    debug('Comparator.test', version, this.options.loose)\n\n    if (this.semver === ANY || version === ANY) {\n      return true\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options)\n  }\n\n  intersects (comp, options) {\n    if (!(comp instanceof Comparator)) {\n      throw new TypeError('a Comparator is required')\n    }\n\n    if (!options || typeof options !== 'object') {\n      options = {\n        loose: !!options,\n        includePrerelease: false\n      }\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true\n      }\n      return new Range(comp.value, options).test(this.value)\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true\n      }\n      return new Range(this.value, options).test(comp.semver)\n    }\n\n    const sameDirectionIncreasing =\n      (this.operator === '>=' || this.operator === '>') &&\n      (comp.operator === '>=' || comp.operator === '>')\n    const sameDirectionDecreasing =\n      (this.operator === '<=' || this.operator === '<') &&\n      (comp.operator === '<=' || comp.operator === '<')\n    const sameSemVer = this.semver.version === comp.semver.version\n    const differentDirectionsInclusive =\n      (this.operator === '>=' || this.operator === '<=') &&\n      (comp.operator === '>=' || comp.operator === '<=')\n    const oppositeDirectionsLessThan =\n      cmp(this.semver, '<', comp.semver, options) &&\n      (this.operator === '>=' || this.operator === '>') &&\n        (comp.operator === '<=' || comp.operator === '<')\n    const oppositeDirectionsGreaterThan =\n      cmp(this.semver, '>', comp.semver, options) &&\n      (this.operator === '<=' || this.operator === '<') &&\n        (comp.operator === '>=' || comp.operator === '>')\n\n    return (\n      sameDirectionIncreasing ||\n      sameDirectionDecreasing ||\n      (sameSemVer && differentDirectionsInclusive) ||\n      oppositeDirectionsLessThan ||\n      oppositeDirectionsGreaterThan\n    )\n  }\n}\n\nmodule.exports = Comparator\n\nconst parseOptions = require('../internal/parse-options')\nconst {re, t} = require('../internal/re')\nconst cmp = require('../functions/cmp')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst Range = require('./range')\n","// hoisted class for cyclic dependency\nclass Range {\n  constructor (range, options) {\n    options = parseOptions(options)\n\n    if (range instanceof Range) {\n      if (\n        range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease\n      ) {\n        return range\n      } else {\n        return new Range(range.raw, options)\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value\n      this.set = [[range]]\n      this.format()\n      return this\n    }\n\n    this.options = options\n    this.loose = !!options.loose\n    this.includePrerelease = !!options.includePrerelease\n\n    // First, split based on boolean or ||\n    this.raw = range\n    this.set = range\n      .split(/\\s*\\|\\|\\s*/)\n      // map the range to a 2d array of comparators\n      .map(range => this.parseRange(range.trim()))\n      // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(c => c.length)\n\n    if (!this.set.length) {\n      throw new TypeError(`Invalid SemVer Range: ${range}`)\n    }\n\n    // if we have any that are not the null set, throw out null sets.\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      const first = this.set[0]\n      this.set = this.set.filter(c => !isNullSet(c[0]))\n      if (this.set.length === 0)\n        this.set = [first]\n      else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        for (const c of this.set) {\n          if (c.length === 1 && isAny(c[0])) {\n            this.set = [c]\n            break\n          }\n        }\n      }\n    }\n\n    this.format()\n  }\n\n  format () {\n    this.range = this.set\n      .map((comps) => {\n        return comps.join(' ').trim()\n      })\n      .join('||')\n      .trim()\n    return this.range\n  }\n\n  toString () {\n    return this.range\n  }\n\n  parseRange (range) {\n    range = range.trim()\n\n    // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n    const memoOpts = Object.keys(this.options).join(',')\n    const memoKey = `parseRange:${memoOpts}:${range}`\n    const cached = cache.get(memoKey)\n    if (cached)\n      return cached\n\n    const loose = this.options.loose\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\n    debug('hyphen replace', range)\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n    debug('comparator trim', range, re[t.COMPARATORTRIM])\n\n    // `~ 1.2.3` => `~1.2.3`\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n\n    // `^ 1.2.3` => `^1.2.3`\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n\n    // normalize spaces\n    range = range.split(/\\s+/).join(' ')\n\n    // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    const compRe = loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const rangeList = range\n      .split(' ')\n      .map(comp => parseComparator(comp, this.options))\n      .join(' ')\n      .split(/\\s+/)\n      // >=0.0.0 is equivalent to *\n      .map(comp => replaceGTE0(comp, this.options))\n      // in loose mode, throw out any that are not valid comparators\n      .filter(this.options.loose ? comp => !!comp.match(compRe) : () => true)\n      .map(comp => new Comparator(comp, this.options))\n\n    // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n    const l = rangeList.length\n    const rangeMap = new Map()\n    for (const comp of rangeList) {\n      if (isNullSet(comp))\n        return [comp]\n      rangeMap.set(comp.value, comp)\n    }\n    if (rangeMap.size > 1 && rangeMap.has(''))\n      rangeMap.delete('')\n\n    const result = [...rangeMap.values()]\n    cache.set(memoKey, result)\n    return result\n  }\n\n  intersects (range, options) {\n    if (!(range instanceof Range)) {\n      throw new TypeError('a Range is required')\n    }\n\n    return this.set.some((thisComparators) => {\n      return (\n        isSatisfiable(thisComparators, options) &&\n        range.set.some((rangeComparators) => {\n          return (\n            isSatisfiable(rangeComparators, options) &&\n            thisComparators.every((thisComparator) => {\n              return rangeComparators.every((rangeComparator) => {\n                return thisComparator.intersects(rangeComparator, options)\n              })\n            })\n          )\n        })\n      )\n    })\n  }\n\n  // if ANY of the sets match ALL of its comparators, then pass\n  test (version) {\n    if (!version) {\n      return false\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    for (let i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true\n      }\n    }\n    return false\n  }\n}\nmodule.exports = Range\n\nconst LRU = require('lru-cache')\nconst cache = new LRU({ max: 1000 })\n\nconst parseOptions = require('../internal/parse-options')\nconst Comparator = require('./comparator')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst {\n  re,\n  t,\n  comparatorTrimReplace,\n  tildeTrimReplace,\n  caretTrimReplace\n} = require('../internal/re')\n\nconst isNullSet = c => c.value === '<0.0.0-0'\nconst isAny = c => c.value === ''\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nconst isSatisfiable = (comparators, options) => {\n  let result = true\n  const remainingComparators = comparators.slice()\n  let testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every((otherComparator) => {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nconst parseComparator = (comp, options) => {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\nconst replaceTildes = (comp, options) =>\n  comp.trim().split(/\\s+/).map((comp) => {\n    return replaceTilde(comp, options)\n  }).join(' ')\n\nconst replaceTilde = (comp, options) => {\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = `>=${M}.${m}.${p}-${pr\n      } <${M}.${+m + 1}.0-0`\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = `>=${M}.${m}.${p\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\nconst replaceCarets = (comp, options) =>\n  comp.trim().split(/\\s+/).map((comp) => {\n    return replaceCaret(comp, options)\n  }).join(' ')\n\nconst replaceCaret = (comp, options) => {\n  debug('caret', comp, options)\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  const z = options.includePrerelease ? '-0' : ''\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\n      } else {\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p}-${pr\n        } <${+M + 1}.0.0-0`\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p\n        } <${+M + 1}.0.0-0`\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nconst replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map((comp) => {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nconst replaceXRange = (comp, options) => {\n  comp = comp.trim()\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    const xM = isX(M)\n    const xm = xM || isX(m)\n    const xp = xm || isX(p)\n    const anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      if (gtlt === '<')\n        pr = '-0'\n\n      ret = `${gtlt + M}.${m}.${p}${pr}`\n    } else if (xm) {\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\n    } else if (xp) {\n      ret = `>=${M}.${m}.0${pr\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nconst replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[t.STAR], '')\n}\n\nconst replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options)\n  return comp.trim()\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\nconst hyphenReplace = incPr => ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) => {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\n  } else if (isX(fp)) {\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\n  } else if (fpr) {\n    from = `>=${from}`\n  } else {\n    from = `>=${from}${incPr ? '-0' : ''}`\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = `<${+tM + 1}.0.0-0`\n  } else if (isX(tp)) {\n    to = `<${tM}.${+tm + 1}.0-0`\n  } else if (tpr) {\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\n  } else if (incPr) {\n    to = `<${tM}.${tm}.${+tp + 1}-0`\n  } else {\n    to = `<=${to}`\n  }\n\n  return (`${from} ${to}`).trim()\n}\n\nconst testSet = (set, version, options) => {\n  for (let i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (let i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === Comparator.ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        const allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n","const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n          version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier)\n        this.inc('pre', identifier)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier)\n        }\n        this.inc('pre', identifier)\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre':\n        if (this.prerelease.length === 0) {\n          this.prerelease = [0]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            this.prerelease.push(0)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          if (this.prerelease[0] === identifier) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = [identifier, 0]\n            }\n          } else {\n            this.prerelease = [identifier, 0]\n          }\n        }\n        break\n\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.format()\n    this.raw = this.version\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","const parse = require('./parse')\nconst clean = (version, options) => {\n  const s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\nmodule.exports = clean\n","const eq = require('./eq')\nconst neq = require('./neq')\nconst gt = require('./gt')\nconst gte = require('./gte')\nconst lt = require('./lt')\nconst lte = require('./lte')\n\nconst cmp = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError(`Invalid operator: ${op}`)\n  }\n}\nmodule.exports = cmp\n","const SemVer = require('../classes/semver')\nconst parse = require('./parse')\nconst {re, t} = require('../internal/re')\n\nconst coerce = (version, options) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  let match = null\n  if (!options.rtl) {\n    match = version.match(re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    let next\n    while ((next = re[t.COERCERTL].exec(version)) &&\n        (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n            next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      re[t.COERCERTL].lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    re[t.COERCERTL].lastIndex = -1\n  }\n\n  if (match === null)\n    return null\n\n  return parse(`${match[2]}.${match[3] || '0'}.${match[4] || '0'}`, options)\n}\nmodule.exports = coerce\n","const SemVer = require('../classes/semver')\nconst compareBuild = (a, b, loose) => {\n  const versionA = new SemVer(a, loose)\n  const versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\nmodule.exports = compareBuild\n","const compare = require('./compare')\nconst compareLoose = (a, b) => compare(a, b, true)\nmodule.exports = compareLoose\n","const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","const parse = require('./parse')\nconst eq = require('./eq')\n\nconst diff = (version1, version2) => {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    const v1 = parse(version1)\n    const v2 = parse(version2)\n    const hasPre = v1.prerelease.length || v2.prerelease.length\n    const prefix = hasPre ? 'pre' : ''\n    const defaultResult = hasPre ? 'prerelease' : ''\n    for (const key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\nmodule.exports = diff\n","const compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n","const compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n","const compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n","const SemVer = require('../classes/semver')\n\nconst inc = (version, release, options, identifier) => {\n  if (typeof (options) === 'string') {\n    identifier = options\n    options = undefined\n  }\n\n  try {\n    return new SemVer(version, options).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = inc\n","const compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n","const compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n","const SemVer = require('../classes/semver')\nconst major = (a, loose) => new SemVer(a, loose).major\nmodule.exports = major\n","const SemVer = require('../classes/semver')\nconst minor = (a, loose) => new SemVer(a, loose).minor\nmodule.exports = minor\n","const compare = require('./compare')\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\nmodule.exports = neq\n","const {MAX_LENGTH} = require('../internal/constants')\nconst { re, t } = require('../internal/re')\nconst SemVer = require('../classes/semver')\n\nconst parseOptions = require('../internal/parse-options')\nconst parse = (version, options) => {\n  options = parseOptions(options)\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  const r = options.loose ? re[t.LOOSE] : re[t.FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nmodule.exports = parse\n","const SemVer = require('../classes/semver')\nconst patch = (a, loose) => new SemVer(a, loose).patch\nmodule.exports = patch\n","const parse = require('./parse')\nconst prerelease = (version, options) => {\n  const parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\nmodule.exports = prerelease\n","const compare = require('./compare')\nconst rcompare = (a, b, loose) => compare(b, a, loose)\nmodule.exports = rcompare\n","const compareBuild = require('./compare-build')\nconst rsort = (list, loose) => list.sort((a, b) => compareBuild(b, a, loose))\nmodule.exports = rsort\n","const Range = require('../classes/range')\nconst satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\nmodule.exports = satisfies\n","const compareBuild = require('./compare-build')\nconst sort = (list, loose) => list.sort((a, b) => compareBuild(a, b, loose))\nmodule.exports = sort\n","const parse = require('./parse')\nconst valid = (version, options) => {\n  const v = parse(version, options)\n  return v ? v.version : null\n}\nmodule.exports = valid\n","// just pre-load all the stuff that index.js lazily exports\nconst internalRe = require('./internal/re')\nmodule.exports = {\n  re: internalRe.re,\n  src: internalRe.src,\n  tokens: internalRe.t,\n  SEMVER_SPEC_VERSION: require('./internal/constants').SEMVER_SPEC_VERSION,\n  SemVer: require('./classes/semver'),\n  compareIdentifiers: require('./internal/identifiers').compareIdentifiers,\n  rcompareIdentifiers: require('./internal/identifiers').rcompareIdentifiers,\n  parse: require('./functions/parse'),\n  valid: require('./functions/valid'),\n  clean: require('./functions/clean'),\n  inc: require('./functions/inc'),\n  diff: require('./functions/diff'),\n  major: require('./functions/major'),\n  minor: require('./functions/minor'),\n  patch: require('./functions/patch'),\n  prerelease: require('./functions/prerelease'),\n  compare: require('./functions/compare'),\n  rcompare: require('./functions/rcompare'),\n  compareLoose: require('./functions/compare-loose'),\n  compareBuild: require('./functions/compare-build'),\n  sort: require('./functions/sort'),\n  rsort: require('./functions/rsort'),\n  gt: require('./functions/gt'),\n  lt: require('./functions/lt'),\n  eq: require('./functions/eq'),\n  neq: require('./functions/neq'),\n  gte: require('./functions/gte'),\n  lte: require('./functions/lte'),\n  cmp: require('./functions/cmp'),\n  coerce: require('./functions/coerce'),\n  Comparator: require('./classes/comparator'),\n  Range: require('./classes/range'),\n  satisfies: require('./functions/satisfies'),\n  toComparators: require('./ranges/to-comparators'),\n  maxSatisfying: require('./ranges/max-satisfying'),\n  minSatisfying: require('./ranges/min-satisfying'),\n  minVersion: require('./ranges/min-version'),\n  validRange: require('./ranges/valid'),\n  outside: require('./ranges/outside'),\n  gtr: require('./ranges/gtr'),\n  ltr: require('./ranges/ltr'),\n  intersects: require('./ranges/intersects'),\n  simplifyRange: require('./ranges/simplify'),\n  subset: require('./ranges/subset'),\n}\n","// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\nmodule.exports = {\n  SEMVER_SPEC_VERSION,\n  MAX_LENGTH,\n  MAX_SAFE_INTEGER,\n  MAX_SAFE_COMPONENT_LENGTH\n}\n","const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers\n}\n","// parse out just the options we care about so we always get a consistent\n// obj with keys in a consistent order.\nconst opts = ['includePrerelease', 'loose', 'rtl']\nconst parseOptions = options =>\n  !options ? {}\n  : typeof options !== 'object' ? { loose: true }\n  : opts.filter(k => options[k]).reduce((options, k) => {\n    options[k] = true\n    return options\n  }, {})\nmodule.exports = parseOptions\n","const { MAX_SAFE_COMPONENT_LENGTH } = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst createToken = (name, value, isGlobal) => {\n  const index = R++\n  debug(index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '[0-9]+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*')\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', '[0-9A-Za-z-]+')\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCE', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\.0\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\.0\\.0-0\\\\s*$')\n","// Determine if version is greater than all the versions possible in the range.\nconst outside = require('./outside')\nconst gtr = (version, range, options) => outside(version, range, '>', options)\nmodule.exports = gtr\n","const Range = require('../classes/range')\nconst intersects = (r1, r2, options) => {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\nmodule.exports = intersects\n","const outside = require('./outside')\n// Determine if version is less than all the versions possible in the range\nconst ltr = (version, range, options) => outside(version, range, '<', options)\nmodule.exports = ltr\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\n\nconst maxSatisfying = (versions, range, options) => {\n  let max = null\n  let maxSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\nmodule.exports = maxSatisfying\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst minSatisfying = (versions, range, options) => {\n  let min = null\n  let minSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\nmodule.exports = minSatisfying\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst gt = require('../functions/gt')\n\nconst minVersion = (range, loose) => {\n  range = new Range(range, loose)\n\n  let minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let setMin = null\n    comparators.forEach((comparator) => {\n      // Clone to avoid manipulating the comparator's semver object.\n      const compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!setMin || gt(compver, setMin)) {\n            setMin = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error(`Unexpected operation: ${comparator.operator}`)\n      }\n    })\n    if (setMin && (!minver || gt(minver, setMin)))\n      minver = setMin\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\nmodule.exports = minVersion\n","const SemVer = require('../classes/semver')\nconst Comparator = require('../classes/comparator')\nconst {ANY} = Comparator\nconst Range = require('../classes/range')\nconst satisfies = require('../functions/satisfies')\nconst gt = require('../functions/gt')\nconst lt = require('../functions/lt')\nconst lte = require('../functions/lte')\nconst gte = require('../functions/gte')\n\nconst outside = (version, range, hilo, options) => {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  let gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisfies the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let high = null\n    let low = null\n\n    comparators.forEach((comparator) => {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nmodule.exports = outside\n","// given a set of versions and a range, create a \"simplified\" range\n// that includes the same versions that the original range does\n// If the original range is shorter than the simplified one, return that.\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\nmodule.exports = (versions, range, options) => {\n  const set = []\n  let min = null\n  let prev = null\n  const v = versions.sort((a, b) => compare(a, b, options))\n  for (const version of v) {\n    const included = satisfies(version, range, options)\n    if (included) {\n      prev = version\n      if (!min)\n        min = version\n    } else {\n      if (prev) {\n        set.push([min, prev])\n      }\n      prev = null\n      min = null\n    }\n  }\n  if (min)\n    set.push([min, null])\n\n  const ranges = []\n  for (const [min, max] of set) {\n    if (min === max)\n      ranges.push(min)\n    else if (!max && min === v[0])\n      ranges.push('*')\n    else if (!max)\n      ranges.push(`>=${min}`)\n    else if (min === v[0])\n      ranges.push(`<=${max}`)\n    else\n      ranges.push(`${min} - ${max}`)\n  }\n  const simplified = ranges.join(' || ')\n  const original = typeof range.raw === 'string' ? range.raw : String(range)\n  return simplified.length < original.length ? simplified : range\n}\n","const Range = require('../classes/range.js')\nconst Comparator = require('../classes/comparator.js')\nconst { ANY } = Comparator\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\n\n// Complex range `r1 || r2 || ...` is a subset of `R1 || R2 || ...` iff:\n// - Every simple range `r1, r2, ...` is a null set, OR\n// - Every simple range `r1, r2, ...` which is not a null set is a subset of\n//   some `R1, R2, ...`\n//\n// Simple range `c1 c2 ...` is a subset of simple range `C1 C2 ...` iff:\n// - If c is only the ANY comparator\n//   - If C is only the ANY comparator, return true\n//   - Else if in prerelease mode, return false\n//   - else replace c with `[>=0.0.0]`\n// - If C is only the ANY comparator\n//   - if in prerelease mode, return true\n//   - else replace C with `[>=0.0.0]`\n// - Let EQ be the set of = comparators in c\n// - If EQ is more than one, return true (null set)\n// - Let GT be the highest > or >= comparator in c\n// - Let LT be the lowest < or <= comparator in c\n// - If GT and LT, and GT.semver > LT.semver, return true (null set)\n// - If any C is a = range, and GT or LT are set, return false\n// - If EQ\n//   - If GT, and EQ does not satisfy GT, return true (null set)\n//   - If LT, and EQ does not satisfy LT, return true (null set)\n//   - If EQ satisfies every C, return true\n//   - Else return false\n// - If GT\n//   - If GT.semver is lower than any > or >= comp in C, return false\n//   - If GT is >=, and GT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the GT.semver tuple, return false\n// - If LT\n//   - If LT.semver is greater than any < or <= comp in C, return false\n//   - If LT is <=, and LT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the LT.semver tuple, return false\n// - Else return true\n\nconst subset = (sub, dom, options = {}) => {\n  if (sub === dom)\n    return true\n\n  sub = new Range(sub, options)\n  dom = new Range(dom, options)\n  let sawNonNull = false\n\n  OUTER: for (const simpleSub of sub.set) {\n    for (const simpleDom of dom.set) {\n      const isSub = simpleSubset(simpleSub, simpleDom, options)\n      sawNonNull = sawNonNull || isSub !== null\n      if (isSub)\n        continue OUTER\n    }\n    // the null set is a subset of everything, but null simple ranges in\n    // a complex range should be ignored.  so if we saw a non-null range,\n    // then we know this isn't a subset, but if EVERY simple range was null,\n    // then it is a subset.\n    if (sawNonNull)\n      return false\n  }\n  return true\n}\n\nconst simpleSubset = (sub, dom, options) => {\n  if (sub === dom)\n    return true\n\n  if (sub.length === 1 && sub[0].semver === ANY) {\n    if (dom.length === 1 && dom[0].semver === ANY)\n      return true\n    else if (options.includePrerelease)\n      sub = [ new Comparator('>=0.0.0-0') ]\n    else\n      sub = [ new Comparator('>=0.0.0') ]\n  }\n\n  if (dom.length === 1 && dom[0].semver === ANY) {\n    if (options.includePrerelease)\n      return true\n    else\n      dom = [ new Comparator('>=0.0.0') ]\n  }\n\n  const eqSet = new Set()\n  let gt, lt\n  for (const c of sub) {\n    if (c.operator === '>' || c.operator === '>=')\n      gt = higherGT(gt, c, options)\n    else if (c.operator === '<' || c.operator === '<=')\n      lt = lowerLT(lt, c, options)\n    else\n      eqSet.add(c.semver)\n  }\n\n  if (eqSet.size > 1)\n    return null\n\n  let gtltComp\n  if (gt && lt) {\n    gtltComp = compare(gt.semver, lt.semver, options)\n    if (gtltComp > 0)\n      return null\n    else if (gtltComp === 0 && (gt.operator !== '>=' || lt.operator !== '<='))\n      return null\n  }\n\n  // will iterate one or zero times\n  for (const eq of eqSet) {\n    if (gt && !satisfies(eq, String(gt), options))\n      return null\n\n    if (lt && !satisfies(eq, String(lt), options))\n      return null\n\n    for (const c of dom) {\n      if (!satisfies(eq, String(c), options))\n        return false\n    }\n\n    return true\n  }\n\n  let higher, lower\n  let hasDomLT, hasDomGT\n  // if the subset has a prerelease, we need a comparator in the superset\n  // with the same tuple and a prerelease, or it's not a subset\n  let needDomLTPre = lt &&\n    !options.includePrerelease &&\n    lt.semver.prerelease.length ? lt.semver : false\n  let needDomGTPre = gt &&\n    !options.includePrerelease &&\n    gt.semver.prerelease.length ? gt.semver : false\n  // exception: <1.2.3-0 is the same as <1.2.3\n  if (needDomLTPre && needDomLTPre.prerelease.length === 1 &&\n      lt.operator === '<' && needDomLTPre.prerelease[0] === 0) {\n    needDomLTPre = false\n  }\n\n  for (const c of dom) {\n    hasDomGT = hasDomGT || c.operator === '>' || c.operator === '>='\n    hasDomLT = hasDomLT || c.operator === '<' || c.operator === '<='\n    if (gt) {\n      if (needDomGTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomGTPre.major &&\n            c.semver.minor === needDomGTPre.minor &&\n            c.semver.patch === needDomGTPre.patch) {\n          needDomGTPre = false\n        }\n      }\n      if (c.operator === '>' || c.operator === '>=') {\n        higher = higherGT(gt, c, options)\n        if (higher === c && higher !== gt)\n          return false\n      } else if (gt.operator === '>=' && !satisfies(gt.semver, String(c), options))\n        return false\n    }\n    if (lt) {\n      if (needDomLTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomLTPre.major &&\n            c.semver.minor === needDomLTPre.minor &&\n            c.semver.patch === needDomLTPre.patch) {\n          needDomLTPre = false\n        }\n      }\n      if (c.operator === '<' || c.operator === '<=') {\n        lower = lowerLT(lt, c, options)\n        if (lower === c && lower !== lt)\n          return false\n      } else if (lt.operator === '<=' && !satisfies(lt.semver, String(c), options))\n        return false\n    }\n    if (!c.operator && (lt || gt) && gtltComp !== 0)\n      return false\n  }\n\n  // if there was a < or >, and nothing in the dom, then must be false\n  // UNLESS it was limited by another range in the other direction.\n  // Eg, >1.0.0 <1.0.1 is still a subset of <2.0.0\n  if (gt && hasDomLT && !lt && gtltComp !== 0)\n    return false\n\n  if (lt && hasDomGT && !gt && gtltComp !== 0)\n    return false\n\n  // we needed a prerelease range in a specific tuple, but didn't get one\n  // then this isn't a subset.  eg >=1.2.3-pre is not a subset of >=1.0.0,\n  // because it includes prereleases in the 1.2.3 tuple\n  if (needDomGTPre || needDomLTPre)\n    return false\n\n  return true\n}\n\n// >=1.2.3 is lower than >1.2.3\nconst higherGT = (a, b, options) => {\n  if (!a)\n    return b\n  const comp = compare(a.semver, b.semver, options)\n  return comp > 0 ? a\n    : comp < 0 ? b\n    : b.operator === '>' && a.operator === '>=' ? b\n    : a\n}\n\n// <=1.2.3 is higher than <1.2.3\nconst lowerLT = (a, b, options) => {\n  if (!a)\n    return b\n  const comp = compare(a.semver, b.semver, options)\n  return comp < 0 ? a\n    : comp > 0 ? b\n    : b.operator === '<' && a.operator === '<=' ? b\n    : a\n}\n\nmodule.exports = subset\n","const Range = require('../classes/range')\n\n// Mostly just for testing and legacy API reasons\nconst toComparators = (range, options) =>\n  new Range(range, options).set\n    .map(comp => comp.map(c => c.value).join(' ').trim().split(' '))\n\nmodule.exports = toComparators\n","const Range = require('../classes/range')\nconst validRange = (range, options) => {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = validRange\n","'use strict';\nconst mimicFn = require('mimic-fn');\n\nmodule.exports = (inputFunction, options = {}) => {\n\tif (typeof inputFunction !== 'function') {\n\t\tthrow new TypeError(`Expected the first argument to be a function, got \\`${typeof inputFunction}\\``);\n\t}\n\n\tconst {\n\t\twait = 0,\n\t\tbefore = false,\n\t\tafter = true\n\t} = options;\n\n\tif (!before && !after) {\n\t\tthrow new Error('Both `before` and `after` are false, function wouldn\\'t be called.');\n\t}\n\n\tlet timeout;\n\tlet result;\n\n\tconst debouncedFunction = function (...arguments_) {\n\t\tconst context = this;\n\n\t\tconst later = () => {\n\t\t\ttimeout = undefined;\n\n\t\t\tif (after) {\n\t\t\t\tresult = inputFunction.apply(context, arguments_);\n\t\t\t}\n\t\t};\n\n\t\tconst shouldCallNow = before && !timeout;\n\t\tclearTimeout(timeout);\n\t\ttimeout = setTimeout(later, wait);\n\n\t\tif (shouldCallNow) {\n\t\t\tresult = inputFunction.apply(context, arguments_);\n\t\t}\n\n\t\treturn result;\n\t};\n\n\tmimicFn(debouncedFunction, inputFunction);\n\n\tdebouncedFunction.cancel = () => {\n\t\tif (timeout) {\n\t\t\tclearTimeout(timeout);\n\t\t\ttimeout = undefined;\n\t\t}\n\t};\n\n\treturn debouncedFunction;\n};\n","'use strict';\n\nconst copyProperty = (to, from, property, ignoreNonConfigurable) => {\n\t// `Function#length` should reflect the parameters of `to` not `from` since we keep its body.\n\t// `Function#prototype` is non-writable and non-configurable so can never be modified.\n\tif (property === 'length' || property === 'prototype') {\n\t\treturn;\n\t}\n\n\t// `Function#arguments` and `Function#caller` should not be copied. They were reported to be present in `Reflect.ownKeys` for some devices in React Native (#41), so we explicitly ignore them here.\n\tif (property === 'arguments' || property === 'caller') {\n\t\treturn;\n\t}\n\n\tconst toDescriptor = Object.getOwnPropertyDescriptor(to, property);\n\tconst fromDescriptor = Object.getOwnPropertyDescriptor(from, property);\n\n\tif (!canCopyProperty(toDescriptor, fromDescriptor) && ignoreNonConfigurable) {\n\t\treturn;\n\t}\n\n\tObject.defineProperty(to, property, fromDescriptor);\n};\n\n// `Object.defineProperty()` throws if the property exists, is not configurable and either:\n//  - one its descriptors is changed\n//  - it is non-writable and its value is changed\nconst canCopyProperty = function (toDescriptor, fromDescriptor) {\n\treturn toDescriptor === undefined || toDescriptor.configurable || (\n\t\ttoDescriptor.writable === fromDescriptor.writable &&\n\t\ttoDescriptor.enumerable === fromDescriptor.enumerable &&\n\t\ttoDescriptor.configurable === fromDescriptor.configurable &&\n\t\t(toDescriptor.writable || toDescriptor.value === fromDescriptor.value)\n\t);\n};\n\nconst changePrototype = (to, from) => {\n\tconst fromPrototype = Object.getPrototypeOf(from);\n\tif (fromPrototype === Object.getPrototypeOf(to)) {\n\t\treturn;\n\t}\n\n\tObject.setPrototypeOf(to, fromPrototype);\n};\n\nconst wrappedToString = (withName, fromBody) => `/* Wrapped ${withName}*/\\n${fromBody}`;\n\nconst toStringDescriptor = Object.getOwnPropertyDescriptor(Function.prototype, 'toString');\nconst toStringName = Object.getOwnPropertyDescriptor(Function.prototype.toString, 'name');\n\n// We call `from.toString()` early (not lazily) to ensure `from` can be garbage collected.\n// We use `bind()` instead of a closure for the same reason.\n// Calling `from.toString()` early also allows caching it in case `to.toString()` is called several times.\nconst changeToString = (to, from, name) => {\n\tconst withName = name === '' ? '' : `with ${name.trim()}() `;\n\tconst newToString = wrappedToString.bind(null, withName, from.toString());\n\t// Ensure `to.toString.toString` is non-enumerable and has the same `same`\n\tObject.defineProperty(newToString, 'name', toStringName);\n\tObject.defineProperty(to, 'toString', {...toStringDescriptor, value: newToString});\n};\n\nconst mimicFn = (to, from, {ignoreNonConfigurable = false} = {}) => {\n\tconst {name} = to;\n\n\tfor (const property of Reflect.ownKeys(from)) {\n\t\tcopyProperty(to, from, property, ignoreNonConfigurable);\n\t}\n\n\tchangePrototype(to, from);\n\tchangeToString(to, from, name);\n\n\treturn to;\n};\n\nmodule.exports = mimicFn;\n","'use strict';\nconst path = require('path');\nconst {app, ipcMain, ipcRenderer, shell} = require('electron');\nconst Conf = require('conf');\n\nlet isInitialized = false;\n\n// Set up the `ipcMain` handler for communication between renderer and main process.\nconst initDataListener = () => {\n\tif (!ipcMain || !app) {\n\t\tthrow new Error('Electron Store: You need to call `.initRenderer()` from the main process.');\n\t}\n\n\tconst appData = {\n\t\tdefaultCwd: app.getPath('userData'),\n\t\tappVersion: app.getVersion()\n\t};\n\n\tif (isInitialized) {\n\t\treturn appData;\n\t}\n\n\tipcMain.on('electron-store-get-data', event => {\n\t\tevent.returnValue = appData;\n\t});\n\n\tisInitialized = true;\n\n\treturn appData;\n};\n\nclass ElectronStore extends Conf {\n\tconstructor(options) {\n\t\tlet defaultCwd;\n\t\tlet appVersion;\n\n\t\t// If we are in the renderer process, we communicate with the main process\n\t\t// to get the required data for the module otherwise, we pull from the main process.\n\t\tif (ipcRenderer) {\n\t\t\tconst appData = ipcRenderer.sendSync('electron-store-get-data');\n\n\t\t\tif (!appData) {\n\t\t\t\tthrow new Error('Electron Store: You need to call `.initRenderer()` from the main process.');\n\t\t\t}\n\n\t\t\t({defaultCwd, appVersion} = appData);\n\t\t} else if (ipcMain && app) {\n\t\t\t({defaultCwd, appVersion} = initDataListener());\n\t\t}\n\n\t\toptions = {\n\t\t\tname: 'config',\n\t\t\t...options\n\t\t};\n\n\t\tif (!options.projectVersion) {\n\t\t\toptions.projectVersion = appVersion;\n\t\t}\n\n\t\tif (options.cwd) {\n\t\t\toptions.cwd = path.isAbsolute(options.cwd) ? options.cwd : path.join(defaultCwd, options.cwd);\n\t\t} else {\n\t\t\toptions.cwd = defaultCwd;\n\t\t}\n\n\t\toptions.configName = options.name;\n\t\tdelete options.name;\n\n\t\tsuper(options);\n\t}\n\n\tstatic initRenderer() {\n\t\tinitDataListener();\n\t}\n\n\topenInEditor() {\n\t\tshell.openPath(this.path);\n\t}\n}\n\nmodule.exports = ElectronStore;\n","'use strict';\nconst path = require('path');\nconst os = require('os');\n\nconst homedir = os.homedir();\nconst tmpdir = os.tmpdir();\nconst {env} = process;\n\nconst macos = name => {\n\tconst library = path.join(homedir, 'Library');\n\n\treturn {\n\t\tdata: path.join(library, 'Application Support', name),\n\t\tconfig: path.join(library, 'Preferences', name),\n\t\tcache: path.join(library, 'Caches', name),\n\t\tlog: path.join(library, 'Logs', name),\n\t\ttemp: path.join(tmpdir, name)\n\t};\n};\n\nconst windows = name => {\n\tconst appData = env.APPDATA || path.join(homedir, 'AppData', 'Roaming');\n\tconst localAppData = env.LOCALAPPDATA || path.join(homedir, 'AppData', 'Local');\n\n\treturn {\n\t\t// Data/config/cache/log are invented by me as Windows isn't opinionated about this\n\t\tdata: path.join(localAppData, name, 'Data'),\n\t\tconfig: path.join(appData, name, 'Config'),\n\t\tcache: path.join(localAppData, name, 'Cache'),\n\t\tlog: path.join(localAppData, name, 'Log'),\n\t\ttemp: path.join(tmpdir, name)\n\t};\n};\n\n// https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html\nconst linux = name => {\n\tconst username = path.basename(homedir);\n\n\treturn {\n\t\tdata: path.join(env.XDG_DATA_HOME || path.join(homedir, '.local', 'share'), name),\n\t\tconfig: path.join(env.XDG_CONFIG_HOME || path.join(homedir, '.config'), name),\n\t\tcache: path.join(env.XDG_CACHE_HOME || path.join(homedir, '.cache'), name),\n\t\t// https://wiki.debian.org/XDGBaseDirectorySpecification#state\n\t\tlog: path.join(env.XDG_STATE_HOME || path.join(homedir, '.local', 'state'), name),\n\t\ttemp: path.join(tmpdir, username, name)\n\t};\n};\n\nconst envPaths = (name, options) => {\n\tif (typeof name !== 'string') {\n\t\tthrow new TypeError(`Expected string, got ${typeof name}`);\n\t}\n\n\toptions = Object.assign({suffix: 'nodejs'}, options);\n\n\tif (options.suffix) {\n\t\t// Add suffix to prevent possible conflict with native apps\n\t\tname += `-${options.suffix}`;\n\t}\n\n\tif (process.platform === 'darwin') {\n\t\treturn macos(name);\n\t}\n\n\tif (process.platform === 'win32') {\n\t\treturn windows(name);\n\t}\n\n\treturn linux(name);\n};\n\nmodule.exports = envPaths;\n// TODO: Remove this for the next major release\nmodule.exports.default = envPaths;\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","'use strict';\n\nmodule.exports = value => {\n\tconst type = typeof value;\n\treturn value !== null && (type === 'object' || type === 'function');\n};\n","'use strict'\n\n// A linked list to keep track of recently-used-ness\nconst Yallist = require('yallist')\n\nconst MAX = Symbol('max')\nconst LENGTH = Symbol('length')\nconst LENGTH_CALCULATOR = Symbol('lengthCalculator')\nconst ALLOW_STALE = Symbol('allowStale')\nconst MAX_AGE = Symbol('maxAge')\nconst DISPOSE = Symbol('dispose')\nconst NO_DISPOSE_ON_SET = Symbol('noDisposeOnSet')\nconst LRU_LIST = Symbol('lruList')\nconst CACHE = Symbol('cache')\nconst UPDATE_AGE_ON_GET = Symbol('updateAgeOnGet')\n\nconst naiveLength = () => 1\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nclass LRUCache {\n  constructor (options) {\n    if (typeof options === 'number')\n      options = { max: options }\n\n    if (!options)\n      options = {}\n\n    if (options.max && (typeof options.max !== 'number' || options.max < 0))\n      throw new TypeError('max must be a non-negative number')\n    // Kind of weird to have a default max of Infinity, but oh well.\n    const max = this[MAX] = options.max || Infinity\n\n    const lc = options.length || naiveLength\n    this[LENGTH_CALCULATOR] = (typeof lc !== 'function') ? naiveLength : lc\n    this[ALLOW_STALE] = options.stale || false\n    if (options.maxAge && typeof options.maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n    this[MAX_AGE] = options.maxAge || 0\n    this[DISPOSE] = options.dispose\n    this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\n    this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false\n    this.reset()\n  }\n\n  // resize the cache when the max changes.\n  set max (mL) {\n    if (typeof mL !== 'number' || mL < 0)\n      throw new TypeError('max must be a non-negative number')\n\n    this[MAX] = mL || Infinity\n    trim(this)\n  }\n  get max () {\n    return this[MAX]\n  }\n\n  set allowStale (allowStale) {\n    this[ALLOW_STALE] = !!allowStale\n  }\n  get allowStale () {\n    return this[ALLOW_STALE]\n  }\n\n  set maxAge (mA) {\n    if (typeof mA !== 'number')\n      throw new TypeError('maxAge must be a non-negative number')\n\n    this[MAX_AGE] = mA\n    trim(this)\n  }\n  get maxAge () {\n    return this[MAX_AGE]\n  }\n\n  // resize the cache when the lengthCalculator changes.\n  set lengthCalculator (lC) {\n    if (typeof lC !== 'function')\n      lC = naiveLength\n\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC\n      this[LENGTH] = 0\n      this[LRU_LIST].forEach(hit => {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\n        this[LENGTH] += hit.length\n      })\n    }\n    trim(this)\n  }\n  get lengthCalculator () { return this[LENGTH_CALCULATOR] }\n\n  get length () { return this[LENGTH] }\n  get itemCount () { return this[LRU_LIST].length }\n\n  rforEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].tail; walker !== null;) {\n      const prev = walker.prev\n      forEachStep(this, fn, walker, thisp)\n      walker = prev\n    }\n  }\n\n  forEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].head; walker !== null;) {\n      const next = walker.next\n      forEachStep(this, fn, walker, thisp)\n      walker = next\n    }\n  }\n\n  keys () {\n    return this[LRU_LIST].toArray().map(k => k.key)\n  }\n\n  values () {\n    return this[LRU_LIST].toArray().map(k => k.value)\n  }\n\n  reset () {\n    if (this[DISPOSE] &&\n        this[LRU_LIST] &&\n        this[LRU_LIST].length) {\n      this[LRU_LIST].forEach(hit => this[DISPOSE](hit.key, hit.value))\n    }\n\n    this[CACHE] = new Map() // hash of items by key\n    this[LRU_LIST] = new Yallist() // list of items in order of use recency\n    this[LENGTH] = 0 // length of items in the list\n  }\n\n  dump () {\n    return this[LRU_LIST].map(hit =>\n      isStale(this, hit) ? false : {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }).toArray().filter(h => h)\n  }\n\n  dumpLru () {\n    return this[LRU_LIST]\n  }\n\n  set (key, value, maxAge) {\n    maxAge = maxAge || this[MAX_AGE]\n\n    if (maxAge && typeof maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n\n    const now = maxAge ? Date.now() : 0\n    const len = this[LENGTH_CALCULATOR](value, key)\n\n    if (this[CACHE].has(key)) {\n      if (len > this[MAX]) {\n        del(this, this[CACHE].get(key))\n        return false\n      }\n\n      const node = this[CACHE].get(key)\n      const item = node.value\n\n      // dispose of the old one before overwriting\n      // split out into 2 ifs for better coverage tracking\n      if (this[DISPOSE]) {\n        if (!this[NO_DISPOSE_ON_SET])\n          this[DISPOSE](key, item.value)\n      }\n\n      item.now = now\n      item.maxAge = maxAge\n      item.value = value\n      this[LENGTH] += len - item.length\n      item.length = len\n      this.get(key)\n      trim(this)\n      return true\n    }\n\n    const hit = new Entry(key, value, len, now, maxAge)\n\n    // oversized objects fall out of cache automatically.\n    if (hit.length > this[MAX]) {\n      if (this[DISPOSE])\n        this[DISPOSE](key, value)\n\n      return false\n    }\n\n    this[LENGTH] += hit.length\n    this[LRU_LIST].unshift(hit)\n    this[CACHE].set(key, this[LRU_LIST].head)\n    trim(this)\n    return true\n  }\n\n  has (key) {\n    if (!this[CACHE].has(key)) return false\n    const hit = this[CACHE].get(key).value\n    return !isStale(this, hit)\n  }\n\n  get (key) {\n    return get(this, key, true)\n  }\n\n  peek (key) {\n    return get(this, key, false)\n  }\n\n  pop () {\n    const node = this[LRU_LIST].tail\n    if (!node)\n      return null\n\n    del(this, node)\n    return node.value\n  }\n\n  del (key) {\n    del(this, this[CACHE].get(key))\n  }\n\n  load (arr) {\n    // reset the cache\n    this.reset()\n\n    const now = Date.now()\n    // A previous serialized cache has the most recent items first\n    for (let l = arr.length - 1; l >= 0; l--) {\n      const hit = arr[l]\n      const expiresAt = hit.e || 0\n      if (expiresAt === 0)\n        // the item was created without expiration in a non aged cache\n        this.set(hit.k, hit.v)\n      else {\n        const maxAge = expiresAt - now\n        // dont add already expired items\n        if (maxAge > 0) {\n          this.set(hit.k, hit.v, maxAge)\n        }\n      }\n    }\n  }\n\n  prune () {\n    this[CACHE].forEach((value, key) => get(this, key, false))\n  }\n}\n\nconst get = (self, key, doUse) => {\n  const node = self[CACHE].get(key)\n  if (node) {\n    const hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!self[ALLOW_STALE])\n        return undefined\n    } else {\n      if (doUse) {\n        if (self[UPDATE_AGE_ON_GET])\n          node.value.now = Date.now()\n        self[LRU_LIST].unshiftNode(node)\n      }\n    }\n    return hit.value\n  }\n}\n\nconst isStale = (self, hit) => {\n  if (!hit || (!hit.maxAge && !self[MAX_AGE]))\n    return false\n\n  const diff = Date.now() - hit.now\n  return hit.maxAge ? diff > hit.maxAge\n    : self[MAX_AGE] && (diff > self[MAX_AGE])\n}\n\nconst trim = self => {\n  if (self[LENGTH] > self[MAX]) {\n    for (let walker = self[LRU_LIST].tail;\n      self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      const prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nconst del = (self, node) => {\n  if (node) {\n    const hit = node.value\n    if (self[DISPOSE])\n      self[DISPOSE](hit.key, hit.value)\n\n    self[LENGTH] -= hit.length\n    self[CACHE].delete(hit.key)\n    self[LRU_LIST].removeNode(node)\n  }\n}\n\nclass Entry {\n  constructor (key, value, length, now, maxAge) {\n    this.key = key\n    this.value = value\n    this.length = length\n    this.now = now\n    this.maxAge = maxAge || 0\n  }\n}\n\nconst forEachStep = (self, fn, node, thisp) => {\n  let hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!self[ALLOW_STALE])\n      hit = undefined\n  }\n  if (hit)\n    fn.call(thisp, hit.value, hit.key, self)\n}\n\nmodule.exports = LRUCache\n","'use strict';\n\nconst mimicFn = (to, from) => {\n\tfor (const prop of Reflect.ownKeys(from)) {\n\t\tObject.defineProperty(to, prop, Object.getOwnPropertyDescriptor(from, prop));\n\t}\n\n\treturn to;\n};\n\nmodule.exports = mimicFn;\n// TODO: Remove this for the next major release\nmodule.exports.default = mimicFn;\n","'use strict';\nconst mimicFn = require('mimic-fn');\n\nconst calledFunctions = new WeakMap();\n\nconst onetime = (function_, options = {}) => {\n\tif (typeof function_ !== 'function') {\n\t\tthrow new TypeError('Expected a function');\n\t}\n\n\tlet returnValue;\n\tlet callCount = 0;\n\tconst functionName = function_.displayName || function_.name || '<anonymous>';\n\n\tconst onetime = function (...arguments_) {\n\t\tcalledFunctions.set(onetime, ++callCount);\n\n\t\tif (callCount === 1) {\n\t\t\treturnValue = function_.apply(this, arguments_);\n\t\t\tfunction_ = null;\n\t\t} else if (options.throw === true) {\n\t\t\tthrow new Error(`Function \\`${functionName}\\` can only be called once`);\n\t\t}\n\n\t\treturn returnValue;\n\t};\n\n\tmimicFn(onetime, function_);\n\tcalledFunctions.set(onetime, callCount);\n\n\treturn onetime;\n};\n\nmodule.exports = onetime;\n// TODO: Remove this for the next major release\nmodule.exports.default = onetime;\n\nmodule.exports.callCount = function_ => {\n\tif (!calledFunctions.has(function_)) {\n\t\tthrow new Error(`The given function \\`${function_.name}\\` is not wrapped by the \\`onetime\\` package`);\n\t}\n\n\treturn calledFunctions.get(function_);\n};\n","'use strict';\nconst pTry = require('p-try');\n\nconst pLimit = concurrency => {\n\tif (!((Number.isInteger(concurrency) || concurrency === Infinity) && concurrency > 0)) {\n\t\treturn Promise.reject(new TypeError('Expected `concurrency` to be a number from 1 and up'));\n\t}\n\n\tconst queue = [];\n\tlet activeCount = 0;\n\n\tconst next = () => {\n\t\tactiveCount--;\n\n\t\tif (queue.length > 0) {\n\t\t\tqueue.shift()();\n\t\t}\n\t};\n\n\tconst run = (fn, resolve, ...args) => {\n\t\tactiveCount++;\n\n\t\tconst result = pTry(fn, ...args);\n\n\t\tresolve(result);\n\n\t\tresult.then(next, next);\n\t};\n\n\tconst enqueue = (fn, resolve, ...args) => {\n\t\tif (activeCount < concurrency) {\n\t\t\trun(fn, resolve, ...args);\n\t\t} else {\n\t\t\tqueue.push(run.bind(null, fn, resolve, ...args));\n\t\t}\n\t};\n\n\tconst generator = (fn, ...args) => new Promise(resolve => enqueue(fn, resolve, ...args));\n\tObject.defineProperties(generator, {\n\t\tactiveCount: {\n\t\t\tget: () => activeCount\n\t\t},\n\t\tpendingCount: {\n\t\t\tget: () => queue.length\n\t\t},\n\t\tclearQueue: {\n\t\t\tvalue: () => {\n\t\t\t\tqueue.length = 0;\n\t\t\t}\n\t\t}\n\t});\n\n\treturn generator;\n};\n\nmodule.exports = pLimit;\nmodule.exports.default = pLimit;\n","'use strict';\n\nconst pTry = (fn, ...arguments_) => new Promise(resolve => {\n\tresolve(fn(...arguments_));\n});\n\nmodule.exports = pTry;\n// TODO: remove this in the next major version\nmodule.exports.default = pTry;\n","'use strict';\nconst findUp = require('find-up');\n\nmodule.exports = async ({cwd} = {}) => findUp('package.json', {cwd});\nmodule.exports.sync = ({cwd} = {}) => findUp.sync('package.json', {cwd});\n","'use strict';\nconst path = require('path');\nconst locatePath = require('locate-path');\n\nmodule.exports = (filename, opts = {}) => {\n\tconst startDir = path.resolve(opts.cwd || '');\n\tconst {root} = path.parse(startDir);\n\n\tconst filenames = [].concat(filename);\n\n\treturn new Promise(resolve => {\n\t\t(function find(dir) {\n\t\t\tlocatePath(filenames, {cwd: dir}).then(file => {\n\t\t\t\tif (file) {\n\t\t\t\t\tresolve(path.join(dir, file));\n\t\t\t\t} else if (dir === root) {\n\t\t\t\t\tresolve(null);\n\t\t\t\t} else {\n\t\t\t\t\tfind(path.dirname(dir));\n\t\t\t\t}\n\t\t\t});\n\t\t})(startDir);\n\t});\n};\n\nmodule.exports.sync = (filename, opts = {}) => {\n\tlet dir = path.resolve(opts.cwd || '');\n\tconst {root} = path.parse(dir);\n\n\tconst filenames = [].concat(filename);\n\n\t// eslint-disable-next-line no-constant-condition\n\twhile (true) {\n\t\tconst file = locatePath.sync(filenames, {cwd: dir});\n\n\t\tif (file) {\n\t\t\treturn path.join(dir, file);\n\t\t}\n\n\t\tif (dir === root) {\n\t\t\treturn null;\n\t\t}\n\n\t\tdir = path.dirname(dir);\n\t}\n};\n","'use strict';\nconst path = require('path');\nconst pathExists = require('path-exists');\nconst pLocate = require('p-locate');\n\nmodule.exports = (iterable, options) => {\n\toptions = Object.assign({\n\t\tcwd: process.cwd()\n\t}, options);\n\n\treturn pLocate(iterable, el => pathExists(path.resolve(options.cwd, el)), options);\n};\n\nmodule.exports.sync = (iterable, options) => {\n\toptions = Object.assign({\n\t\tcwd: process.cwd()\n\t}, options);\n\n\tfor (const el of iterable) {\n\t\tif (pathExists.sync(path.resolve(options.cwd, el))) {\n\t\t\treturn el;\n\t\t}\n\t}\n};\n","'use strict';\nconst pLimit = require('p-limit');\n\nclass EndError extends Error {\n\tconstructor(value) {\n\t\tsuper();\n\t\tthis.value = value;\n\t}\n}\n\n// The input can also be a promise, so we `Promise.resolve()` it\nconst testElement = (el, tester) => Promise.resolve(el).then(tester);\n\n// The input can also be a promise, so we `Promise.all()` them both\nconst finder = el => Promise.all(el).then(val => val[1] === true && Promise.reject(new EndError(val[0])));\n\nmodule.exports = (iterable, tester, opts) => {\n\topts = Object.assign({\n\t\tconcurrency: Infinity,\n\t\tpreserveOrder: true\n\t}, opts);\n\n\tconst limit = pLimit(opts.concurrency);\n\n\t// Start all the promises concurrently with optional limit\n\tconst items = [...iterable].map(el => [el, limit(testElement, el, tester)]);\n\n\t// Check the promises either serially or concurrently\n\tconst checkLimit = pLimit(opts.preserveOrder ? 1 : Infinity);\n\n\treturn Promise.all(items.map(el => checkLimit(finder, el)))\n\t\t.then(() => {})\n\t\t.catch(err => err instanceof EndError ? err.value : Promise.reject(err));\n};\n","'use strict';\nconst fs = require('fs');\n\nmodule.exports = fp => new Promise(resolve => {\n\tfs.access(fp, err => {\n\t\tresolve(!err);\n\t});\n});\n\nmodule.exports.sync = fp => {\n\ttry {\n\t\tfs.accessSync(fp);\n\t\treturn true;\n\t} catch (err) {\n\t\treturn false;\n\t}\n};\n","/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.URI = global.URI || {})));\n}(this, (function (exports) { 'use strict';\n\nfunction merge() {\n    for (var _len = arguments.length, sets = Array(_len), _key = 0; _key < _len; _key++) {\n        sets[_key] = arguments[_key];\n    }\n\n    if (sets.length > 1) {\n        sets[0] = sets[0].slice(0, -1);\n        var xl = sets.length - 1;\n        for (var x = 1; x < xl; ++x) {\n            sets[x] = sets[x].slice(1, -1);\n        }\n        sets[xl] = sets[xl].slice(1);\n        return sets.join('');\n    } else {\n        return sets[0];\n    }\n}\nfunction subexp(str) {\n    return \"(?:\" + str + \")\";\n}\nfunction typeOf(o) {\n    return o === undefined ? \"undefined\" : o === null ? \"null\" : Object.prototype.toString.call(o).split(\" \").pop().split(\"]\").shift().toLowerCase();\n}\nfunction toUpperCase(str) {\n    return str.toUpperCase();\n}\nfunction toArray(obj) {\n    return obj !== undefined && obj !== null ? obj instanceof Array ? obj : typeof obj.length !== \"number\" || obj.split || obj.setInterval || obj.call ? [obj] : Array.prototype.slice.call(obj) : [];\n}\nfunction assign(target, source) {\n    var obj = target;\n    if (source) {\n        for (var key in source) {\n            obj[key] = source[key];\n        }\n    }\n    return obj;\n}\n\nfunction buildExps(isIRI) {\n    var ALPHA$$ = \"[A-Za-z]\",\n        CR$ = \"[\\\\x0D]\",\n        DIGIT$$ = \"[0-9]\",\n        DQUOTE$$ = \"[\\\\x22]\",\n        HEXDIG$$ = merge(DIGIT$$, \"[A-Fa-f]\"),\n        //case-insensitive\n    LF$$ = \"[\\\\x0A]\",\n        SP$$ = \"[\\\\x20]\",\n        PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)),\n        //expanded\n    GEN_DELIMS$$ = \"[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]\",\n        SUB_DELIMS$$ = \"[\\\\!\\\\$\\\\&\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]\",\n        RESERVED$$ = merge(GEN_DELIMS$$, SUB_DELIMS$$),\n        UCSCHAR$$ = isIRI ? \"[\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\" : \"[]\",\n        //subset, excludes bidi control characters\n    IPRIVATE$$ = isIRI ? \"[\\\\uE000-\\\\uF8FF]\" : \"[]\",\n        //subset\n    UNRESERVED$$ = merge(ALPHA$$, DIGIT$$, \"[\\\\-\\\\.\\\\_\\\\~]\", UCSCHAR$$),\n        SCHEME$ = subexp(ALPHA$$ + merge(ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\") + \"*\"),\n        USERINFO$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\")) + \"*\"),\n        DEC_OCTET$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"[1-9]\" + DIGIT$$) + \"|\" + DIGIT$$),\n        DEC_OCTET_RELAXED$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"0?[1-9]\" + DIGIT$$) + \"|0?0?\" + DIGIT$$),\n        //relaxed parsing rules\n    IPV4ADDRESS$ = subexp(DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$),\n        H16$ = subexp(HEXDIG$$ + \"{1,4}\"),\n        LS32$ = subexp(subexp(H16$ + \"\\\\:\" + H16$) + \"|\" + IPV4ADDRESS$),\n        IPV6ADDRESS1$ = subexp(subexp(H16$ + \"\\\\:\") + \"{6}\" + LS32$),\n        //                           6( h16 \":\" ) ls32\n    IPV6ADDRESS2$ = subexp(\"\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{5}\" + LS32$),\n        //                      \"::\" 5( h16 \":\" ) ls32\n    IPV6ADDRESS3$ = subexp(subexp(H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{4}\" + LS32$),\n        //[               h16 ] \"::\" 4( h16 \":\" ) ls32\n    IPV6ADDRESS4$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,1}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{3}\" + LS32$),\n        //[ *1( h16 \":\" ) h16 ] \"::\" 3( h16 \":\" ) ls32\n    IPV6ADDRESS5$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,2}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{2}\" + LS32$),\n        //[ *2( h16 \":\" ) h16 ] \"::\" 2( h16 \":\" ) ls32\n    IPV6ADDRESS6$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,3}\" + H16$) + \"?\\\\:\\\\:\" + H16$ + \"\\\\:\" + LS32$),\n        //[ *3( h16 \":\" ) h16 ] \"::\"    h16 \":\"   ls32\n    IPV6ADDRESS7$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,4}\" + H16$) + \"?\\\\:\\\\:\" + LS32$),\n        //[ *4( h16 \":\" ) h16 ] \"::\"              ls32\n    IPV6ADDRESS8$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,5}\" + H16$) + \"?\\\\:\\\\:\" + H16$),\n        //[ *5( h16 \":\" ) h16 ] \"::\"              h16\n    IPV6ADDRESS9$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,6}\" + H16$) + \"?\\\\:\\\\:\"),\n        //[ *6( h16 \":\" ) h16 ] \"::\"\n    IPV6ADDRESS$ = subexp([IPV6ADDRESS1$, IPV6ADDRESS2$, IPV6ADDRESS3$, IPV6ADDRESS4$, IPV6ADDRESS5$, IPV6ADDRESS6$, IPV6ADDRESS7$, IPV6ADDRESS8$, IPV6ADDRESS9$].join(\"|\")),\n        ZONEID$ = subexp(subexp(UNRESERVED$$ + \"|\" + PCT_ENCODED$) + \"+\"),\n        //RFC 6874\n    IPV6ADDRZ$ = subexp(IPV6ADDRESS$ + \"\\\\%25\" + ZONEID$),\n        //RFC 6874\n    IPV6ADDRZ_RELAXED$ = subexp(IPV6ADDRESS$ + subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + ZONEID$),\n        //RFC 6874, with relaxed parsing rules\n    IPVFUTURE$ = subexp(\"[vV]\" + HEXDIG$$ + \"+\\\\.\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\") + \"+\"),\n        IP_LITERAL$ = subexp(\"\\\\[\" + subexp(IPV6ADDRZ_RELAXED$ + \"|\" + IPV6ADDRESS$ + \"|\" + IPVFUTURE$) + \"\\\\]\"),\n        //RFC 6874\n    REG_NAME$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$)) + \"*\"),\n        HOST$ = subexp(IP_LITERAL$ + \"|\" + IPV4ADDRESS$ + \"(?!\" + REG_NAME$ + \")\" + \"|\" + REG_NAME$),\n        PORT$ = subexp(DIGIT$$ + \"*\"),\n        AUTHORITY$ = subexp(subexp(USERINFO$ + \"@\") + \"?\" + HOST$ + subexp(\"\\\\:\" + PORT$) + \"?\"),\n        PCHAR$ = subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@]\")),\n        SEGMENT$ = subexp(PCHAR$ + \"*\"),\n        SEGMENT_NZ$ = subexp(PCHAR$ + \"+\"),\n        SEGMENT_NZ_NC$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\@]\")) + \"+\"),\n        PATH_ABEMPTY$ = subexp(subexp(\"\\\\/\" + SEGMENT$) + \"*\"),\n        PATH_ABSOLUTE$ = subexp(\"\\\\/\" + subexp(SEGMENT_NZ$ + PATH_ABEMPTY$) + \"?\"),\n        //simplified\n    PATH_NOSCHEME$ = subexp(SEGMENT_NZ_NC$ + PATH_ABEMPTY$),\n        //simplified\n    PATH_ROOTLESS$ = subexp(SEGMENT_NZ$ + PATH_ABEMPTY$),\n        //simplified\n    PATH_EMPTY$ = \"(?!\" + PCHAR$ + \")\",\n        PATH$ = subexp(PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n        QUERY$ = subexp(subexp(PCHAR$ + \"|\" + merge(\"[\\\\/\\\\?]\", IPRIVATE$$)) + \"*\"),\n        FRAGMENT$ = subexp(subexp(PCHAR$ + \"|[\\\\/\\\\?]\") + \"*\"),\n        HIER_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n        URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n        RELATIVE_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$),\n        RELATIVE$ = subexp(RELATIVE_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n        URI_REFERENCE$ = subexp(URI$ + \"|\" + RELATIVE$),\n        ABSOLUTE_URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\"),\n        GENERIC_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        RELATIVE_REF$ = \"^(){0}\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        ABSOLUTE_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?$\",\n        SAMEDOC_REF$ = \"^\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        AUTHORITY_REF$ = \"^\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?$\";\n    return {\n        NOT_SCHEME: new RegExp(merge(\"[^]\", ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\"), \"g\"),\n        NOT_USERINFO: new RegExp(merge(\"[^\\\\%\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_HOST: new RegExp(merge(\"[^\\\\%\\\\[\\\\]\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_PATH: new RegExp(merge(\"[^\\\\%\\\\/\\\\:\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_PATH_NOSCHEME: new RegExp(merge(\"[^\\\\%\\\\/\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_QUERY: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\", IPRIVATE$$), \"g\"),\n        NOT_FRAGMENT: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\"), \"g\"),\n        ESCAPE: new RegExp(merge(\"[^]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        UNRESERVED: new RegExp(UNRESERVED$$, \"g\"),\n        OTHER_CHARS: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, RESERVED$$), \"g\"),\n        PCT_ENCODED: new RegExp(PCT_ENCODED$, \"g\"),\n        IPV4ADDRESS: new RegExp(\"^(\" + IPV4ADDRESS$ + \")$\"),\n        IPV6ADDRESS: new RegExp(\"^\\\\[?(\" + IPV6ADDRESS$ + \")\" + subexp(subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + \"(\" + ZONEID$ + \")\") + \"?\\\\]?$\") //RFC 6874, with relaxed parsing rules\n    };\n}\nvar URI_PROTOCOL = buildExps(false);\n\nvar IRI_PROTOCOL = buildExps(true);\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\n/** Highest positive signed 32-bit float value */\n\nvar maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n/** Bootstring parameters */\nvar base = 36;\nvar tMin = 1;\nvar tMax = 26;\nvar skew = 38;\nvar damp = 700;\nvar initialBias = 72;\nvar initialN = 128; // 0x80\nvar delimiter = '-'; // '\\x2D'\n\n/** Regular expressions */\nvar regexPunycode = /^xn--/;\nvar regexNonASCII = /[^\\0-\\x7E]/; // non-ASCII chars\nvar regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n/** Error messages */\nvar errors = {\n\t'overflow': 'Overflow: input needs wider integers to process',\n\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t'invalid-input': 'Invalid input'\n};\n\n/** Convenience shortcuts */\nvar baseMinusTMin = base - tMin;\nvar floor = Math.floor;\nvar stringFromCharCode = String.fromCharCode;\n\n/*--------------------------------------------------------------------------*/\n\n/**\n * A generic error utility function.\n * @private\n * @param {String} type The error type.\n * @returns {Error} Throws a `RangeError` with the applicable error message.\n */\nfunction error$1(type) {\n\tthrow new RangeError(errors[type]);\n}\n\n/**\n * A generic `Array#map` utility function.\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} callback The function that gets called for every array\n * item.\n * @returns {Array} A new array of values returned by the callback function.\n */\nfunction map(array, fn) {\n\tvar result = [];\n\tvar length = array.length;\n\twhile (length--) {\n\t\tresult[length] = fn(array[length]);\n\t}\n\treturn result;\n}\n\n/**\n * A simple `Array#map`-like wrapper to work with domain name strings or email\n * addresses.\n * @private\n * @param {String} domain The domain name or email address.\n * @param {Function} callback The function that gets called for every\n * character.\n * @returns {Array} A new string of characters returned by the callback\n * function.\n */\nfunction mapDomain(string, fn) {\n\tvar parts = string.split('@');\n\tvar result = '';\n\tif (parts.length > 1) {\n\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t// the local part (i.e. everything up to `@`) intact.\n\t\tresult = parts[0] + '@';\n\t\tstring = parts[1];\n\t}\n\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\tstring = string.replace(regexSeparators, '\\x2E');\n\tvar labels = string.split('.');\n\tvar encoded = map(labels, fn).join('.');\n\treturn result + encoded;\n}\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n * @see `punycode.ucs2.encode`\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode.ucs2\n * @name decode\n * @param {String} string The Unicode input string (UCS-2).\n * @returns {Array} The new array of code points.\n */\nfunction ucs2decode(string) {\n\tvar output = [];\n\tvar counter = 0;\n\tvar length = string.length;\n\twhile (counter < length) {\n\t\tvar value = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// It's a high surrogate, and there is a next character.\n\t\t\tvar extra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) {\n\t\t\t\t// Low surrogate.\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// It's an unmatched surrogate; only append this code unit, in case the\n\t\t\t\t// next code unit is the high surrogate of a surrogate pair.\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n/**\n * Creates a string based on an array of numeric code points.\n * @see `punycode.ucs2.decode`\n * @memberOf punycode.ucs2\n * @name encode\n * @param {Array} codePoints The array of numeric code points.\n * @returns {String} The new Unicode string (UCS-2).\n */\nvar ucs2encode = function ucs2encode(array) {\n\treturn String.fromCodePoint.apply(String, toConsumableArray(array));\n};\n\n/**\n * Converts a basic code point into a digit/integer.\n * @see `digitToBasic()`\n * @private\n * @param {Number} codePoint The basic numeric code point value.\n * @returns {Number} The numeric value of a basic code point (for use in\n * representing integers) in the range `0` to `base - 1`, or `base` if\n * the code point does not represent a value.\n */\nvar basicToDigit = function basicToDigit(codePoint) {\n\tif (codePoint - 0x30 < 0x0A) {\n\t\treturn codePoint - 0x16;\n\t}\n\tif (codePoint - 0x41 < 0x1A) {\n\t\treturn codePoint - 0x41;\n\t}\n\tif (codePoint - 0x61 < 0x1A) {\n\t\treturn codePoint - 0x61;\n\t}\n\treturn base;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n * @see `basicToDigit()`\n * @private\n * @param {Number} digit The numeric value of a basic code point.\n * @returns {Number} The basic code point whose value (when used for\n * representing integers) is `digit`, which needs to be in the range\n * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n * used; else, the lowercase form is used. The behavior is undefined\n * if `flag` is non-zero and `digit` has no uppercase form.\n */\nvar digitToBasic = function digitToBasic(digit, flag) {\n\t//  0..25 map to ASCII a..z or A..Z\n\t// 26..35 map to ASCII 0..9\n\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n * @private\n */\nvar adapt = function adapt(delta, numPoints, firstTime) {\n\tvar k = 0;\n\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\tdelta += floor(delta / numPoints);\n\tfor (; /* no initialization */delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\tdelta = floor(delta / baseMinusTMin);\n\t}\n\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n * symbols.\n * @memberOf punycode\n * @param {String} input The Punycode string of ASCII-only symbols.\n * @returns {String} The resulting string of Unicode symbols.\n */\nvar decode = function decode(input) {\n\t// Don't use UCS-2.\n\tvar output = [];\n\tvar inputLength = input.length;\n\tvar i = 0;\n\tvar n = initialN;\n\tvar bias = initialBias;\n\n\t// Handle the basic code points: let `basic` be the number of input code\n\t// points before the last delimiter, or `0` if there is none, then copy\n\t// the first basic code points to the output.\n\n\tvar basic = input.lastIndexOf(delimiter);\n\tif (basic < 0) {\n\t\tbasic = 0;\n\t}\n\n\tfor (var j = 0; j < basic; ++j) {\n\t\t// if it's not a basic code point\n\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\terror$1('not-basic');\n\t\t}\n\t\toutput.push(input.charCodeAt(j));\n\t}\n\n\t// Main decoding loop: start just after the last delimiter if any basic code\n\t// points were copied; start at the beginning otherwise.\n\n\tfor (var index = basic > 0 ? basic + 1 : 0; index < inputLength;) /* no final expression */{\n\n\t\t// `index` is the index of the next character to be consumed.\n\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t// which gets added to `i`. The overflow checking is easier\n\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t// value at the end to obtain `delta`.\n\t\tvar oldi = i;\n\t\tfor (var w = 1, k = base;; /* no condition */k += base) {\n\n\t\t\tif (index >= inputLength) {\n\t\t\t\terror$1('invalid-input');\n\t\t\t}\n\n\t\t\tvar digit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\terror$1('overflow');\n\t\t\t}\n\n\t\t\ti += digit * w;\n\t\t\tvar t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\n\t\t\tif (digit < t) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tvar baseMinusT = base - t;\n\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\terror$1('overflow');\n\t\t\t}\n\n\t\t\tw *= baseMinusT;\n\t\t}\n\n\t\tvar out = output.length + 1;\n\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t// incrementing `n` each time, so we'll fix that now:\n\t\tif (floor(i / out) > maxInt - n) {\n\t\t\terror$1('overflow');\n\t\t}\n\n\t\tn += floor(i / out);\n\t\ti %= out;\n\n\t\t// Insert `n` at position `i` of the output.\n\t\toutput.splice(i++, 0, n);\n\t}\n\n\treturn String.fromCodePoint.apply(String, output);\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n * @memberOf punycode\n * @param {String} input The string of Unicode symbols.\n * @returns {String} The resulting Punycode string of ASCII-only symbols.\n */\nvar encode = function encode(input) {\n\tvar output = [];\n\n\t// Convert the input in UCS-2 to an array of Unicode code points.\n\tinput = ucs2decode(input);\n\n\t// Cache the length.\n\tvar inputLength = input.length;\n\n\t// Initialize the state.\n\tvar n = initialN;\n\tvar delta = 0;\n\tvar bias = initialBias;\n\n\t// Handle the basic code points.\n\tvar _iteratorNormalCompletion = true;\n\tvar _didIteratorError = false;\n\tvar _iteratorError = undefined;\n\n\ttry {\n\t\tfor (var _iterator = input[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\tvar _currentValue2 = _step.value;\n\n\t\t\tif (_currentValue2 < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(_currentValue2));\n\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\t_didIteratorError = true;\n\t\t_iteratorError = err;\n\t} finally {\n\t\ttry {\n\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t_iterator.return();\n\t\t\t}\n\t\t} finally {\n\t\t\tif (_didIteratorError) {\n\t\t\t\tthrow _iteratorError;\n\t\t\t}\n\t\t}\n\t}\n\n\tvar basicLength = output.length;\n\tvar handledCPCount = basicLength;\n\n\t// `handledCPCount` is the number of code points that have been handled;\n\t// `basicLength` is the number of basic code points.\n\n\t// Finish the basic string with a delimiter unless it's empty.\n\tif (basicLength) {\n\t\toutput.push(delimiter);\n\t}\n\n\t// Main encoding loop:\n\twhile (handledCPCount < inputLength) {\n\n\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t// larger one:\n\t\tvar m = maxInt;\n\t\tvar _iteratorNormalCompletion2 = true;\n\t\tvar _didIteratorError2 = false;\n\t\tvar _iteratorError2 = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator2 = input[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\tvar currentValue = _step2.value;\n\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow.\n\t\t} catch (err) {\n\t\t\t_didIteratorError2 = true;\n\t\t\t_iteratorError2 = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t_iterator2.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar handledCPCountPlusOne = handledCPCount + 1;\n\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\terror$1('overflow');\n\t\t}\n\n\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\tn = m;\n\n\t\tvar _iteratorNormalCompletion3 = true;\n\t\tvar _didIteratorError3 = false;\n\t\tvar _iteratorError3 = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator3 = input[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t\t\t\tvar _currentValue = _step3.value;\n\n\t\t\t\tif (_currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror$1('overflow');\n\t\t\t\t}\n\t\t\t\tif (_currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer.\n\t\t\t\t\tvar q = delta;\n\t\t\t\t\tfor (var k = base;; /* no condition */k += base) {\n\t\t\t\t\t\tvar t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar qMinusT = q - t;\n\t\t\t\t\t\tvar baseMinusT = base - t;\n\t\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0)));\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\t_didIteratorError3 = true;\n\t\t\t_iteratorError3 = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t\t\t\t\t_iterator3.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError3) {\n\t\t\t\t\tthrow _iteratorError3;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t++delta;\n\t\t++n;\n\t}\n\treturn output.join('');\n};\n\n/**\n * Converts a Punycode string representing a domain name or an email address\n * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n * it doesn't matter if you call it on a string that has already been\n * converted to Unicode.\n * @memberOf punycode\n * @param {String} input The Punycoded domain name or email address to\n * convert to Unicode.\n * @returns {String} The Unicode representation of the given Punycode\n * string.\n */\nvar toUnicode = function toUnicode(input) {\n\treturn mapDomain(input, function (string) {\n\t\treturn regexPunycode.test(string) ? decode(string.slice(4).toLowerCase()) : string;\n\t});\n};\n\n/**\n * Converts a Unicode string representing a domain name or an email address to\n * Punycode. Only the non-ASCII parts of the domain name will be converted,\n * i.e. it doesn't matter if you call it with a domain that's already in\n * ASCII.\n * @memberOf punycode\n * @param {String} input The domain name or email address to convert, as a\n * Unicode string.\n * @returns {String} The Punycode representation of the given domain name or\n * email address.\n */\nvar toASCII = function toASCII(input) {\n\treturn mapDomain(input, function (string) {\n\t\treturn regexNonASCII.test(string) ? 'xn--' + encode(string) : string;\n\t});\n};\n\n/*--------------------------------------------------------------------------*/\n\n/** Define the public API */\nvar punycode = {\n\t/**\n  * A string representing the current Punycode.js version number.\n  * @memberOf punycode\n  * @type String\n  */\n\t'version': '2.1.0',\n\t/**\n  * An object of methods to convert from JavaScript's internal character\n  * representation (UCS-2) to Unicode code points, and back.\n  * @see <https://mathiasbynens.be/notes/javascript-encoding>\n  * @memberOf punycode\n  * @type Object\n  */\n\t'ucs2': {\n\t\t'decode': ucs2decode,\n\t\t'encode': ucs2encode\n\t},\n\t'decode': decode,\n\t'encode': encode,\n\t'toASCII': toASCII,\n\t'toUnicode': toUnicode\n};\n\n/**\n * URI.js\n *\n * @fileoverview An RFC 3986 compliant, scheme extendable URI parsing/validating/resolving library for JavaScript.\n * @author <a href=\"mailto:gary.court@gmail.com\">Gary Court</a>\n * @see http://github.com/garycourt/uri-js\n */\n/**\n * Copyright 2011 Gary Court. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification, are\n * permitted provided that the following conditions are met:\n *\n *    1. Redistributions of source code must retain the above copyright notice, this list of\n *       conditions and the following disclaimer.\n *\n *    2. Redistributions in binary form must reproduce the above copyright notice, this list\n *       of conditions and the following disclaimer in the documentation and/or other materials\n *       provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY GARY COURT ``AS IS'' AND ANY EXPRESS OR IMPLIED\n * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GARY COURT OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * The views and conclusions contained in the software and documentation are those of the\n * authors and should not be interpreted as representing official policies, either expressed\n * or implied, of Gary Court.\n */\nvar SCHEMES = {};\nfunction pctEncChar(chr) {\n    var c = chr.charCodeAt(0);\n    var e = void 0;\n    if (c < 16) e = \"%0\" + c.toString(16).toUpperCase();else if (c < 128) e = \"%\" + c.toString(16).toUpperCase();else if (c < 2048) e = \"%\" + (c >> 6 | 192).toString(16).toUpperCase() + \"%\" + (c & 63 | 128).toString(16).toUpperCase();else e = \"%\" + (c >> 12 | 224).toString(16).toUpperCase() + \"%\" + (c >> 6 & 63 | 128).toString(16).toUpperCase() + \"%\" + (c & 63 | 128).toString(16).toUpperCase();\n    return e;\n}\nfunction pctDecChars(str) {\n    var newStr = \"\";\n    var i = 0;\n    var il = str.length;\n    while (i < il) {\n        var c = parseInt(str.substr(i + 1, 2), 16);\n        if (c < 128) {\n            newStr += String.fromCharCode(c);\n            i += 3;\n        } else if (c >= 194 && c < 224) {\n            if (il - i >= 6) {\n                var c2 = parseInt(str.substr(i + 4, 2), 16);\n                newStr += String.fromCharCode((c & 31) << 6 | c2 & 63);\n            } else {\n                newStr += str.substr(i, 6);\n            }\n            i += 6;\n        } else if (c >= 224) {\n            if (il - i >= 9) {\n                var _c = parseInt(str.substr(i + 4, 2), 16);\n                var c3 = parseInt(str.substr(i + 7, 2), 16);\n                newStr += String.fromCharCode((c & 15) << 12 | (_c & 63) << 6 | c3 & 63);\n            } else {\n                newStr += str.substr(i, 9);\n            }\n            i += 9;\n        } else {\n            newStr += str.substr(i, 3);\n            i += 3;\n        }\n    }\n    return newStr;\n}\nfunction _normalizeComponentEncoding(components, protocol) {\n    function decodeUnreserved(str) {\n        var decStr = pctDecChars(str);\n        return !decStr.match(protocol.UNRESERVED) ? str : decStr;\n    }\n    if (components.scheme) components.scheme = String(components.scheme).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_SCHEME, \"\");\n    if (components.userinfo !== undefined) components.userinfo = String(components.userinfo).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_USERINFO, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.host !== undefined) components.host = String(components.host).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_HOST, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.path !== undefined) components.path = String(components.path).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(components.scheme ? protocol.NOT_PATH : protocol.NOT_PATH_NOSCHEME, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.query !== undefined) components.query = String(components.query).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_QUERY, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.fragment !== undefined) components.fragment = String(components.fragment).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_FRAGMENT, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    return components;\n}\n\nfunction _stripLeadingZeros(str) {\n    return str.replace(/^0*(.*)/, \"$1\") || \"0\";\n}\nfunction _normalizeIPv4(host, protocol) {\n    var matches = host.match(protocol.IPV4ADDRESS) || [];\n\n    var _matches = slicedToArray(matches, 2),\n        address = _matches[1];\n\n    if (address) {\n        return address.split(\".\").map(_stripLeadingZeros).join(\".\");\n    } else {\n        return host;\n    }\n}\nfunction _normalizeIPv6(host, protocol) {\n    var matches = host.match(protocol.IPV6ADDRESS) || [];\n\n    var _matches2 = slicedToArray(matches, 3),\n        address = _matches2[1],\n        zone = _matches2[2];\n\n    if (address) {\n        var _address$toLowerCase$ = address.toLowerCase().split('::').reverse(),\n            _address$toLowerCase$2 = slicedToArray(_address$toLowerCase$, 2),\n            last = _address$toLowerCase$2[0],\n            first = _address$toLowerCase$2[1];\n\n        var firstFields = first ? first.split(\":\").map(_stripLeadingZeros) : [];\n        var lastFields = last.split(\":\").map(_stripLeadingZeros);\n        var isLastFieldIPv4Address = protocol.IPV4ADDRESS.test(lastFields[lastFields.length - 1]);\n        var fieldCount = isLastFieldIPv4Address ? 7 : 8;\n        var lastFieldsStart = lastFields.length - fieldCount;\n        var fields = Array(fieldCount);\n        for (var x = 0; x < fieldCount; ++x) {\n            fields[x] = firstFields[x] || lastFields[lastFieldsStart + x] || '';\n        }\n        if (isLastFieldIPv4Address) {\n            fields[fieldCount - 1] = _normalizeIPv4(fields[fieldCount - 1], protocol);\n        }\n        var allZeroFields = fields.reduce(function (acc, field, index) {\n            if (!field || field === \"0\") {\n                var lastLongest = acc[acc.length - 1];\n                if (lastLongest && lastLongest.index + lastLongest.length === index) {\n                    lastLongest.length++;\n                } else {\n                    acc.push({ index: index, length: 1 });\n                }\n            }\n            return acc;\n        }, []);\n        var longestZeroFields = allZeroFields.sort(function (a, b) {\n            return b.length - a.length;\n        })[0];\n        var newHost = void 0;\n        if (longestZeroFields && longestZeroFields.length > 1) {\n            var newFirst = fields.slice(0, longestZeroFields.index);\n            var newLast = fields.slice(longestZeroFields.index + longestZeroFields.length);\n            newHost = newFirst.join(\":\") + \"::\" + newLast.join(\":\");\n        } else {\n            newHost = fields.join(\":\");\n        }\n        if (zone) {\n            newHost += \"%\" + zone;\n        }\n        return newHost;\n    } else {\n        return host;\n    }\n}\nvar URI_PARSE = /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?(\\[[^\\/?#\\]]+\\]|[^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n|\\r)*))?/i;\nvar NO_MATCH_IS_UNDEFINED = \"\".match(/(){0}/)[1] === undefined;\nfunction parse(uriString) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var components = {};\n    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;\n    if (options.reference === \"suffix\") uriString = (options.scheme ? options.scheme + \":\" : \"\") + \"//\" + uriString;\n    var matches = uriString.match(URI_PARSE);\n    if (matches) {\n        if (NO_MATCH_IS_UNDEFINED) {\n            //store each component\n            components.scheme = matches[1];\n            components.userinfo = matches[3];\n            components.host = matches[4];\n            components.port = parseInt(matches[5], 10);\n            components.path = matches[6] || \"\";\n            components.query = matches[7];\n            components.fragment = matches[8];\n            //fix port number\n            if (isNaN(components.port)) {\n                components.port = matches[5];\n            }\n        } else {\n            //IE FIX for improper RegExp matching\n            //store each component\n            components.scheme = matches[1] || undefined;\n            components.userinfo = uriString.indexOf(\"@\") !== -1 ? matches[3] : undefined;\n            components.host = uriString.indexOf(\"//\") !== -1 ? matches[4] : undefined;\n            components.port = parseInt(matches[5], 10);\n            components.path = matches[6] || \"\";\n            components.query = uriString.indexOf(\"?\") !== -1 ? matches[7] : undefined;\n            components.fragment = uriString.indexOf(\"#\") !== -1 ? matches[8] : undefined;\n            //fix port number\n            if (isNaN(components.port)) {\n                components.port = uriString.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/) ? matches[4] : undefined;\n            }\n        }\n        if (components.host) {\n            //normalize IP hosts\n            components.host = _normalizeIPv6(_normalizeIPv4(components.host, protocol), protocol);\n        }\n        //determine reference type\n        if (components.scheme === undefined && components.userinfo === undefined && components.host === undefined && components.port === undefined && !components.path && components.query === undefined) {\n            components.reference = \"same-document\";\n        } else if (components.scheme === undefined) {\n            components.reference = \"relative\";\n        } else if (components.fragment === undefined) {\n            components.reference = \"absolute\";\n        } else {\n            components.reference = \"uri\";\n        }\n        //check for reference errors\n        if (options.reference && options.reference !== \"suffix\" && options.reference !== components.reference) {\n            components.error = components.error || \"URI is not a \" + options.reference + \" reference.\";\n        }\n        //find scheme handler\n        var schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n        //check if scheme can't handle IRIs\n        if (!options.unicodeSupport && (!schemeHandler || !schemeHandler.unicodeSupport)) {\n            //if host component is a domain name\n            if (components.host && (options.domainHost || schemeHandler && schemeHandler.domainHost)) {\n                //convert Unicode IDN -> ASCII IDN\n                try {\n                    components.host = punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase());\n                } catch (e) {\n                    components.error = components.error || \"Host's domain name can not be converted to ASCII via punycode: \" + e;\n                }\n            }\n            //convert IRI -> URI\n            _normalizeComponentEncoding(components, URI_PROTOCOL);\n        } else {\n            //normalize encodings\n            _normalizeComponentEncoding(components, protocol);\n        }\n        //perform scheme specific parsing\n        if (schemeHandler && schemeHandler.parse) {\n            schemeHandler.parse(components, options);\n        }\n    } else {\n        components.error = components.error || \"URI can not be parsed.\";\n    }\n    return components;\n}\n\nfunction _recomposeAuthority(components, options) {\n    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;\n    var uriTokens = [];\n    if (components.userinfo !== undefined) {\n        uriTokens.push(components.userinfo);\n        uriTokens.push(\"@\");\n    }\n    if (components.host !== undefined) {\n        //normalize IP hosts, add brackets and escape zone separator for IPv6\n        uriTokens.push(_normalizeIPv6(_normalizeIPv4(String(components.host), protocol), protocol).replace(protocol.IPV6ADDRESS, function (_, $1, $2) {\n            return \"[\" + $1 + ($2 ? \"%25\" + $2 : \"\") + \"]\";\n        }));\n    }\n    if (typeof components.port === \"number\" || typeof components.port === \"string\") {\n        uriTokens.push(\":\");\n        uriTokens.push(String(components.port));\n    }\n    return uriTokens.length ? uriTokens.join(\"\") : undefined;\n}\n\nvar RDS1 = /^\\.\\.?\\//;\nvar RDS2 = /^\\/\\.(\\/|$)/;\nvar RDS3 = /^\\/\\.\\.(\\/|$)/;\nvar RDS5 = /^\\/?(?:.|\\n)*?(?=\\/|$)/;\nfunction removeDotSegments(input) {\n    var output = [];\n    while (input.length) {\n        if (input.match(RDS1)) {\n            input = input.replace(RDS1, \"\");\n        } else if (input.match(RDS2)) {\n            input = input.replace(RDS2, \"/\");\n        } else if (input.match(RDS3)) {\n            input = input.replace(RDS3, \"/\");\n            output.pop();\n        } else if (input === \".\" || input === \"..\") {\n            input = \"\";\n        } else {\n            var im = input.match(RDS5);\n            if (im) {\n                var s = im[0];\n                input = input.slice(s.length);\n                output.push(s);\n            } else {\n                throw new Error(\"Unexpected dot segment condition\");\n            }\n        }\n    }\n    return output.join(\"\");\n}\n\nfunction serialize(components) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var protocol = options.iri ? IRI_PROTOCOL : URI_PROTOCOL;\n    var uriTokens = [];\n    //find scheme handler\n    var schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n    //perform scheme specific serialization\n    if (schemeHandler && schemeHandler.serialize) schemeHandler.serialize(components, options);\n    if (components.host) {\n        //if host component is an IPv6 address\n        if (protocol.IPV6ADDRESS.test(components.host)) {}\n        //TODO: normalize IPv6 address as per RFC 5952\n\n        //if host component is a domain name\n        else if (options.domainHost || schemeHandler && schemeHandler.domainHost) {\n                //convert IDN via punycode\n                try {\n                    components.host = !options.iri ? punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase()) : punycode.toUnicode(components.host);\n                } catch (e) {\n                    components.error = components.error || \"Host's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n                }\n            }\n    }\n    //normalize encoding\n    _normalizeComponentEncoding(components, protocol);\n    if (options.reference !== \"suffix\" && components.scheme) {\n        uriTokens.push(components.scheme);\n        uriTokens.push(\":\");\n    }\n    var authority = _recomposeAuthority(components, options);\n    if (authority !== undefined) {\n        if (options.reference !== \"suffix\") {\n            uriTokens.push(\"//\");\n        }\n        uriTokens.push(authority);\n        if (components.path && components.path.charAt(0) !== \"/\") {\n            uriTokens.push(\"/\");\n        }\n    }\n    if (components.path !== undefined) {\n        var s = components.path;\n        if (!options.absolutePath && (!schemeHandler || !schemeHandler.absolutePath)) {\n            s = removeDotSegments(s);\n        }\n        if (authority === undefined) {\n            s = s.replace(/^\\/\\//, \"/%2F\"); //don't allow the path to start with \"//\"\n        }\n        uriTokens.push(s);\n    }\n    if (components.query !== undefined) {\n        uriTokens.push(\"?\");\n        uriTokens.push(components.query);\n    }\n    if (components.fragment !== undefined) {\n        uriTokens.push(\"#\");\n        uriTokens.push(components.fragment);\n    }\n    return uriTokens.join(\"\"); //merge tokens into a string\n}\n\nfunction resolveComponents(base, relative) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var skipNormalization = arguments[3];\n\n    var target = {};\n    if (!skipNormalization) {\n        base = parse(serialize(base, options), options); //normalize base components\n        relative = parse(serialize(relative, options), options); //normalize relative components\n    }\n    options = options || {};\n    if (!options.tolerant && relative.scheme) {\n        target.scheme = relative.scheme;\n        //target.authority = relative.authority;\n        target.userinfo = relative.userinfo;\n        target.host = relative.host;\n        target.port = relative.port;\n        target.path = removeDotSegments(relative.path || \"\");\n        target.query = relative.query;\n    } else {\n        if (relative.userinfo !== undefined || relative.host !== undefined || relative.port !== undefined) {\n            //target.authority = relative.authority;\n            target.userinfo = relative.userinfo;\n            target.host = relative.host;\n            target.port = relative.port;\n            target.path = removeDotSegments(relative.path || \"\");\n            target.query = relative.query;\n        } else {\n            if (!relative.path) {\n                target.path = base.path;\n                if (relative.query !== undefined) {\n                    target.query = relative.query;\n                } else {\n                    target.query = base.query;\n                }\n            } else {\n                if (relative.path.charAt(0) === \"/\") {\n                    target.path = removeDotSegments(relative.path);\n                } else {\n                    if ((base.userinfo !== undefined || base.host !== undefined || base.port !== undefined) && !base.path) {\n                        target.path = \"/\" + relative.path;\n                    } else if (!base.path) {\n                        target.path = relative.path;\n                    } else {\n                        target.path = base.path.slice(0, base.path.lastIndexOf(\"/\") + 1) + relative.path;\n                    }\n                    target.path = removeDotSegments(target.path);\n                }\n                target.query = relative.query;\n            }\n            //target.authority = base.authority;\n            target.userinfo = base.userinfo;\n            target.host = base.host;\n            target.port = base.port;\n        }\n        target.scheme = base.scheme;\n    }\n    target.fragment = relative.fragment;\n    return target;\n}\n\nfunction resolve(baseURI, relativeURI, options) {\n    var schemelessOptions = assign({ scheme: 'null' }, options);\n    return serialize(resolveComponents(parse(baseURI, schemelessOptions), parse(relativeURI, schemelessOptions), schemelessOptions, true), schemelessOptions);\n}\n\nfunction normalize(uri, options) {\n    if (typeof uri === \"string\") {\n        uri = serialize(parse(uri, options), options);\n    } else if (typeOf(uri) === \"object\") {\n        uri = parse(serialize(uri, options), options);\n    }\n    return uri;\n}\n\nfunction equal(uriA, uriB, options) {\n    if (typeof uriA === \"string\") {\n        uriA = serialize(parse(uriA, options), options);\n    } else if (typeOf(uriA) === \"object\") {\n        uriA = serialize(uriA, options);\n    }\n    if (typeof uriB === \"string\") {\n        uriB = serialize(parse(uriB, options), options);\n    } else if (typeOf(uriB) === \"object\") {\n        uriB = serialize(uriB, options);\n    }\n    return uriA === uriB;\n}\n\nfunction escapeComponent(str, options) {\n    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.ESCAPE : IRI_PROTOCOL.ESCAPE, pctEncChar);\n}\n\nfunction unescapeComponent(str, options) {\n    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.PCT_ENCODED : IRI_PROTOCOL.PCT_ENCODED, pctDecChars);\n}\n\nvar handler = {\n    scheme: \"http\",\n    domainHost: true,\n    parse: function parse(components, options) {\n        //report missing host\n        if (!components.host) {\n            components.error = components.error || \"HTTP URIs must have a host.\";\n        }\n        return components;\n    },\n    serialize: function serialize(components, options) {\n        var secure = String(components.scheme).toLowerCase() === \"https\";\n        //normalize the default port\n        if (components.port === (secure ? 443 : 80) || components.port === \"\") {\n            components.port = undefined;\n        }\n        //normalize the empty path\n        if (!components.path) {\n            components.path = \"/\";\n        }\n        //NOTE: We do not parse query strings for HTTP URIs\n        //as WWW Form Url Encoded query strings are part of the HTML4+ spec,\n        //and not the HTTP spec.\n        return components;\n    }\n};\n\nvar handler$1 = {\n    scheme: \"https\",\n    domainHost: handler.domainHost,\n    parse: handler.parse,\n    serialize: handler.serialize\n};\n\nfunction isSecure(wsComponents) {\n    return typeof wsComponents.secure === 'boolean' ? wsComponents.secure : String(wsComponents.scheme).toLowerCase() === \"wss\";\n}\n//RFC 6455\nvar handler$2 = {\n    scheme: \"ws\",\n    domainHost: true,\n    parse: function parse(components, options) {\n        var wsComponents = components;\n        //indicate if the secure flag is set\n        wsComponents.secure = isSecure(wsComponents);\n        //construct resouce name\n        wsComponents.resourceName = (wsComponents.path || '/') + (wsComponents.query ? '?' + wsComponents.query : '');\n        wsComponents.path = undefined;\n        wsComponents.query = undefined;\n        return wsComponents;\n    },\n    serialize: function serialize(wsComponents, options) {\n        //normalize the default port\n        if (wsComponents.port === (isSecure(wsComponents) ? 443 : 80) || wsComponents.port === \"\") {\n            wsComponents.port = undefined;\n        }\n        //ensure scheme matches secure flag\n        if (typeof wsComponents.secure === 'boolean') {\n            wsComponents.scheme = wsComponents.secure ? 'wss' : 'ws';\n            wsComponents.secure = undefined;\n        }\n        //reconstruct path from resource name\n        if (wsComponents.resourceName) {\n            var _wsComponents$resourc = wsComponents.resourceName.split('?'),\n                _wsComponents$resourc2 = slicedToArray(_wsComponents$resourc, 2),\n                path = _wsComponents$resourc2[0],\n                query = _wsComponents$resourc2[1];\n\n            wsComponents.path = path && path !== '/' ? path : undefined;\n            wsComponents.query = query;\n            wsComponents.resourceName = undefined;\n        }\n        //forbid fragment component\n        wsComponents.fragment = undefined;\n        return wsComponents;\n    }\n};\n\nvar handler$3 = {\n    scheme: \"wss\",\n    domainHost: handler$2.domainHost,\n    parse: handler$2.parse,\n    serialize: handler$2.serialize\n};\n\nvar O = {};\nvar isIRI = true;\n//RFC 3986\nvar UNRESERVED$$ = \"[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~\" + (isIRI ? \"\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF\" : \"\") + \"]\";\nvar HEXDIG$$ = \"[0-9A-Fa-f]\"; //case-insensitive\nvar PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)); //expanded\n//RFC 5322, except these symbols as per RFC 6068: @ : / ? # [ ] & ; =\n//const ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\#\\\\$\\\\%\\\\&\\\\'\\\\*\\\\+\\\\-\\\\/\\\\=\\\\?\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QTEXT$$ = \"[\\\\x01-\\\\x08\\\\x0B\\\\x0C\\\\x0E-\\\\x1F\\\\x7F]\";  //(%d1-8 / %d11-12 / %d14-31 / %d127)\n//const QTEXT$$ = merge(\"[\\\\x21\\\\x23-\\\\x5B\\\\x5D-\\\\x7E]\", OBS_QTEXT$$);  //%d33 / %d35-91 / %d93-126 / obs-qtext\n//const VCHAR$$ = \"[\\\\x21-\\\\x7E]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QP$ = subexp(\"\\\\\\\\\" + merge(\"[\\\\x00\\\\x0D\\\\x0A]\", OBS_QTEXT$$));  //%d0 / CR / LF / obs-qtext\n//const FWS$ = subexp(subexp(WSP$$ + \"*\" + \"\\\\x0D\\\\x0A\") + \"?\" + WSP$$ + \"+\");\n//const QUOTED_PAIR$ = subexp(subexp(\"\\\\\\\\\" + subexp(VCHAR$$ + \"|\" + WSP$$)) + \"|\" + OBS_QP$);\n//const QUOTED_STRING$ = subexp('\\\\\"' + subexp(FWS$ + \"?\" + QCONTENT$) + \"*\" + FWS$ + \"?\" + '\\\\\"');\nvar ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\$\\\\%\\\\'\\\\*\\\\+\\\\-\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\nvar QTEXT$$ = \"[\\\\!\\\\$\\\\%\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\-\\\\.0-9\\\\<\\\\>A-Z\\\\x5E-\\\\x7E]\";\nvar VCHAR$$ = merge(QTEXT$$, \"[\\\\\\\"\\\\\\\\]\");\nvar SOME_DELIMS$$ = \"[\\\\!\\\\$\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\:\\\\@]\";\nvar UNRESERVED = new RegExp(UNRESERVED$$, \"g\");\nvar PCT_ENCODED = new RegExp(PCT_ENCODED$, \"g\");\nvar NOT_LOCAL_PART = new RegExp(merge(\"[^]\", ATEXT$$, \"[\\\\.]\", '[\\\\\"]', VCHAR$$), \"g\");\nvar NOT_HFNAME = new RegExp(merge(\"[^]\", UNRESERVED$$, SOME_DELIMS$$), \"g\");\nvar NOT_HFVALUE = NOT_HFNAME;\nfunction decodeUnreserved(str) {\n    var decStr = pctDecChars(str);\n    return !decStr.match(UNRESERVED) ? str : decStr;\n}\nvar handler$4 = {\n    scheme: \"mailto\",\n    parse: function parse$$1(components, options) {\n        var mailtoComponents = components;\n        var to = mailtoComponents.to = mailtoComponents.path ? mailtoComponents.path.split(\",\") : [];\n        mailtoComponents.path = undefined;\n        if (mailtoComponents.query) {\n            var unknownHeaders = false;\n            var headers = {};\n            var hfields = mailtoComponents.query.split(\"&\");\n            for (var x = 0, xl = hfields.length; x < xl; ++x) {\n                var hfield = hfields[x].split(\"=\");\n                switch (hfield[0]) {\n                    case \"to\":\n                        var toAddrs = hfield[1].split(\",\");\n                        for (var _x = 0, _xl = toAddrs.length; _x < _xl; ++_x) {\n                            to.push(toAddrs[_x]);\n                        }\n                        break;\n                    case \"subject\":\n                        mailtoComponents.subject = unescapeComponent(hfield[1], options);\n                        break;\n                    case \"body\":\n                        mailtoComponents.body = unescapeComponent(hfield[1], options);\n                        break;\n                    default:\n                        unknownHeaders = true;\n                        headers[unescapeComponent(hfield[0], options)] = unescapeComponent(hfield[1], options);\n                        break;\n                }\n            }\n            if (unknownHeaders) mailtoComponents.headers = headers;\n        }\n        mailtoComponents.query = undefined;\n        for (var _x2 = 0, _xl2 = to.length; _x2 < _xl2; ++_x2) {\n            var addr = to[_x2].split(\"@\");\n            addr[0] = unescapeComponent(addr[0]);\n            if (!options.unicodeSupport) {\n                //convert Unicode IDN -> ASCII IDN\n                try {\n                    addr[1] = punycode.toASCII(unescapeComponent(addr[1], options).toLowerCase());\n                } catch (e) {\n                    mailtoComponents.error = mailtoComponents.error || \"Email address's domain name can not be converted to ASCII via punycode: \" + e;\n                }\n            } else {\n                addr[1] = unescapeComponent(addr[1], options).toLowerCase();\n            }\n            to[_x2] = addr.join(\"@\");\n        }\n        return mailtoComponents;\n    },\n    serialize: function serialize$$1(mailtoComponents, options) {\n        var components = mailtoComponents;\n        var to = toArray(mailtoComponents.to);\n        if (to) {\n            for (var x = 0, xl = to.length; x < xl; ++x) {\n                var toAddr = String(to[x]);\n                var atIdx = toAddr.lastIndexOf(\"@\");\n                var localPart = toAddr.slice(0, atIdx).replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_LOCAL_PART, pctEncChar);\n                var domain = toAddr.slice(atIdx + 1);\n                //convert IDN via punycode\n                try {\n                    domain = !options.iri ? punycode.toASCII(unescapeComponent(domain, options).toLowerCase()) : punycode.toUnicode(domain);\n                } catch (e) {\n                    components.error = components.error || \"Email address's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n                }\n                to[x] = localPart + \"@\" + domain;\n            }\n            components.path = to.join(\",\");\n        }\n        var headers = mailtoComponents.headers = mailtoComponents.headers || {};\n        if (mailtoComponents.subject) headers[\"subject\"] = mailtoComponents.subject;\n        if (mailtoComponents.body) headers[\"body\"] = mailtoComponents.body;\n        var fields = [];\n        for (var name in headers) {\n            if (headers[name] !== O[name]) {\n                fields.push(name.replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFNAME, pctEncChar) + \"=\" + headers[name].replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFVALUE, pctEncChar));\n            }\n        }\n        if (fields.length) {\n            components.query = fields.join(\"&\");\n        }\n        return components;\n    }\n};\n\nvar URN_PARSE = /^([^\\:]+)\\:(.*)/;\n//RFC 2141\nvar handler$5 = {\n    scheme: \"urn\",\n    parse: function parse$$1(components, options) {\n        var matches = components.path && components.path.match(URN_PARSE);\n        var urnComponents = components;\n        if (matches) {\n            var scheme = options.scheme || urnComponents.scheme || \"urn\";\n            var nid = matches[1].toLowerCase();\n            var nss = matches[2];\n            var urnScheme = scheme + \":\" + (options.nid || nid);\n            var schemeHandler = SCHEMES[urnScheme];\n            urnComponents.nid = nid;\n            urnComponents.nss = nss;\n            urnComponents.path = undefined;\n            if (schemeHandler) {\n                urnComponents = schemeHandler.parse(urnComponents, options);\n            }\n        } else {\n            urnComponents.error = urnComponents.error || \"URN can not be parsed.\";\n        }\n        return urnComponents;\n    },\n    serialize: function serialize$$1(urnComponents, options) {\n        var scheme = options.scheme || urnComponents.scheme || \"urn\";\n        var nid = urnComponents.nid;\n        var urnScheme = scheme + \":\" + (options.nid || nid);\n        var schemeHandler = SCHEMES[urnScheme];\n        if (schemeHandler) {\n            urnComponents = schemeHandler.serialize(urnComponents, options);\n        }\n        var uriComponents = urnComponents;\n        var nss = urnComponents.nss;\n        uriComponents.path = (nid || options.nid) + \":\" + nss;\n        return uriComponents;\n    }\n};\n\nvar UUID = /^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/;\n//RFC 4122\nvar handler$6 = {\n    scheme: \"urn:uuid\",\n    parse: function parse(urnComponents, options) {\n        var uuidComponents = urnComponents;\n        uuidComponents.uuid = uuidComponents.nss;\n        uuidComponents.nss = undefined;\n        if (!options.tolerant && (!uuidComponents.uuid || !uuidComponents.uuid.match(UUID))) {\n            uuidComponents.error = uuidComponents.error || \"UUID is not valid.\";\n        }\n        return uuidComponents;\n    },\n    serialize: function serialize(uuidComponents, options) {\n        var urnComponents = uuidComponents;\n        //normalize UUID\n        urnComponents.nss = (uuidComponents.uuid || \"\").toLowerCase();\n        return urnComponents;\n    }\n};\n\nSCHEMES[handler.scheme] = handler;\nSCHEMES[handler$1.scheme] = handler$1;\nSCHEMES[handler$2.scheme] = handler$2;\nSCHEMES[handler$3.scheme] = handler$3;\nSCHEMES[handler$4.scheme] = handler$4;\nSCHEMES[handler$5.scheme] = handler$5;\nSCHEMES[handler$6.scheme] = handler$6;\n\nexports.SCHEMES = SCHEMES;\nexports.pctEncChar = pctEncChar;\nexports.pctDecChars = pctDecChars;\nexports.parse = parse;\nexports.removeDotSegments = removeDotSegments;\nexports.serialize = serialize;\nexports.resolveComponents = resolveComponents;\nexports.resolve = resolve;\nexports.normalize = normalize;\nexports.equal = equal;\nexports.escapeComponent = escapeComponent;\nexports.unescapeComponent = unescapeComponent;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=uri.all.js.map\n","'use strict'\nmodule.exports = function (Yallist) {\n  Yallist.prototype[Symbol.iterator] = function* () {\n    for (let walker = this.head; walker; walker = walker.next) {\n      yield walker.value\n    }\n  }\n}\n","'use strict'\nmodule.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n\n  return next\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.splice = function (start, deleteCount, ...nodes) {\n  if (start > this.length) {\n    start = this.length - 1\n  }\n  if (start < 0) {\n    start = this.length + start;\n  }\n\n  for (var i = 0, walker = this.head; walker !== null && i < start; i++) {\n    walker = walker.next\n  }\n\n  var ret = []\n  for (var i = 0; walker && i < deleteCount; i++) {\n    ret.push(walker.value)\n    walker = this.removeNode(walker)\n  }\n  if (walker === null) {\n    walker = this.tail\n  }\n\n  if (walker !== this.head && walker !== this.tail) {\n    walker = walker.prev\n  }\n\n  for (var i = 0; i < nodes.length; i++) {\n    walker = insert(this, walker, nodes[i])\n  }\n  return ret;\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction insert (self, node, value) {\n  var inserted = node === self.head ?\n    new Node(value, null, node, self) :\n    new Node(value, node, node.next, self)\n\n  if (inserted.next === null) {\n    self.tail = inserted\n  }\n  if (inserted.prev === null) {\n    self.head = inserted\n  }\n\n  self.length++\n\n  return inserted\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n\ntry {\n  // add if support for Symbol.iterator is present\n  require('./iterator.js')(Yallist)\n} catch (er) {}\n","module.exports = require(\"assert\");","module.exports = require(\"crypto\");","module.exports = require(\"electron\");","module.exports = require(\"events\");","module.exports = require(\"fs\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"util\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the module cache\n__webpack_require__.c = __webpack_module_cache__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// module cache are used so entry inlining is disabled\n// startup\n// Load entry module and return exports\nvar __webpack_exports__ = __webpack_require__(1319);\n"],"sourceRoot":""}